(function () {
    'use strict';

    const EPSILON = Math.pow(2, -52);

    class Delaunator {

        static from(points, getX, getY) {
            if (!getX) getX = defaultGetX;
            if (!getY) getY = defaultGetY;

            const n = points.length;
            const coords = new Float64Array(n * 2);

            for (let i = 0; i < n; i++) {
                const p = points[i];
                coords[2 * i] = getX(p);
                coords[2 * i + 1] = getY(p);
            }

            return new Delaunator(coords);
        }

        constructor(coords) {
            let minX = Infinity;
            let minY = Infinity;
            let maxX = -Infinity;
            let maxY = -Infinity;

            const n = coords.length >> 1;
            const ids = this.ids = new Uint32Array(n);

            if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');

            this.coords = coords;

            for (let i = 0; i < n; i++) {
                const x = coords[2 * i];
                const y = coords[2 * i + 1];
                if (x < minX) minX = x;
                if (y < minY) minY = y;
                if (x > maxX) maxX = x;
                if (y > maxY) maxY = y;
                ids[i] = i;
            }

            const cx = (minX + maxX) / 2;
            const cy = (minY + maxY) / 2;

            let minDist = Infinity;
            let i0, i1, i2;

            // pick a seed point close to the centroid
            for (let i = 0; i < n; i++) {
                const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);
                if (d < minDist) {
                    i0 = i;
                    minDist = d;
                }
            }
            const i0x = coords[2 * i0];
            const i0y = coords[2 * i0 + 1];

            minDist = Infinity;

            // find the point closest to the seed
            for (let i = 0; i < n; i++) {
                if (i === i0) continue;
                const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);
                if (d < minDist && d > 0) {
                    i1 = i;
                    minDist = d;
                }
            }
            let i1x = coords[2 * i1];
            let i1y = coords[2 * i1 + 1];

            let minRadius = Infinity;

            // find the third point which forms the smallest circumcircle with the first two
            for (let i = 0; i < n; i++) {
                if (i === i0 || i === i1) continue;
                const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);
                if (r < minRadius) {
                    i2 = i;
                    minRadius = r;
                }
            }
            let i2x = coords[2 * i2];
            let i2y = coords[2 * i2 + 1];

            if (minRadius === Infinity) {
                throw new Error('No Delaunay triangulation exists for this input.');
            }

            // swap the order of the seed points for counter-clockwise orientation
            if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {
                const i = i1;
                const x = i1x;
                const y = i1y;
                i1 = i2;
                i1x = i2x;
                i1y = i2y;
                i2 = i;
                i2x = x;
                i2y = y;
            }

            const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);
            this._cx = center.x;
            this._cy = center.y;

            // sort the points by distance from the seed triangle circumcenter
            quicksort(ids, coords, 0, ids.length - 1, center.x, center.y);

            // initialize a hash table for storing edges of the advancing convex hull
            this._hashSize = Math.ceil(Math.sqrt(n));
            this._hash = new Array(this._hashSize);

            // initialize a circular doubly-linked list that will hold an advancing convex hull
            let e = this.hull = insertNode(coords, i0);
            this._hashEdge(e);
            e.t = 0;
            e = insertNode(coords, i1, e);
            this._hashEdge(e);
            e.t = 1;
            e = insertNode(coords, i2, e);
            this._hashEdge(e);
            e.t = 2;

            const maxTriangles = 2 * n - 5;
            const triangles = this.triangles = new Uint32Array(maxTriangles * 3);
            const halfedges = this.halfedges = new Int32Array(maxTriangles * 3);

            this.trianglesLen = 0;

            this._addTriangle(i0, i1, i2, -1, -1, -1);

            for (let k = 0, xp, yp; k < ids.length; k++) {
                const i = ids[k];
                const x = coords[2 * i];
                const y = coords[2 * i + 1];

                // skip near-duplicate points
                if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;
                xp = x;
                yp = y;

                // skip seed triangle points
                if (i === i0 || i === i1 || i === i2) continue;

                // find a visible edge on the convex hull using edge hash
                const startKey = this._hashKey(x, y);
                let key = startKey;
                let start;
                do {
                    start = this._hash[key];
                    key = (key + 1) % this._hashSize;
                } while ((!start || start.removed) && key !== startKey);

                start = start.prev;
                e = start;
                while (!orient(x, y, e.x, e.y, e.next.x, e.next.y)) {
                    e = e.next;
                    if (e === start) {
                        e = null;
                        break;
                    }
                }
                // likely a near-duplicate point; skip it
                if (!e) continue;

                const walkBack = e === start;

                // add the first triangle from the point
                let t = this._addTriangle(e.i, i, e.next.i, -1, -1, e.t);

                e.t = t; // keep track of boundary triangles on the hull
                e = insertNode(coords, i, e);

                // recursively flip triangles from the point until they satisfy the Delaunay condition
                e.t = this._legalize(t + 2);

                // walk forward through the hull, adding more triangles and flipping recursively
                let q = e.next;
                while (orient(x, y, q.x, q.y, q.next.x, q.next.y)) {
                    t = this._addTriangle(q.i, i, q.next.i, q.prev.t, -1, q.t);
                    q.prev.t = this._legalize(t + 2);
                    this.hull = removeNode(q);
                    q = q.next;
                }

                if (walkBack) {
                    // walk backward from the other side, adding more triangles and flipping
                    q = e.prev;
                    while (orient(x, y, q.prev.x, q.prev.y, q.x, q.y)) {
                        t = this._addTriangle(q.prev.i, i, q.i, -1, q.t, q.prev.t);
                        this._legalize(t + 2);
                        q.prev.t = t;
                        this.hull = removeNode(q);
                        q = q.prev;
                    }
                }

                // save the two new edges in the hash table
                this._hashEdge(e);
                this._hashEdge(e.prev);
            }

            // trim typed triangle mesh arrays
            this.triangles = triangles.subarray(0, this.trianglesLen);
            this.halfedges = halfedges.subarray(0, this.trianglesLen);
        }

        _hashEdge(e) {
            this._hash[this._hashKey(e.x, e.y)] = e;
        }

        _hashKey(x, y) {
            return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;
        }

        _legalize(a) {
            const {triangles, coords, halfedges} = this;

            const b = halfedges[a];

            /* if the pair of triangles doesn't satisfy the Delaunay condition
             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,
             * then do the same check/flip recursively for the new pair of triangles
             *
             *           pl                    pl
             *          /||\                  /  \
             *       al/ || \bl            al/    \a
             *        /  ||  \              /      \
             *       /  a||b  \    flip    /___ar___\
             *     p0\   ||   /p1   =>   p0\---bl---/p1
             *        \  ||  /              \      /
             *       ar\ || /br             b\    /br
             *          \||/                  \  /
             *           pr                    pr
             */
            const a0 = a - a % 3;
            const b0 = b - b % 3;

            const al = a0 + (a + 1) % 3;
            const ar = a0 + (a + 2) % 3;
            const bl = b0 + (b + 2) % 3;

            if (b === -1) return ar;

            const p0 = triangles[ar];
            const pr = triangles[a];
            const pl = triangles[al];
            const p1 = triangles[bl];

            const illegal = inCircle(
                coords[2 * p0], coords[2 * p0 + 1],
                coords[2 * pr], coords[2 * pr + 1],
                coords[2 * pl], coords[2 * pl + 1],
                coords[2 * p1], coords[2 * p1 + 1]);

            if (illegal) {
                triangles[a] = p1;
                triangles[b] = p0;

                const hbl = halfedges[bl];

                // edge swapped on the other side of the hull (rare); fix the halfedge reference
                if (hbl === -1) {
                    let e = this.hull;
                    do {
                        if (e.t === bl) {
                            e.t = a;
                            break;
                        }
                        e = e.next;
                    } while (e !== this.hull);
                }
                this._link(a, hbl);
                this._link(b, halfedges[ar]);
                this._link(ar, bl);

                const br = b0 + (b + 1) % 3;

                this._legalize(a);
                return this._legalize(br);
            }

            return ar;
        }

        _link(a, b) {
            this.halfedges[a] = b;
            if (b !== -1) this.halfedges[b] = a;
        }

        // add a new triangle given vertex indices and adjacent half-edge ids
        _addTriangle(i0, i1, i2, a, b, c) {
            const t = this.trianglesLen;

            this.triangles[t] = i0;
            this.triangles[t + 1] = i1;
            this.triangles[t + 2] = i2;

            this._link(t, a);
            this._link(t + 1, b);
            this._link(t + 2, c);

            this.trianglesLen += 3;

            return t;
        }
    }

    // monotonically increases with real angle, but doesn't need expensive trigonometry
    function pseudoAngle(dx, dy) {
        const p = dx / (Math.abs(dx) + Math.abs(dy));
        return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]
    }

    function dist(ax, ay, bx, by) {
        const dx = ax - bx;
        const dy = ay - by;
        return dx * dx + dy * dy;
    }

    function orient(px, py, qx, qy, rx, ry) {
        return (qy - py) * (rx - qx) - (qx - px) * (ry - qy) < 0;
    }

    function inCircle(ax, ay, bx, by, cx, cy, px, py) {
        const dx = ax - px;
        const dy = ay - py;
        const ex = bx - px;
        const ey = by - py;
        const fx = cx - px;
        const fy = cy - py;

        const ap = dx * dx + dy * dy;
        const bp = ex * ex + ey * ey;
        const cp = fx * fx + fy * fy;

        return dx * (ey * cp - bp * fy) -
               dy * (ex * cp - bp * fx) +
               ap * (ex * fy - ey * fx) < 0;
    }

    function circumradius(ax, ay, bx, by, cx, cy) {
        const dx = bx - ax;
        const dy = by - ay;
        const ex = cx - ax;
        const ey = cy - ay;

        const bl = dx * dx + dy * dy;
        const cl = ex * ex + ey * ey;
        const d = dx * ey - dy * ex;

        const x = (ey * bl - dy * cl) * 0.5 / d;
        const y = (dx * cl - ex * bl) * 0.5 / d;

        return bl && cl && d && (x * x + y * y) || Infinity;
    }

    function circumcenter(ax, ay, bx, by, cx, cy) {
        const dx = bx - ax;
        const dy = by - ay;
        const ex = cx - ax;
        const ey = cy - ay;

        const bl = dx * dx + dy * dy;
        const cl = ex * ex + ey * ey;
        const d = dx * ey - dy * ex;

        const x = ax + (ey * bl - dy * cl) * 0.5 / d;
        const y = ay + (dx * cl - ex * bl) * 0.5 / d;

        return {x, y};
    }

    // create a new node in a doubly linked list
    function insertNode(coords, i, prev) {
        const node = {
            i,
            x: coords[2 * i],
            y: coords[2 * i + 1],
            t: 0,
            prev: null,
            next: null,
            removed: false
        };

        if (!prev) {
            node.prev = node;
            node.next = node;

        } else {
            node.next = prev.next;
            node.prev = prev;
            prev.next.prev = node;
            prev.next = node;
        }
        return node;
    }

    function removeNode(node) {
        node.prev.next = node.next;
        node.next.prev = node.prev;
        node.removed = true;
        return node.prev;
    }

    function quicksort(ids, coords, left, right, cx, cy) {
        let i, j, temp;

        if (right - left <= 20) {
            for (i = left + 1; i <= right; i++) {
                temp = ids[i];
                j = i - 1;
                while (j >= left && compare(coords, ids[j], temp, cx, cy) > 0) ids[j + 1] = ids[j--];
                ids[j + 1] = temp;
            }
        } else {
            const median = (left + right) >> 1;
            i = left + 1;
            j = right;
            swap(ids, median, i);
            if (compare(coords, ids[left], ids[right], cx, cy) > 0) swap(ids, left, right);
            if (compare(coords, ids[i], ids[right], cx, cy) > 0) swap(ids, i, right);
            if (compare(coords, ids[left], ids[i], cx, cy) > 0) swap(ids, left, i);

            temp = ids[i];
            while (true) {
                do i++; while (compare(coords, ids[i], temp, cx, cy) < 0);
                do j--; while (compare(coords, ids[j], temp, cx, cy) > 0);
                if (j < i) break;
                swap(ids, i, j);
            }
            ids[left + 1] = ids[j];
            ids[j] = temp;

            if (right - i + 1 >= j - left) {
                quicksort(ids, coords, i, right, cx, cy);
                quicksort(ids, coords, left, j - 1, cx, cy);
            } else {
                quicksort(ids, coords, left, j - 1, cx, cy);
                quicksort(ids, coords, i, right, cx, cy);
            }
        }
    }

    function compare(coords, i, j, cx, cy) {
        const d1 = dist(coords[2 * i], coords[2 * i + 1], cx, cy);
        const d2 = dist(coords[2 * j], coords[2 * j + 1], cx, cy);
        return (d1 - d2) || (coords[2 * i] - coords[2 * j]) || (coords[2 * i + 1] - coords[2 * j + 1]);
    }

    function swap(arr, i, j) {
        const tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }

    function defaultGetX(p) {
        return p[0];
    }
    function defaultGetY(p) {
        return p[1];
    }

    const epsilon = 1e-6;

    class Path {
      constructor() {
        this._x0 = this._y0 = // start of current subpath
        this._x1 = this._y1 = null; // end of current subpath
        this._ = "";
      }
      moveTo(x, y) {
        this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;
      }
      closePath() {
        if (this._x1 !== null) {
          this._x1 = this._x0, this._y1 = this._y0;
          this._ += "Z";
        }
      }
      lineTo(x, y) {
        this._ += `L${this._x1 = +x},${this._y1 = +y}`;
      }
      arc(x, y, r) {
        x = +x, y = +y, r = +r;
        const x0 = x + r;
        const y0 = y;
        if (r < 0) throw new Error("negative radius");
        if (this._x1 === null) this._ += `M${x0},${y0}`;
        else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += "L" + x0 + "," + y0;
        if (!r) return;
        this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;
      }
      rect(x, y, w, h) {
        this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;
      }
      value() {
        return this._ || null;
      }
    }

    class Polygon {
      constructor() {
        this._ = [];
      }
      moveTo(x, y) {
        this._.push([x, y]);
      }
      closePath() {
        this._.push(this._[0].slice());
      }
      lineTo(x, y) {
        this._.push([x, y]);
      }
      value() {
        return this._.length ? this._ : null;
      }
    }

    class Voronoi {
      constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {
        if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error("invalid bounds");
        const {points, hull, triangles} = this.delaunay = delaunay;
        const circumcenters = this.circumcenters = new Float64Array(triangles.length / 3 * 2);
        const vectors = this.vectors = new Float64Array(points.length * 2);
        this.xmax = xmax, this.xmin = xmin;
        this.ymax = ymax, this.ymin = ymin;

        // Compute circumcenters.
        for (let i = 0, j = 0, n = triangles.length; i < n; i += 3, j += 2) {
          const t1 = triangles[i] * 2;
          const t2 = triangles[i + 1] * 2;
          const t3 = triangles[i + 2] * 2;
          const x1 = points[t1];
          const y1 = points[t1 + 1];
          const x2 = points[t2];
          const y2 = points[t2 + 1];
          const x3 = points[t3];
          const y3 = points[t3 + 1];
          const a2 = x1 - x2;
          const a3 = x1 - x3;
          const b2 = y1 - y2;
          const b3 = y1 - y3;
          const d1 = x1 * x1 + y1 * y1;
          const d2 = d1 - x2 * x2 - y2 * y2;
          const d3 = d1 - x3 * x3 - y3 * y3;
          const ab = (a3 * b2 - a2 * b3) * 2;
          circumcenters[j] = (b2 * d3 - b3 * d2) / ab;
          circumcenters[j + 1] = (a3 * d2 - a2 * d3) / ab;
        }

        // Compute exterior cell rays.
        let node = hull;
        let p0, p1 = node.i * 4;
        let x0, x1 = node.x;
        let y0, y1 = node.y;
        do {
          node = node.next, p0 = p1, x0 = x1, y0 = y1, p1 = node.i * 4, x1 = node.x, y1 = node.y;
          vectors[p0 + 2] = vectors[p1] = y0 - y1;
          vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;
        } while (node !== hull);
      }
      render(context) {
        const buffer = context == null ? context = new Path : undefined;
        const {delaunay: {halfedges, hull}, circumcenters, vectors} = this;
        for (let i = 0, n = halfedges.length; i < n; ++i) {
          const j = halfedges[i];
          if (j < i) continue;
          const ti = Math.floor(i / 3) * 2;
          const tj = Math.floor(j / 3) * 2;
          const xi = circumcenters[ti];
          const yi = circumcenters[ti + 1];
          const xj = circumcenters[tj];
          const yj = circumcenters[tj + 1];
          this._renderSegment(xi, yi, xj, yj, context);
        }
        let node = hull;
        do {
          node = node.next;
          const t = Math.floor(node.t / 3) * 2;
          const x = circumcenters[t];
          const y = circumcenters[t + 1];
          const v = node.i * 4;
          const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);
          if (p) this._renderSegment(x, y, p[0], p[1], context);
        } while (node !== hull);
        return buffer && buffer.value();
      }
      renderBounds(context) {
        const buffer = context == null ? context = new Path : undefined;
        context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);
        return buffer && buffer.value();
      }
      renderCell(i, context) {
        const buffer = context == null ? context = new Path : undefined;
        const points = this._clip(i);
        if (points === null) return;
        context.moveTo(points[0], points[1]);
        for (let i = 2, n = points.length; i < n; i += 2) {
          context.lineTo(points[i], points[i + 1]);
        }
        context.closePath();
        return buffer && buffer.value();
      }
      *cellPolygons() {
        const {delaunay: {points}} = this;
        for (let i = 0, n = points.length / 2; i < n; ++i) {
          const cell = this.cellPolygon(i);
          if (cell) yield cell;
        }
      }
      cellPolygon(i) {
        const polygon = new Polygon;
        this.renderCell(i, polygon);
        return polygon.value();
      }
      _renderSegment(x0, y0, x1, y1, context) {
        let S;
        const c0 = this._regioncode(x0, y0);
        const c1 = this._regioncode(x1, y1);
        if (c0 === 0 && c1 === 0) {
          context.moveTo(x0, y0);
          context.lineTo(x1, y1);
        } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {
          context.moveTo(S[0], S[1]);
          context.lineTo(S[2], S[3]);
        }
      }
      contains(i, x, y) {
        if ((x = +x, x !== x) || (y = +y, y !== y)) return false;
        return this.delaunay._step(i, x, y) === i;
      }
      _cell(i) {
        const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;
        const e0 = inedges[i];
        if (e0 === -1) return null; // coincident point
        const points = [];
        let e = e0;
        do {
          const t = Math.floor(e / 3);
          points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);
          e = e % 3 === 2 ? e - 2 : e + 1;
          if (triangles[e] !== i) break; // bad triangulation
          e = halfedges[e];
        } while (e !== e0 && e !== -1);
        return points;
      }
      _clip(i) {
        const points = this._cell(i);
        if (points === null) return null;
        const {vectors: V} = this;
        const v = i * 4;
        return V[v] || V[v + 1]
            ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])
            : this._clipFinite(i, points);
      }
      _clipFinite(i, points) {
        const n = points.length;
        let P = null;
        let x0, y0, x1 = points[n - 2], y1 = points[n - 1];
        let c0, c1 = this._regioncode(x1, y1);
        let e0, e1;
        for (let j = 0; j < n; j += 2) {
          x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];
          c0 = c1, c1 = this._regioncode(x1, y1);
          if (c0 === 0 && c1 === 0) {
            e0 = e1, e1 = 0;
            if (P) P.push(x1, y1);
            else P = [x1, y1];
          } else {
            let S, sx0, sy0, sx1, sy1;
            if (c0 === 0) {
              if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;
              [sx0, sy0, sx1, sy1] = S;
            } else {
              if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;
              [sx1, sy1, sx0, sy0] = S;
              e0 = e1, e1 = this._edgecode(sx0, sy0);
              if (e0 && e1) this._edge(i, e0, e1, P, P.length);
              if (P) P.push(sx0, sy0);
              else P = [sx0, sy0];
            }
            e0 = e1, e1 = this._edgecode(sx1, sy1);
            if (e0 && e1) this._edge(i, e0, e1, P, P.length);
            if (P) P.push(sx1, sy1);
            else P = [sx1, sy1];
          }
        }
        if (P) {
          e0 = e1, e1 = this._edgecode(P[0], P[1]);
          if (e0 && e1) this._edge(i, e0, e1, P, P.length);
        } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {
          return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];
        }
        return P;
      }
      _clipSegment(x0, y0, x1, y1, c0, c1) {
        while (true) {
          if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];
          if (c0 & c1) return null;
          let x, y, c = c0 || c1;
          if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;
          else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;
          else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;
          else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;
          if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);
          else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);
        }
      }
      _clipInfinite(i, points, vx0, vy0, vxn, vyn) {
        let P = Array.from(points), p;
        if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);
        if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);
        if (P = this._clipFinite(i, P)) {
          for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {
            c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);
            if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;
          }
        } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {
          P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];
        }
        return P;
      }
      _edge(i, e0, e1, P, j) {
        while (e0 !== e1) {
          let x, y;
          switch (e0) {
            case 0b0101: e0 = 0b0100; continue; // top-left
            case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top
            case 0b0110: e0 = 0b0010; continue; // top-right
            case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right
            case 0b1010: e0 = 0b1000; continue; // bottom-right
            case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom
            case 0b1001: e0 = 0b0001; continue; // bottom-left
            case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left
          }
          if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {
            P.splice(j, 0, x, y), j += 2;
          }
        }
        return j;
      }
      _project(x0, y0, vx, vy) {
        let t = Infinity, c, x, y;
        if (vy < 0) { // top
          if (y0 <= this.ymin) return null;
          if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;
        } else if (vy > 0) { // bottom
          if (y0 >= this.ymax) return null;
          if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;
        }
        if (vx > 0) { // right
          if (x0 >= this.xmax) return null;
          if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;
        } else if (vx < 0) { // left
          if (x0 <= this.xmin) return null;
          if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;
        }
        return [x, y];
      }
      _edgecode(x, y) {
        return (x === this.xmin ? 0b0001
            : x === this.xmax ? 0b0010 : 0b0000)
            | (y === this.ymin ? 0b0100
            : y === this.ymax ? 0b1000 : 0b0000);
      }
      _regioncode(x, y) {
        return (x < this.xmin ? 0b0001
            : x > this.xmax ? 0b0010 : 0b0000)
            | (y < this.ymin ? 0b0100
            : y > this.ymax ? 0b1000 : 0b0000);
      }
    }

    const tau = 2 * Math.PI;

    function pointX(p) {
      return p[0];
    }

    function pointY(p) {
      return p[1];
    }

    class Delaunay {
      constructor(points) {
        const {halfedges, hull, triangles} = new Delaunator(points);
        this.points = points;
        this.halfedges = halfedges;
        this.hull = hull;
        this.triangles = triangles;
        const inedges = this.inedges = new Int32Array(points.length / 2).fill(-1);
        const outedges = this.outedges = new Int32Array(points.length / 2).fill(-1);

        // Compute an index from each point to an (arbitrary) incoming halfedge.
        for (let e = 0, n = halfedges.length; e < n; ++e) {
          inedges[triangles[e % 3 === 2 ? e - 2 : e + 1]] = e;
        }

        // For points on the hull, index both the incoming and outgoing halfedges.
        let node0, node1 = hull;
        do {
          node0 = node1, node1 = node1.next;
          inedges[node1.i] = node0.t;
          outedges[node0.i] = node1.t;
        } while (node1 !== hull);
      }
      voronoi(bounds) {
        return new Voronoi(this, bounds);
      }
      *neighbors(i) {
        const {inedges, outedges, halfedges, triangles} = this;
        const e0 = inedges[i];
        if (e0 === -1) return; // coincident point
        let e = e0;
        do {
          yield triangles[e];
          e = e % 3 === 2 ? e - 2 : e + 1;
          if (triangles[e] !== i) return; // bad triangulation
          e = halfedges[e];
          if (e === -1) return yield triangles[outedges[i]];
        } while (e !== e0);
      }
      find(x, y, i = 0) {
        if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;
        let c;
        while ((c = this._step(i, x, y)) >= 0 && c !== i) i = c;
        return c;
      }
      _step(i, x, y) {
        const {inedges, points} = this;
        if (inedges[i] === -1) return -1; // coincident point
        let c = i;
        let dc = (x - points[i * 2]) ** 2 + (y - points[i * 2 + 1]) ** 2;
        for (const t of this.neighbors(i)) {
          const dt = (x - points[t * 2]) ** 2 + (y - points[t * 2 + 1]) ** 2;
          if (dt < dc) dc = dt, c = t;
        }
        return c;
      }
      render(context) {
        const buffer = context == null ? context = new Path : undefined;
        const {points, halfedges, triangles} = this;
        for (let i = 0, n = halfedges.length; i < n; ++i) {
          const j = halfedges[i];
          if (j < i) continue;
          const ti = triangles[i] * 2;
          const tj = triangles[j] * 2;
          context.moveTo(points[ti], points[ti + 1]);
          context.lineTo(points[tj], points[tj + 1]);
        }
        this.renderHull(context);
        return buffer && buffer.value();
      }
      renderPoints(context, r = 2) {
        const buffer = context == null ? context = new Path : undefined;
        const {points} = this;
        for (let i = 0, n = points.length; i < n; i += 2) {
          const x = points[i], y = points[i + 1];
          context.moveTo(x + r, y);
          context.arc(x, y, r, 0, tau);
        }
        return buffer && buffer.value();
      }
      renderHull(context) {
        const buffer = context == null ? context = new Path : undefined;
        const {hull} = this;
        let node = hull;
        context.moveTo(node.x, node.y);
        while (node = node.next, node !== hull) context.lineTo(node.x, node.y);
        context.closePath();
        return buffer && buffer.value();
      }
      hullPolygon() {
        const polygon = new Polygon;
        this.renderHull(polygon);
        return polygon.value();
      }
      renderTriangle(i, context) {
        const buffer = context == null ? context = new Path : undefined;
        const {points, triangles} = this;
        const t0 = triangles[i *= 3] * 2;
        const t1 = triangles[i + 1] * 2;
        const t2 = triangles[i + 2] * 2;
        context.moveTo(points[t0], points[t0 + 1]);
        context.lineTo(points[t1], points[t1 + 1]);
        context.lineTo(points[t2], points[t2 + 1]);
        context.closePath();
        return buffer && buffer.value();
      }
      *trianglePolygons() {
        const {triangles} = this;
        for (let i = 0, n = triangles.length / 3; i < n; ++i) {
          yield this.trianglePolygon(i);
        }
      }
      trianglePolygon(i) {
        const polygon = new Polygon;
        this.renderTriangle(i, polygon);
        return polygon.value();
      }
    }

    Delaunay.from = function(points, fx = pointX, fy = pointY, that) {
      return new Delaunay("length" in points
          ? flatArray(points, fx, fy, that)
          : Float64Array.from(flatIterable(points, fx, fy, that)));
    };

    function flatArray(points, fx, fy, that) {
      const n = points.length;
      const array = new Float64Array(n * 2);
      for (let i = 0; i < n; ++i) {
        const p = points[i];
        array[i * 2] = fx.call(that, p, i, points);
        array[i * 2 + 1] = fy.call(that, p, i, points);
      }
      return array;
    }

    function* flatIterable(points, fx, fy, that) {
      let i = 0;
      for (const p of points) {
        yield fx.call(that, p, i, points);
        yield fy.call(that, p, i, points);
        ++i;
      }
    }

    var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

    function createCommonjsModule(fn, module) {
    	return module = { exports: {} }, fn(module, module.exports), module.exports;
    }

    var underscore = createCommonjsModule(function (module, exports) {
    //     Underscore.js 1.9.1
    //     http://underscorejs.org
    //     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
    //     Underscore may be freely distributed under the MIT license.

    (function() {

      // Baseline setup
      // --------------

      // Establish the root object, `window` (`self`) in the browser, `global`
      // on the server, or `this` in some virtual machines. We use `self`
      // instead of `window` for `WebWorker` support.
      var root = typeof self == 'object' && self.self === self && self ||
                typeof commonjsGlobal == 'object' && commonjsGlobal.global === commonjsGlobal && commonjsGlobal ||
                this ||
                {};

      // Save the previous value of the `_` variable.
      var previousUnderscore = root._;

      // Save bytes in the minified (but not gzipped) version:
      var ArrayProto = Array.prototype, ObjProto = Object.prototype;
      var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;

      // Create quick reference variables for speed access to core prototypes.
      var push = ArrayProto.push,
          slice = ArrayProto.slice,
          toString = ObjProto.toString,
          hasOwnProperty = ObjProto.hasOwnProperty;

      // All **ECMAScript 5** native function implementations that we hope to use
      // are declared here.
      var nativeIsArray = Array.isArray,
          nativeKeys = Object.keys,
          nativeCreate = Object.create;

      // Naked function reference for surrogate-prototype-swapping.
      var Ctor = function(){};

      // Create a safe reference to the Underscore object for use below.
      var _ = function(obj) {
        if (obj instanceof _) return obj;
        if (!(this instanceof _)) return new _(obj);
        this._wrapped = obj;
      };

      // Export the Underscore object for **Node.js**, with
      // backwards-compatibility for their old module API. If we're in
      // the browser, add `_` as a global object.
      // (`nodeType` is checked to ensure that `module`
      // and `exports` are not HTML elements.)
      if (!exports.nodeType) {
        if (!module.nodeType && module.exports) {
          exports = module.exports = _;
        }
        exports._ = _;
      } else {
        root._ = _;
      }

      // Current version.
      _.VERSION = '1.9.1';

      // Internal function that returns an efficient (for current engines) version
      // of the passed-in callback, to be repeatedly applied in other Underscore
      // functions.
      var optimizeCb = function(func, context, argCount) {
        if (context === void 0) return func;
        switch (argCount == null ? 3 : argCount) {
          case 1: return function(value) {
            return func.call(context, value);
          };
          // The 2-argument case is omitted because we’re not using it.
          case 3: return function(value, index, collection) {
            return func.call(context, value, index, collection);
          };
          case 4: return function(accumulator, value, index, collection) {
            return func.call(context, accumulator, value, index, collection);
          };
        }
        return function() {
          return func.apply(context, arguments);
        };
      };

      var builtinIteratee;

      // An internal function to generate callbacks that can be applied to each
      // element in a collection, returning the desired result — either `identity`,
      // an arbitrary callback, a property matcher, or a property accessor.
      var cb = function(value, context, argCount) {
        if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);
        if (value == null) return _.identity;
        if (_.isFunction(value)) return optimizeCb(value, context, argCount);
        if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);
        return _.property(value);
      };

      // External wrapper for our callback generator. Users may customize
      // `_.iteratee` if they want additional predicate/iteratee shorthand styles.
      // This abstraction hides the internal-only argCount argument.
      _.iteratee = builtinIteratee = function(value, context) {
        return cb(value, context, Infinity);
      };

      // Some functions take a variable number of arguments, or a few expected
      // arguments at the beginning and then a variable number of values to operate
      // on. This helper accumulates all remaining arguments past the function’s
      // argument length (or an explicit `startIndex`), into an array that becomes
      // the last argument. Similar to ES6’s "rest parameter".
      var restArguments = function(func, startIndex) {
        startIndex = startIndex == null ? func.length - 1 : +startIndex;
        return function() {
          var length = Math.max(arguments.length - startIndex, 0),
              rest = Array(length),
              index = 0;
          for (; index < length; index++) {
            rest[index] = arguments[index + startIndex];
          }
          switch (startIndex) {
            case 0: return func.call(this, rest);
            case 1: return func.call(this, arguments[0], rest);
            case 2: return func.call(this, arguments[0], arguments[1], rest);
          }
          var args = Array(startIndex + 1);
          for (index = 0; index < startIndex; index++) {
            args[index] = arguments[index];
          }
          args[startIndex] = rest;
          return func.apply(this, args);
        };
      };

      // An internal function for creating a new object that inherits from another.
      var baseCreate = function(prototype) {
        if (!_.isObject(prototype)) return {};
        if (nativeCreate) return nativeCreate(prototype);
        Ctor.prototype = prototype;
        var result = new Ctor;
        Ctor.prototype = null;
        return result;
      };

      var shallowProperty = function(key) {
        return function(obj) {
          return obj == null ? void 0 : obj[key];
        };
      };

      var has = function(obj, path) {
        return obj != null && hasOwnProperty.call(obj, path);
      };

      var deepGet = function(obj, path) {
        var length = path.length;
        for (var i = 0; i < length; i++) {
          if (obj == null) return void 0;
          obj = obj[path[i]];
        }
        return length ? obj : void 0;
      };

      // Helper for collection methods to determine whether a collection
      // should be iterated as an array or as an object.
      // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength
      // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094
      var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;
      var getLength = shallowProperty('length');
      var isArrayLike = function(collection) {
        var length = getLength(collection);
        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;
      };

      // Collection Functions
      // --------------------

      // The cornerstone, an `each` implementation, aka `forEach`.
      // Handles raw objects in addition to array-likes. Treats all
      // sparse array-likes as if they were dense.
      _.each = _.forEach = function(obj, iteratee, context) {
        iteratee = optimizeCb(iteratee, context);
        var i, length;
        if (isArrayLike(obj)) {
          for (i = 0, length = obj.length; i < length; i++) {
            iteratee(obj[i], i, obj);
          }
        } else {
          var keys = _.keys(obj);
          for (i = 0, length = keys.length; i < length; i++) {
            iteratee(obj[keys[i]], keys[i], obj);
          }
        }
        return obj;
      };

      // Return the results of applying the iteratee to each element.
      _.map = _.collect = function(obj, iteratee, context) {
        iteratee = cb(iteratee, context);
        var keys = !isArrayLike(obj) && _.keys(obj),
            length = (keys || obj).length,
            results = Array(length);
        for (var index = 0; index < length; index++) {
          var currentKey = keys ? keys[index] : index;
          results[index] = iteratee(obj[currentKey], currentKey, obj);
        }
        return results;
      };

      // Create a reducing function iterating left or right.
      var createReduce = function(dir) {
        // Wrap code that reassigns argument variables in a separate function than
        // the one that accesses `arguments.length` to avoid a perf hit. (#1991)
        var reducer = function(obj, iteratee, memo, initial) {
          var keys = !isArrayLike(obj) && _.keys(obj),
              length = (keys || obj).length,
              index = dir > 0 ? 0 : length - 1;
          if (!initial) {
            memo = obj[keys ? keys[index] : index];
            index += dir;
          }
          for (; index >= 0 && index < length; index += dir) {
            var currentKey = keys ? keys[index] : index;
            memo = iteratee(memo, obj[currentKey], currentKey, obj);
          }
          return memo;
        };

        return function(obj, iteratee, memo, context) {
          var initial = arguments.length >= 3;
          return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);
        };
      };

      // **Reduce** builds up a single result from a list of values, aka `inject`,
      // or `foldl`.
      _.reduce = _.foldl = _.inject = createReduce(1);

      // The right-associative version of reduce, also known as `foldr`.
      _.reduceRight = _.foldr = createReduce(-1);

      // Return the first value which passes a truth test. Aliased as `detect`.
      _.find = _.detect = function(obj, predicate, context) {
        var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;
        var key = keyFinder(obj, predicate, context);
        if (key !== void 0 && key !== -1) return obj[key];
      };

      // Return all the elements that pass a truth test.
      // Aliased as `select`.
      _.filter = _.select = function(obj, predicate, context) {
        var results = [];
        predicate = cb(predicate, context);
        _.each(obj, function(value, index, list) {
          if (predicate(value, index, list)) results.push(value);
        });
        return results;
      };

      // Return all the elements for which a truth test fails.
      _.reject = function(obj, predicate, context) {
        return _.filter(obj, _.negate(cb(predicate)), context);
      };

      // Determine whether all of the elements match a truth test.
      // Aliased as `all`.
      _.every = _.all = function(obj, predicate, context) {
        predicate = cb(predicate, context);
        var keys = !isArrayLike(obj) && _.keys(obj),
            length = (keys || obj).length;
        for (var index = 0; index < length; index++) {
          var currentKey = keys ? keys[index] : index;
          if (!predicate(obj[currentKey], currentKey, obj)) return false;
        }
        return true;
      };

      // Determine if at least one element in the object matches a truth test.
      // Aliased as `any`.
      _.some = _.any = function(obj, predicate, context) {
        predicate = cb(predicate, context);
        var keys = !isArrayLike(obj) && _.keys(obj),
            length = (keys || obj).length;
        for (var index = 0; index < length; index++) {
          var currentKey = keys ? keys[index] : index;
          if (predicate(obj[currentKey], currentKey, obj)) return true;
        }
        return false;
      };

      // Determine if the array or object contains a given item (using `===`).
      // Aliased as `includes` and `include`.
      _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {
        if (!isArrayLike(obj)) obj = _.values(obj);
        if (typeof fromIndex != 'number' || guard) fromIndex = 0;
        return _.indexOf(obj, item, fromIndex) >= 0;
      };

      // Invoke a method (with arguments) on every item in a collection.
      _.invoke = restArguments(function(obj, path, args) {
        var contextPath, func;
        if (_.isFunction(path)) {
          func = path;
        } else if (_.isArray(path)) {
          contextPath = path.slice(0, -1);
          path = path[path.length - 1];
        }
        return _.map(obj, function(context) {
          var method = func;
          if (!method) {
            if (contextPath && contextPath.length) {
              context = deepGet(context, contextPath);
            }
            if (context == null) return void 0;
            method = context[path];
          }
          return method == null ? method : method.apply(context, args);
        });
      });

      // Convenience version of a common use case of `map`: fetching a property.
      _.pluck = function(obj, key) {
        return _.map(obj, _.property(key));
      };

      // Convenience version of a common use case of `filter`: selecting only objects
      // containing specific `key:value` pairs.
      _.where = function(obj, attrs) {
        return _.filter(obj, _.matcher(attrs));
      };

      // Convenience version of a common use case of `find`: getting the first object
      // containing specific `key:value` pairs.
      _.findWhere = function(obj, attrs) {
        return _.find(obj, _.matcher(attrs));
      };

      // Return the maximum element (or element-based computation).
      _.max = function(obj, iteratee, context) {
        var result = -Infinity, lastComputed = -Infinity,
            value, computed;
        if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {
          obj = isArrayLike(obj) ? obj : _.values(obj);
          for (var i = 0, length = obj.length; i < length; i++) {
            value = obj[i];
            if (value != null && value > result) {
              result = value;
            }
          }
        } else {
          iteratee = cb(iteratee, context);
          _.each(obj, function(v, index, list) {
            computed = iteratee(v, index, list);
            if (computed > lastComputed || computed === -Infinity && result === -Infinity) {
              result = v;
              lastComputed = computed;
            }
          });
        }
        return result;
      };

      // Return the minimum element (or element-based computation).
      _.min = function(obj, iteratee, context) {
        var result = Infinity, lastComputed = Infinity,
            value, computed;
        if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {
          obj = isArrayLike(obj) ? obj : _.values(obj);
          for (var i = 0, length = obj.length; i < length; i++) {
            value = obj[i];
            if (value != null && value < result) {
              result = value;
            }
          }
        } else {
          iteratee = cb(iteratee, context);
          _.each(obj, function(v, index, list) {
            computed = iteratee(v, index, list);
            if (computed < lastComputed || computed === Infinity && result === Infinity) {
              result = v;
              lastComputed = computed;
            }
          });
        }
        return result;
      };

      // Shuffle a collection.
      _.shuffle = function(obj) {
        return _.sample(obj, Infinity);
      };

      // Sample **n** random values from a collection using the modern version of the
      // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).
      // If **n** is not specified, returns a single random element.
      // The internal `guard` argument allows it to work with `map`.
      _.sample = function(obj, n, guard) {
        if (n == null || guard) {
          if (!isArrayLike(obj)) obj = _.values(obj);
          return obj[_.random(obj.length - 1)];
        }
        var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);
        var length = getLength(sample);
        n = Math.max(Math.min(n, length), 0);
        var last = length - 1;
        for (var index = 0; index < n; index++) {
          var rand = _.random(index, last);
          var temp = sample[index];
          sample[index] = sample[rand];
          sample[rand] = temp;
        }
        return sample.slice(0, n);
      };

      // Sort the object's values by a criterion produced by an iteratee.
      _.sortBy = function(obj, iteratee, context) {
        var index = 0;
        iteratee = cb(iteratee, context);
        return _.pluck(_.map(obj, function(value, key, list) {
          return {
            value: value,
            index: index++,
            criteria: iteratee(value, key, list)
          };
        }).sort(function(left, right) {
          var a = left.criteria;
          var b = right.criteria;
          if (a !== b) {
            if (a > b || a === void 0) return 1;
            if (a < b || b === void 0) return -1;
          }
          return left.index - right.index;
        }), 'value');
      };

      // An internal function used for aggregate "group by" operations.
      var group = function(behavior, partition) {
        return function(obj, iteratee, context) {
          var result = partition ? [[], []] : {};
          iteratee = cb(iteratee, context);
          _.each(obj, function(value, index) {
            var key = iteratee(value, index, obj);
            behavior(result, value, key);
          });
          return result;
        };
      };

      // Groups the object's values by a criterion. Pass either a string attribute
      // to group by, or a function that returns the criterion.
      _.groupBy = group(function(result, value, key) {
        if (has(result, key)) result[key].push(value); else result[key] = [value];
      });

      // Indexes the object's values by a criterion, similar to `groupBy`, but for
      // when you know that your index values will be unique.
      _.indexBy = group(function(result, value, key) {
        result[key] = value;
      });

      // Counts instances of an object that group by a certain criterion. Pass
      // either a string attribute to count by, or a function that returns the
      // criterion.
      _.countBy = group(function(result, value, key) {
        if (has(result, key)) result[key]++; else result[key] = 1;
      });

      var reStrSymbol = /[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;
      // Safely create a real, live array from anything iterable.
      _.toArray = function(obj) {
        if (!obj) return [];
        if (_.isArray(obj)) return slice.call(obj);
        if (_.isString(obj)) {
          // Keep surrogate pair characters together
          return obj.match(reStrSymbol);
        }
        if (isArrayLike(obj)) return _.map(obj, _.identity);
        return _.values(obj);
      };

      // Return the number of elements in an object.
      _.size = function(obj) {
        if (obj == null) return 0;
        return isArrayLike(obj) ? obj.length : _.keys(obj).length;
      };

      // Split a collection into two arrays: one whose elements all satisfy the given
      // predicate, and one whose elements all do not satisfy the predicate.
      _.partition = group(function(result, value, pass) {
        result[pass ? 0 : 1].push(value);
      }, true);

      // Array Functions
      // ---------------

      // Get the first element of an array. Passing **n** will return the first N
      // values in the array. Aliased as `head` and `take`. The **guard** check
      // allows it to work with `_.map`.
      _.first = _.head = _.take = function(array, n, guard) {
        if (array == null || array.length < 1) return n == null ? void 0 : [];
        if (n == null || guard) return array[0];
        return _.initial(array, array.length - n);
      };

      // Returns everything but the last entry of the array. Especially useful on
      // the arguments object. Passing **n** will return all the values in
      // the array, excluding the last N.
      _.initial = function(array, n, guard) {
        return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
      };

      // Get the last element of an array. Passing **n** will return the last N
      // values in the array.
      _.last = function(array, n, guard) {
        if (array == null || array.length < 1) return n == null ? void 0 : [];
        if (n == null || guard) return array[array.length - 1];
        return _.rest(array, Math.max(0, array.length - n));
      };

      // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
      // Especially useful on the arguments object. Passing an **n** will return
      // the rest N values in the array.
      _.rest = _.tail = _.drop = function(array, n, guard) {
        return slice.call(array, n == null || guard ? 1 : n);
      };

      // Trim out all falsy values from an array.
      _.compact = function(array) {
        return _.filter(array, Boolean);
      };

      // Internal implementation of a recursive `flatten` function.
      var flatten = function(input, shallow, strict, output) {
        output = output || [];
        var idx = output.length;
        for (var i = 0, length = getLength(input); i < length; i++) {
          var value = input[i];
          if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {
            // Flatten current level of array or arguments object.
            if (shallow) {
              var j = 0, len = value.length;
              while (j < len) output[idx++] = value[j++];
            } else {
              flatten(value, shallow, strict, output);
              idx = output.length;
            }
          } else if (!strict) {
            output[idx++] = value;
          }
        }
        return output;
      };

      // Flatten out an array, either recursively (by default), or just one level.
      _.flatten = function(array, shallow) {
        return flatten(array, shallow, false);
      };

      // Return a version of the array that does not contain the specified value(s).
      _.without = restArguments(function(array, otherArrays) {
        return _.difference(array, otherArrays);
      });

      // Produce a duplicate-free version of the array. If the array has already
      // been sorted, you have the option of using a faster algorithm.
      // The faster algorithm will not work with an iteratee if the iteratee
      // is not a one-to-one function, so providing an iteratee will disable
      // the faster algorithm.
      // Aliased as `unique`.
      _.uniq = _.unique = function(array, isSorted, iteratee, context) {
        if (!_.isBoolean(isSorted)) {
          context = iteratee;
          iteratee = isSorted;
          isSorted = false;
        }
        if (iteratee != null) iteratee = cb(iteratee, context);
        var result = [];
        var seen = [];
        for (var i = 0, length = getLength(array); i < length; i++) {
          var value = array[i],
              computed = iteratee ? iteratee(value, i, array) : value;
          if (isSorted && !iteratee) {
            if (!i || seen !== computed) result.push(value);
            seen = computed;
          } else if (iteratee) {
            if (!_.contains(seen, computed)) {
              seen.push(computed);
              result.push(value);
            }
          } else if (!_.contains(result, value)) {
            result.push(value);
          }
        }
        return result;
      };

      // Produce an array that contains the union: each distinct element from all of
      // the passed-in arrays.
      _.union = restArguments(function(arrays) {
        return _.uniq(flatten(arrays, true, true));
      });

      // Produce an array that contains every item shared between all the
      // passed-in arrays.
      _.intersection = function(array) {
        var result = [];
        var argsLength = arguments.length;
        for (var i = 0, length = getLength(array); i < length; i++) {
          var item = array[i];
          if (_.contains(result, item)) continue;
          var j;
          for (j = 1; j < argsLength; j++) {
            if (!_.contains(arguments[j], item)) break;
          }
          if (j === argsLength) result.push(item);
        }
        return result;
      };

      // Take the difference between one array and a number of other arrays.
      // Only the elements present in just the first array will remain.
      _.difference = restArguments(function(array, rest) {
        rest = flatten(rest, true, true);
        return _.filter(array, function(value){
          return !_.contains(rest, value);
        });
      });

      // Complement of _.zip. Unzip accepts an array of arrays and groups
      // each array's elements on shared indices.
      _.unzip = function(array) {
        var length = array && _.max(array, getLength).length || 0;
        var result = Array(length);

        for (var index = 0; index < length; index++) {
          result[index] = _.pluck(array, index);
        }
        return result;
      };

      // Zip together multiple lists into a single array -- elements that share
      // an index go together.
      _.zip = restArguments(_.unzip);

      // Converts lists into objects. Pass either a single array of `[key, value]`
      // pairs, or two parallel arrays of the same length -- one of keys, and one of
      // the corresponding values. Passing by pairs is the reverse of _.pairs.
      _.object = function(list, values) {
        var result = {};
        for (var i = 0, length = getLength(list); i < length; i++) {
          if (values) {
            result[list[i]] = values[i];
          } else {
            result[list[i][0]] = list[i][1];
          }
        }
        return result;
      };

      // Generator function to create the findIndex and findLastIndex functions.
      var createPredicateIndexFinder = function(dir) {
        return function(array, predicate, context) {
          predicate = cb(predicate, context);
          var length = getLength(array);
          var index = dir > 0 ? 0 : length - 1;
          for (; index >= 0 && index < length; index += dir) {
            if (predicate(array[index], index, array)) return index;
          }
          return -1;
        };
      };

      // Returns the first index on an array-like that passes a predicate test.
      _.findIndex = createPredicateIndexFinder(1);
      _.findLastIndex = createPredicateIndexFinder(-1);

      // Use a comparator function to figure out the smallest index at which
      // an object should be inserted so as to maintain order. Uses binary search.
      _.sortedIndex = function(array, obj, iteratee, context) {
        iteratee = cb(iteratee, context, 1);
        var value = iteratee(obj);
        var low = 0, high = getLength(array);
        while (low < high) {
          var mid = Math.floor((low + high) / 2);
          if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;
        }
        return low;
      };

      // Generator function to create the indexOf and lastIndexOf functions.
      var createIndexFinder = function(dir, predicateFind, sortedIndex) {
        return function(array, item, idx) {
          var i = 0, length = getLength(array);
          if (typeof idx == 'number') {
            if (dir > 0) {
              i = idx >= 0 ? idx : Math.max(idx + length, i);
            } else {
              length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;
            }
          } else if (sortedIndex && idx && length) {
            idx = sortedIndex(array, item);
            return array[idx] === item ? idx : -1;
          }
          if (item !== item) {
            idx = predicateFind(slice.call(array, i, length), _.isNaN);
            return idx >= 0 ? idx + i : -1;
          }
          for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {
            if (array[idx] === item) return idx;
          }
          return -1;
        };
      };

      // Return the position of the first occurrence of an item in an array,
      // or -1 if the item is not included in the array.
      // If the array is large and already in sort order, pass `true`
      // for **isSorted** to use binary search.
      _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);
      _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);

      // Generate an integer Array containing an arithmetic progression. A port of
      // the native Python `range()` function. See
      // [the Python documentation](http://docs.python.org/library/functions.html#range).
      _.range = function(start, stop, step) {
        if (stop == null) {
          stop = start || 0;
          start = 0;
        }
        if (!step) {
          step = stop < start ? -1 : 1;
        }

        var length = Math.max(Math.ceil((stop - start) / step), 0);
        var range = Array(length);

        for (var idx = 0; idx < length; idx++, start += step) {
          range[idx] = start;
        }

        return range;
      };

      // Chunk a single array into multiple arrays, each containing `count` or fewer
      // items.
      _.chunk = function(array, count) {
        if (count == null || count < 1) return [];
        var result = [];
        var i = 0, length = array.length;
        while (i < length) {
          result.push(slice.call(array, i, i += count));
        }
        return result;
      };

      // Function (ahem) Functions
      // ------------------

      // Determines whether to execute a function as a constructor
      // or a normal function with the provided arguments.
      var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {
        if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);
        var self = baseCreate(sourceFunc.prototype);
        var result = sourceFunc.apply(self, args);
        if (_.isObject(result)) return result;
        return self;
      };

      // Create a function bound to a given object (assigning `this`, and arguments,
      // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
      // available.
      _.bind = restArguments(function(func, context, args) {
        if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');
        var bound = restArguments(function(callArgs) {
          return executeBound(func, bound, context, this, args.concat(callArgs));
        });
        return bound;
      });

      // Partially apply a function by creating a version that has had some of its
      // arguments pre-filled, without changing its dynamic `this` context. _ acts
      // as a placeholder by default, allowing any combination of arguments to be
      // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.
      _.partial = restArguments(function(func, boundArgs) {
        var placeholder = _.partial.placeholder;
        var bound = function() {
          var position = 0, length = boundArgs.length;
          var args = Array(length);
          for (var i = 0; i < length; i++) {
            args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];
          }
          while (position < arguments.length) args.push(arguments[position++]);
          return executeBound(func, bound, this, this, args);
        };
        return bound;
      });

      _.partial.placeholder = _;

      // Bind a number of an object's methods to that object. Remaining arguments
      // are the method names to be bound. Useful for ensuring that all callbacks
      // defined on an object belong to it.
      _.bindAll = restArguments(function(obj, keys) {
        keys = flatten(keys, false, false);
        var index = keys.length;
        if (index < 1) throw new Error('bindAll must be passed function names');
        while (index--) {
          var key = keys[index];
          obj[key] = _.bind(obj[key], obj);
        }
      });

      // Memoize an expensive function by storing its results.
      _.memoize = function(func, hasher) {
        var memoize = function(key) {
          var cache = memoize.cache;
          var address = '' + (hasher ? hasher.apply(this, arguments) : key);
          if (!has(cache, address)) cache[address] = func.apply(this, arguments);
          return cache[address];
        };
        memoize.cache = {};
        return memoize;
      };

      // Delays a function for the given number of milliseconds, and then calls
      // it with the arguments supplied.
      _.delay = restArguments(function(func, wait, args) {
        return setTimeout(function() {
          return func.apply(null, args);
        }, wait);
      });

      // Defers a function, scheduling it to run after the current call stack has
      // cleared.
      _.defer = _.partial(_.delay, _, 1);

      // Returns a function, that, when invoked, will only be triggered at most once
      // during a given window of time. Normally, the throttled function will run
      // as much as it can, without ever going more than once per `wait` duration;
      // but if you'd like to disable the execution on the leading edge, pass
      // `{leading: false}`. To disable execution on the trailing edge, ditto.
      _.throttle = function(func, wait, options) {
        var timeout, context, args, result;
        var previous = 0;
        if (!options) options = {};

        var later = function() {
          previous = options.leading === false ? 0 : _.now();
          timeout = null;
          result = func.apply(context, args);
          if (!timeout) context = args = null;
        };

        var throttled = function() {
          var now = _.now();
          if (!previous && options.leading === false) previous = now;
          var remaining = wait - (now - previous);
          context = this;
          args = arguments;
          if (remaining <= 0 || remaining > wait) {
            if (timeout) {
              clearTimeout(timeout);
              timeout = null;
            }
            previous = now;
            result = func.apply(context, args);
            if (!timeout) context = args = null;
          } else if (!timeout && options.trailing !== false) {
            timeout = setTimeout(later, remaining);
          }
          return result;
        };

        throttled.cancel = function() {
          clearTimeout(timeout);
          previous = 0;
          timeout = context = args = null;
        };

        return throttled;
      };

      // Returns a function, that, as long as it continues to be invoked, will not
      // be triggered. The function will be called after it stops being called for
      // N milliseconds. If `immediate` is passed, trigger the function on the
      // leading edge, instead of the trailing.
      _.debounce = function(func, wait, immediate) {
        var timeout, result;

        var later = function(context, args) {
          timeout = null;
          if (args) result = func.apply(context, args);
        };

        var debounced = restArguments(function(args) {
          if (timeout) clearTimeout(timeout);
          if (immediate) {
            var callNow = !timeout;
            timeout = setTimeout(later, wait);
            if (callNow) result = func.apply(this, args);
          } else {
            timeout = _.delay(later, wait, this, args);
          }

          return result;
        });

        debounced.cancel = function() {
          clearTimeout(timeout);
          timeout = null;
        };

        return debounced;
      };

      // Returns the first function passed as an argument to the second,
      // allowing you to adjust arguments, run code before and after, and
      // conditionally execute the original function.
      _.wrap = function(func, wrapper) {
        return _.partial(wrapper, func);
      };

      // Returns a negated version of the passed-in predicate.
      _.negate = function(predicate) {
        return function() {
          return !predicate.apply(this, arguments);
        };
      };

      // Returns a function that is the composition of a list of functions, each
      // consuming the return value of the function that follows.
      _.compose = function() {
        var args = arguments;
        var start = args.length - 1;
        return function() {
          var i = start;
          var result = args[start].apply(this, arguments);
          while (i--) result = args[i].call(this, result);
          return result;
        };
      };

      // Returns a function that will only be executed on and after the Nth call.
      _.after = function(times, func) {
        return function() {
          if (--times < 1) {
            return func.apply(this, arguments);
          }
        };
      };

      // Returns a function that will only be executed up to (but not including) the Nth call.
      _.before = function(times, func) {
        var memo;
        return function() {
          if (--times > 0) {
            memo = func.apply(this, arguments);
          }
          if (times <= 1) func = null;
          return memo;
        };
      };

      // Returns a function that will be executed at most one time, no matter how
      // often you call it. Useful for lazy initialization.
      _.once = _.partial(_.before, 2);

      _.restArguments = restArguments;

      // Object Functions
      // ----------------

      // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.
      var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');
      var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',
        'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];

      var collectNonEnumProps = function(obj, keys) {
        var nonEnumIdx = nonEnumerableProps.length;
        var constructor = obj.constructor;
        var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;

        // Constructor is a special case.
        var prop = 'constructor';
        if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);

        while (nonEnumIdx--) {
          prop = nonEnumerableProps[nonEnumIdx];
          if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {
            keys.push(prop);
          }
        }
      };

      // Retrieve the names of an object's own properties.
      // Delegates to **ECMAScript 5**'s native `Object.keys`.
      _.keys = function(obj) {
        if (!_.isObject(obj)) return [];
        if (nativeKeys) return nativeKeys(obj);
        var keys = [];
        for (var key in obj) if (has(obj, key)) keys.push(key);
        // Ahem, IE < 9.
        if (hasEnumBug) collectNonEnumProps(obj, keys);
        return keys;
      };

      // Retrieve all the property names of an object.
      _.allKeys = function(obj) {
        if (!_.isObject(obj)) return [];
        var keys = [];
        for (var key in obj) keys.push(key);
        // Ahem, IE < 9.
        if (hasEnumBug) collectNonEnumProps(obj, keys);
        return keys;
      };

      // Retrieve the values of an object's properties.
      _.values = function(obj) {
        var keys = _.keys(obj);
        var length = keys.length;
        var values = Array(length);
        for (var i = 0; i < length; i++) {
          values[i] = obj[keys[i]];
        }
        return values;
      };

      // Returns the results of applying the iteratee to each element of the object.
      // In contrast to _.map it returns an object.
      _.mapObject = function(obj, iteratee, context) {
        iteratee = cb(iteratee, context);
        var keys = _.keys(obj),
            length = keys.length,
            results = {};
        for (var index = 0; index < length; index++) {
          var currentKey = keys[index];
          results[currentKey] = iteratee(obj[currentKey], currentKey, obj);
        }
        return results;
      };

      // Convert an object into a list of `[key, value]` pairs.
      // The opposite of _.object.
      _.pairs = function(obj) {
        var keys = _.keys(obj);
        var length = keys.length;
        var pairs = Array(length);
        for (var i = 0; i < length; i++) {
          pairs[i] = [keys[i], obj[keys[i]]];
        }
        return pairs;
      };

      // Invert the keys and values of an object. The values must be serializable.
      _.invert = function(obj) {
        var result = {};
        var keys = _.keys(obj);
        for (var i = 0, length = keys.length; i < length; i++) {
          result[obj[keys[i]]] = keys[i];
        }
        return result;
      };

      // Return a sorted list of the function names available on the object.
      // Aliased as `methods`.
      _.functions = _.methods = function(obj) {
        var names = [];
        for (var key in obj) {
          if (_.isFunction(obj[key])) names.push(key);
        }
        return names.sort();
      };

      // An internal function for creating assigner functions.
      var createAssigner = function(keysFunc, defaults) {
        return function(obj) {
          var length = arguments.length;
          if (defaults) obj = Object(obj);
          if (length < 2 || obj == null) return obj;
          for (var index = 1; index < length; index++) {
            var source = arguments[index],
                keys = keysFunc(source),
                l = keys.length;
            for (var i = 0; i < l; i++) {
              var key = keys[i];
              if (!defaults || obj[key] === void 0) obj[key] = source[key];
            }
          }
          return obj;
        };
      };

      // Extend a given object with all the properties in passed-in object(s).
      _.extend = createAssigner(_.allKeys);

      // Assigns a given object with all the own properties in the passed-in object(s).
      // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)
      _.extendOwn = _.assign = createAssigner(_.keys);

      // Returns the first key on an object that passes a predicate test.
      _.findKey = function(obj, predicate, context) {
        predicate = cb(predicate, context);
        var keys = _.keys(obj), key;
        for (var i = 0, length = keys.length; i < length; i++) {
          key = keys[i];
          if (predicate(obj[key], key, obj)) return key;
        }
      };

      // Internal pick helper function to determine if `obj` has key `key`.
      var keyInObj = function(value, key, obj) {
        return key in obj;
      };

      // Return a copy of the object only containing the whitelisted properties.
      _.pick = restArguments(function(obj, keys) {
        var result = {}, iteratee = keys[0];
        if (obj == null) return result;
        if (_.isFunction(iteratee)) {
          if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);
          keys = _.allKeys(obj);
        } else {
          iteratee = keyInObj;
          keys = flatten(keys, false, false);
          obj = Object(obj);
        }
        for (var i = 0, length = keys.length; i < length; i++) {
          var key = keys[i];
          var value = obj[key];
          if (iteratee(value, key, obj)) result[key] = value;
        }
        return result;
      });

      // Return a copy of the object without the blacklisted properties.
      _.omit = restArguments(function(obj, keys) {
        var iteratee = keys[0], context;
        if (_.isFunction(iteratee)) {
          iteratee = _.negate(iteratee);
          if (keys.length > 1) context = keys[1];
        } else {
          keys = _.map(flatten(keys, false, false), String);
          iteratee = function(value, key) {
            return !_.contains(keys, key);
          };
        }
        return _.pick(obj, iteratee, context);
      });

      // Fill in a given object with default properties.
      _.defaults = createAssigner(_.allKeys, true);

      // Creates an object that inherits from the given prototype object.
      // If additional properties are provided then they will be added to the
      // created object.
      _.create = function(prototype, props) {
        var result = baseCreate(prototype);
        if (props) _.extendOwn(result, props);
        return result;
      };

      // Create a (shallow-cloned) duplicate of an object.
      _.clone = function(obj) {
        if (!_.isObject(obj)) return obj;
        return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
      };

      // Invokes interceptor with the obj, and then returns obj.
      // The primary purpose of this method is to "tap into" a method chain, in
      // order to perform operations on intermediate results within the chain.
      _.tap = function(obj, interceptor) {
        interceptor(obj);
        return obj;
      };

      // Returns whether an object has a given set of `key:value` pairs.
      _.isMatch = function(object, attrs) {
        var keys = _.keys(attrs), length = keys.length;
        if (object == null) return !length;
        var obj = Object(object);
        for (var i = 0; i < length; i++) {
          var key = keys[i];
          if (attrs[key] !== obj[key] || !(key in obj)) return false;
        }
        return true;
      };


      // Internal recursive comparison function for `isEqual`.
      var eq, deepEq;
      eq = function(a, b, aStack, bStack) {
        // Identical objects are equal. `0 === -0`, but they aren't identical.
        // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
        if (a === b) return a !== 0 || 1 / a === 1 / b;
        // `null` or `undefined` only equal to itself (strict comparison).
        if (a == null || b == null) return false;
        // `NaN`s are equivalent, but non-reflexive.
        if (a !== a) return b !== b;
        // Exhaust primitive checks
        var type = typeof a;
        if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;
        return deepEq(a, b, aStack, bStack);
      };

      // Internal recursive comparison function for `isEqual`.
      deepEq = function(a, b, aStack, bStack) {
        // Unwrap any wrapped objects.
        if (a instanceof _) a = a._wrapped;
        if (b instanceof _) b = b._wrapped;
        // Compare `[[Class]]` names.
        var className = toString.call(a);
        if (className !== toString.call(b)) return false;
        switch (className) {
          // Strings, numbers, regular expressions, dates, and booleans are compared by value.
          case '[object RegExp]':
          // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')
          case '[object String]':
            // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
            // equivalent to `new String("5")`.
            return '' + a === '' + b;
          case '[object Number]':
            // `NaN`s are equivalent, but non-reflexive.
            // Object(NaN) is equivalent to NaN.
            if (+a !== +a) return +b !== +b;
            // An `egal` comparison is performed for other numeric values.
            return +a === 0 ? 1 / +a === 1 / b : +a === +b;
          case '[object Date]':
          case '[object Boolean]':
            // Coerce dates and booleans to numeric primitive values. Dates are compared by their
            // millisecond representations. Note that invalid dates with millisecond representations
            // of `NaN` are not equivalent.
            return +a === +b;
          case '[object Symbol]':
            return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);
        }

        var areArrays = className === '[object Array]';
        if (!areArrays) {
          if (typeof a != 'object' || typeof b != 'object') return false;

          // Objects with different constructors are not equivalent, but `Object`s or `Array`s
          // from different frames are.
          var aCtor = a.constructor, bCtor = b.constructor;
          if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&
                                   _.isFunction(bCtor) && bCtor instanceof bCtor)
                              && ('constructor' in a && 'constructor' in b)) {
            return false;
          }
        }
        // Assume equality for cyclic structures. The algorithm for detecting cyclic
        // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.

        // Initializing stack of traversed objects.
        // It's done here since we only need them for objects and arrays comparison.
        aStack = aStack || [];
        bStack = bStack || [];
        var length = aStack.length;
        while (length--) {
          // Linear search. Performance is inversely proportional to the number of
          // unique nested structures.
          if (aStack[length] === a) return bStack[length] === b;
        }

        // Add the first object to the stack of traversed objects.
        aStack.push(a);
        bStack.push(b);

        // Recursively compare objects and arrays.
        if (areArrays) {
          // Compare array lengths to determine if a deep comparison is necessary.
          length = a.length;
          if (length !== b.length) return false;
          // Deep compare the contents, ignoring non-numeric properties.
          while (length--) {
            if (!eq(a[length], b[length], aStack, bStack)) return false;
          }
        } else {
          // Deep compare objects.
          var keys = _.keys(a), key;
          length = keys.length;
          // Ensure that both objects contain the same number of properties before comparing deep equality.
          if (_.keys(b).length !== length) return false;
          while (length--) {
            // Deep compare each member
            key = keys[length];
            if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;
          }
        }
        // Remove the first object from the stack of traversed objects.
        aStack.pop();
        bStack.pop();
        return true;
      };

      // Perform a deep comparison to check if two objects are equal.
      _.isEqual = function(a, b) {
        return eq(a, b);
      };

      // Is a given array, string, or object empty?
      // An "empty" object has no enumerable own-properties.
      _.isEmpty = function(obj) {
        if (obj == null) return true;
        if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;
        return _.keys(obj).length === 0;
      };

      // Is a given value a DOM element?
      _.isElement = function(obj) {
        return !!(obj && obj.nodeType === 1);
      };

      // Is a given value an array?
      // Delegates to ECMA5's native Array.isArray
      _.isArray = nativeIsArray || function(obj) {
        return toString.call(obj) === '[object Array]';
      };

      // Is a given variable an object?
      _.isObject = function(obj) {
        var type = typeof obj;
        return type === 'function' || type === 'object' && !!obj;
      };

      // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.
      _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {
        _['is' + name] = function(obj) {
          return toString.call(obj) === '[object ' + name + ']';
        };
      });

      // Define a fallback version of the method in browsers (ahem, IE < 9), where
      // there isn't any inspectable "Arguments" type.
      if (!_.isArguments(arguments)) {
        _.isArguments = function(obj) {
          return has(obj, 'callee');
        };
      }

      // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,
      // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).
      var nodelist = root.document && root.document.childNodes;
      if (typeof Int8Array != 'object' && typeof nodelist != 'function') {
        _.isFunction = function(obj) {
          return typeof obj == 'function' || false;
        };
      }

      // Is a given object a finite number?
      _.isFinite = function(obj) {
        return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));
      };

      // Is the given value `NaN`?
      _.isNaN = function(obj) {
        return _.isNumber(obj) && isNaN(obj);
      };

      // Is a given value a boolean?
      _.isBoolean = function(obj) {
        return obj === true || obj === false || toString.call(obj) === '[object Boolean]';
      };

      // Is a given value equal to null?
      _.isNull = function(obj) {
        return obj === null;
      };

      // Is a given variable undefined?
      _.isUndefined = function(obj) {
        return obj === void 0;
      };

      // Shortcut function for checking if an object has a given property directly
      // on itself (in other words, not on a prototype).
      _.has = function(obj, path) {
        if (!_.isArray(path)) {
          return has(obj, path);
        }
        var length = path.length;
        for (var i = 0; i < length; i++) {
          var key = path[i];
          if (obj == null || !hasOwnProperty.call(obj, key)) {
            return false;
          }
          obj = obj[key];
        }
        return !!length;
      };

      // Utility Functions
      // -----------------

      // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
      // previous owner. Returns a reference to the Underscore object.
      _.noConflict = function() {
        root._ = previousUnderscore;
        return this;
      };

      // Keep the identity function around for default iteratees.
      _.identity = function(value) {
        return value;
      };

      // Predicate-generating functions. Often useful outside of Underscore.
      _.constant = function(value) {
        return function() {
          return value;
        };
      };

      _.noop = function(){};

      // Creates a function that, when passed an object, will traverse that object’s
      // properties down the given `path`, specified as an array of keys or indexes.
      _.property = function(path) {
        if (!_.isArray(path)) {
          return shallowProperty(path);
        }
        return function(obj) {
          return deepGet(obj, path);
        };
      };

      // Generates a function for a given object that returns a given property.
      _.propertyOf = function(obj) {
        if (obj == null) {
          return function(){};
        }
        return function(path) {
          return !_.isArray(path) ? obj[path] : deepGet(obj, path);
        };
      };

      // Returns a predicate for checking whether an object has a given set of
      // `key:value` pairs.
      _.matcher = _.matches = function(attrs) {
        attrs = _.extendOwn({}, attrs);
        return function(obj) {
          return _.isMatch(obj, attrs);
        };
      };

      // Run a function **n** times.
      _.times = function(n, iteratee, context) {
        var accum = Array(Math.max(0, n));
        iteratee = optimizeCb(iteratee, context, 1);
        for (var i = 0; i < n; i++) accum[i] = iteratee(i);
        return accum;
      };

      // Return a random integer between min and max (inclusive).
      _.random = function(min, max) {
        if (max == null) {
          max = min;
          min = 0;
        }
        return min + Math.floor(Math.random() * (max - min + 1));
      };

      // A (possibly faster) way to get the current timestamp as an integer.
      _.now = Date.now || function() {
        return new Date().getTime();
      };

      // List of HTML entities for escaping.
      var escapeMap = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#x27;',
        '`': '&#x60;'
      };
      var unescapeMap = _.invert(escapeMap);

      // Functions for escaping and unescaping strings to/from HTML interpolation.
      var createEscaper = function(map) {
        var escaper = function(match) {
          return map[match];
        };
        // Regexes for identifying a key that needs to be escaped.
        var source = '(?:' + _.keys(map).join('|') + ')';
        var testRegexp = RegExp(source);
        var replaceRegexp = RegExp(source, 'g');
        return function(string) {
          string = string == null ? '' : '' + string;
          return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
        };
      };
      _.escape = createEscaper(escapeMap);
      _.unescape = createEscaper(unescapeMap);

      // Traverses the children of `obj` along `path`. If a child is a function, it
      // is invoked with its parent as context. Returns the value of the final
      // child, or `fallback` if any child is undefined.
      _.result = function(obj, path, fallback) {
        if (!_.isArray(path)) path = [path];
        var length = path.length;
        if (!length) {
          return _.isFunction(fallback) ? fallback.call(obj) : fallback;
        }
        for (var i = 0; i < length; i++) {
          var prop = obj == null ? void 0 : obj[path[i]];
          if (prop === void 0) {
            prop = fallback;
            i = length; // Ensure we don't continue iterating.
          }
          obj = _.isFunction(prop) ? prop.call(obj) : prop;
        }
        return obj;
      };

      // Generate a unique integer id (unique within the entire client session).
      // Useful for temporary DOM ids.
      var idCounter = 0;
      _.uniqueId = function(prefix) {
        var id = ++idCounter + '';
        return prefix ? prefix + id : id;
      };

      // By default, Underscore uses ERB-style template delimiters, change the
      // following template settings to use alternative delimiters.
      _.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
      };

      // When customizing `templateSettings`, if you don't want to define an
      // interpolation, evaluation or escaping regex, we need one that is
      // guaranteed not to match.
      var noMatch = /(.)^/;

      // Certain characters need to be escaped so that they can be put into a
      // string literal.
      var escapes = {
        "'": "'",
        '\\': '\\',
        '\r': 'r',
        '\n': 'n',
        '\u2028': 'u2028',
        '\u2029': 'u2029'
      };

      var escapeRegExp = /\\|'|\r|\n|\u2028|\u2029/g;

      var escapeChar = function(match) {
        return '\\' + escapes[match];
      };

      // JavaScript micro-templating, similar to John Resig's implementation.
      // Underscore templating handles arbitrary delimiters, preserves whitespace,
      // and correctly escapes quotes within interpolated code.
      // NB: `oldSettings` only exists for backwards compatibility.
      _.template = function(text, settings, oldSettings) {
        if (!settings && oldSettings) settings = oldSettings;
        settings = _.defaults({}, settings, _.templateSettings);

        // Combine delimiters into one regular expression via alternation.
        var matcher = RegExp([
          (settings.escape || noMatch).source,
          (settings.interpolate || noMatch).source,
          (settings.evaluate || noMatch).source
        ].join('|') + '|$', 'g');

        // Compile the template source, escaping string literals appropriately.
        var index = 0;
        var source = "__p+='";
        text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
          source += text.slice(index, offset).replace(escapeRegExp, escapeChar);
          index = offset + match.length;

          if (escape) {
            source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
          } else if (interpolate) {
            source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
          } else if (evaluate) {
            source += "';\n" + evaluate + "\n__p+='";
          }

          // Adobe VMs need the match returned to produce the correct offset.
          return match;
        });
        source += "';\n";

        // If a variable is not specified, place data values in local scope.
        if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';

        source = "var __t,__p='',__j=Array.prototype.join," +
          "print=function(){__p+=__j.call(arguments,'');};\n" +
          source + 'return __p;\n';

        var render;
        try {
          render = new Function(settings.variable || 'obj', '_', source);
        } catch (e) {
          e.source = source;
          throw e;
        }

        var template = function(data) {
          return render.call(this, data, _);
        };

        // Provide the compiled source as a convenience for precompilation.
        var argument = settings.variable || 'obj';
        template.source = 'function(' + argument + '){\n' + source + '}';

        return template;
      };

      // Add a "chain" function. Start chaining a wrapped Underscore object.
      _.chain = function(obj) {
        var instance = _(obj);
        instance._chain = true;
        return instance;
      };

      // OOP
      // ---------------
      // If Underscore is called as a function, it returns a wrapped object that
      // can be used OO-style. This wrapper holds altered versions of all the
      // underscore functions. Wrapped objects may be chained.

      // Helper function to continue chaining intermediate results.
      var chainResult = function(instance, obj) {
        return instance._chain ? _(obj).chain() : obj;
      };

      // Add your own custom functions to the Underscore object.
      _.mixin = function(obj) {
        _.each(_.functions(obj), function(name) {
          var func = _[name] = obj[name];
          _.prototype[name] = function() {
            var args = [this._wrapped];
            push.apply(args, arguments);
            return chainResult(this, func.apply(_, args));
          };
        });
        return _;
      };

      // Add all of the Underscore functions to the wrapper object.
      _.mixin(_);

      // Add all mutator Array functions to the wrapper.
      _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {
        var method = ArrayProto[name];
        _.prototype[name] = function() {
          var obj = this._wrapped;
          method.apply(obj, arguments);
          if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];
          return chainResult(this, obj);
        };
      });

      // Add all accessor Array functions to the wrapper.
      _.each(['concat', 'join', 'slice'], function(name) {
        var method = ArrayProto[name];
        _.prototype[name] = function() {
          return chainResult(this, method.apply(this._wrapped, arguments));
        };
      });

      // Extracts the result from a wrapped and chained object.
      _.prototype.value = function() {
        return this._wrapped;
      };

      // Provide unwrapping proxy for some methods used in engine operations
      // such as arithmetic and JSON stringification.
      _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;

      _.prototype.toString = function() {
        return String(this._wrapped);
      };
    }());
    });
    var underscore_1 = underscore._;

    // https://gist.github.com/bmershon/25a74f7b1c7cbd07e7456af1d2c07da1

    /**
     * This function create the pairs between node and its links.
     *
     * @param links
     * @returns [["nodeX,nodeY", Array(numberOfLinksRelatedToTheNodes)]]
     */
    function pairNodeLinks(links) {
        let nestedByNodes = {};
        links.forEach(l => {
            let sourceKey = l.source.join(',');
            if (!nestedByNodes[sourceKey]) {
                nestedByNodes[sourceKey] = [];
            }
            nestedByNodes[sourceKey].push(l);
            let targetKey = l.target.join(',');
            if (!nestedByNodes[targetKey]) {
                nestedByNodes[targetKey] = [];
            }
            nestedByNodes[targetKey].push(l);
        });
        //Pair the results
        let pairedResults = underscore.pairs(nestedByNodes);
        return pairedResults;
    }

    /**
     * This function returns all vertices with degree greater than or equal 2
     * @param tree
     */
    function getAllV2OrGreaterFromTree(tree) {
        let pairedResults = pairNodeLinks(tree.links);
        //Get all pairs with length >= 2 (V2)
        let allGTEV2 = pairedResults.filter(p => p[1].length >= 2);
        return allGTEV2.map(v => v[0].split(',').map(Number));
    }
    /**
     * Create a graph from mesh
     * @param triangles is inform of set of triangles as the result from delaunay triangulations
     */
    function createGraph(triangles) {

        function makeLink(sourceId, targetId, weight) {
            return {"source": sourceId, "target": targetId, "weight": weight};
        }

        let graph = {};
        graph.nodes = [];
        graph.links = [];
        //Creating nodes
        triangles.forEach(t => {
            for (let i = 0; i < 3; i++) {
                let id = t[i];
                if (!idExists(graph.nodes, id)) {
                    graph.nodes.push(makeNode(id));
                }
            }
        });

        //Creating links
        triangles.forEach(t => {
            for (let i = 0; i < 3; i++) {
                let p1 = t[i];
                let p2 = t[(i + 1) % 3];
                let id1 = p1;
                let id2 = p2;
                let dist = distance(p1, p2);
                let link = makeLink(id1, id2, dist);
                if (!linkExists(graph.links, link)) {
                    graph.links.push(link);
                }
            }
        });


        //TODO: may sort the id alphabetically => when creating => so we can just check 1 condition only.
        function linkExists(links, link) {
            let length = links.length;
            for (let i = length - 1; i >= 0; --i) {
                if (equalLinks(link, links[i])) {
                    return true;
                }
            }
            return false;
        }

        return graph;
    }

    function distance(a, b) {
        let dx = a[0] - b[0],
            dy = a[1] - b[1];
        //For computer storage issue, some coordinates of the same distance may return different distances if we use long floating point
        //So take only 10 digits after the floating points=> this is precise enough and still have the same values for two different lines of the same distance
        return Math.round(Math.sqrt((dx * dx) + (dy * dy)) * Math.pow(10, 10)) / Math.pow(10, 10);
    }

    function equalPoints(id1, id2) {
        return (id1[0] === id2[0] && id1[1] === id2[1]);
    }

    function equalLinks(l1, l2) {
        return (equalPoints(l1.source, l2.source) && equalPoints(l1.target, l2.target)) ||
            (equalPoints(l1.source, l2.target) && equalPoints(l1.target, l2.source));
    }

    function idExists(nodes, id) {
        let length = nodes.length;
        for (let i = length - 1; i >= 0; --i) {
            let node = nodes[i];
            if (equalPoints(node.id, id)) {
                return true;
            }
        }
        return false;
    }

    function makeNode(id) {
        return {"id": id};
    }

    /**
     * create the mst
     * @param graph: in form of nodes and links
     * @returns {{nodes: (selection_nodes|nodes), links: Array}}
     */
    function mst(graph) {
        let vertices = graph.nodes,
            edges = graph.links.slice(0),
            selectedEdges = [],
            forest = new DisjointSet();

        // Each vertex begins "disconnected" and isolated from all the others.
        vertices.forEach((vertex) => {
            forest.makeSet(vertex.id);
        });

        // Sort edges in descending order of weight. We will pop edges beginning
        // from the end of the array.
        edges.sort((a, b) => {
            return -(a.weight - b.weight);
        });

        while (edges.length && forest.size() > 1) {
            let edge = edges.pop();

            if (forest.find(edge.source) !== forest.find(edge.target)) {
                forest.union(edge.source, edge.target);
                selectedEdges.push(edge);
            }
        }

        return {
            nodes: vertices,
            links: selectedEdges
        }
    }


    function DisjointSet() {
        this.index_ = {};
    }

    function Node(id) {
        this.id_ = id;
        this.parent_ = this;
        this.rank_ = 0;
    }

    DisjointSet.prototype.makeSet = function (id) {
        if (!this.index_[id]) {
            let created = new Node(id);
            this.index_[id] = created;
        }
    };

    // Returns the id of the representative element of this set that (id)
    // belongs to.
    DisjointSet.prototype.find = function (id) {
        if (this.index_[id] === undefined) {
            return undefined;
        }

        let current = this.index_[id].parent_;
        while (current !== current.parent_) {
            current = current.parent_;
        }
        return current.id_;
    };

    DisjointSet.prototype.union = function (x, y) {
        let xRoot = this.index_[this.find(x)];
        let yRoot = this.index_[this.find(y)];

        if (xRoot === undefined || yRoot === undefined || xRoot === yRoot) {
            // x and y already belong to the same set.
            return;
        }

        if (xRoot.rank < yRoot.rank) { // Move x into the set y is a member of.
            xRoot.parent_ = yRoot;
        } else if (yRoot.rank_ < xRoot.rank_) { // Move y into the set x is a member of.
            yRoot.parent_ = xRoot;
        } else { // Arbitrarily choose to move y into the set x is a member of.
            yRoot.parent_ = xRoot;
            xRoot.rank_++;
        }
    };

    // Returns the current number of disjoint sets.
    DisjointSet.prototype.size = function () {
        let uniqueIndices = {};
        Object.keys(this.index_).forEach((id) => {
            uniqueIndices[id] = true;
        });
        return Object.keys(uniqueIndices).length;
    };

    /* @flow */

    /* @flow */

    /**
     * This is the internal implementation of quantiles: when you know
     * that the order is sorted, you don't need to re-sort it, and the computations
     * are faster.
     *
     * @param {Array<number>} x sample of one or more data points
     * @param {number} p desired quantile: a number between 0 to 1, inclusive
     * @returns {number} quantile value
     * @throws {Error} if p ix outside of the range from 0 to 1
     * @throws {Error} if x is empty
     * @example
     * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9
     */
    function quantileSorted(x /*: Array<number> */, p /*: number */)/*: number */ {
        var idx = x.length * p;
        if (x.length === 0) {
            throw new Error('quantile requires at least one data point.');
        } else if (p < 0 || p > 1) {
            throw new Error('quantiles must be between 0 and 1');
        } else if (p === 1) {
            // If p is 1, directly return the last element
            return x[x.length - 1];
        } else if (p === 0) {
            // If p is 0, directly return the first element
            return x[0];
        } else if (idx % 1 !== 0) {
            // If p is not integer, return the next element in array
            return x[Math.ceil(idx) - 1];
        } else if (x.length % 2 === 0) {
            // If the list has even-length, we'll take the average of this number
            // and the next value, if there is one
            return (x[idx - 1] + x[idx]) / 2;
        } else {
            // Finally, in the simple case of an integer value
            // with an odd-length list, return the x value at the index.
            return x[idx];
        }
    }

    /* @flow */

    /**
     * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.
     * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.
     *
     * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm
     *
     * @param {Array<number>} arr input array
     * @param {number} k pivot index
     * @param {number} [left] left index
     * @param {number} [right] right index
     * @returns {void} mutates input array
     * @example
     * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];
     * quickselect(arr, 8);
     * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]
     */
    function quickselect(arr/*: Array<number> */, k/*: number */, left/*: ?number */, right/*: ?number */)/*: void */ {
        left = left || 0;
        right = right || (arr.length - 1);

        while (right > left) {
            // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time
            if (right - left > 600) {
                var n = right - left + 1;
                var m = k - left + 1;
                var z = Math.log(n);
                var s = 0.5 * Math.exp(2 * z / 3);
                var sd = 0.5 * Math.sqrt(z * s * (n - s) / n);
                if (m - n / 2 < 0) sd *= -1;
                var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));
                var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));
                quickselect(arr, k, newLeft, newRight);
            }

            var t = arr[k];
            var i = left;
            var j = right;

            swap$1(arr, left, k);
            if (arr[right] > t) swap$1(arr, left, right);

            while (i < j) {
                swap$1(arr, i, j);
                i++;
                j--;
                while (arr[i] < t) i++;
                while (arr[j] > t) j--;
            }

            if (arr[left] === t) swap$1(arr, left, j);
            else {
                j++;
                swap$1(arr, j, right);
            }

            if (j <= k) left = j + 1;
            if (k <= j) right = j - 1;
        }
    }

    function swap$1(arr, i, j) {
        var tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }

    /* @flow */

    /**
     * The [quantile](https://en.wikipedia.org/wiki/Quantile):
     * this is a population quantile, since we assume to know the entire
     * dataset in this library. This is an implementation of the
     * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)
     * algorithm from wikipedia.
     *
     * Sample is a one-dimensional array of numbers,
     * and p is either a decimal number from 0 to 1 or an array of decimal
     * numbers from 0 to 1.
     * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing
     * with decimal values.
     * When p is an array, the result of the function is also an array containing the appropriate
     * quantiles in input order
     *
     * @param {Array<number>} x sample of one or more numbers
     * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1
     * @returns {number} quantile
     * @example
     * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9
     */
    function quantile(x/*: Array<number> */, p/*: Array<number> | number */)/*: Array<number> | number */ {
        var copy = x.slice();

        if (Array.isArray(p)) {
            // rearrange elements so that each element corresponding to a requested
            // quantile is on a place it would be if the array was fully sorted
            multiQuantileSelect(copy, p);
            // Initialize the result array
            var results = [];
            // For each requested quantile
            for (var i = 0; i < p.length; i++) {
                results[i] = quantileSorted(copy, p[i]);
            }
            return results;
        } else {
            var idx = quantileIndex(copy.length, p);
            quantileSelect(copy, idx, 0, copy.length - 1);
            return quantileSorted(copy, p);
        }
    }

    function quantileSelect(arr, k, left, right) {
        if (k % 1 === 0) {
            quickselect(arr, k, left, right);
        } else {
            k = Math.floor(k);
            quickselect(arr, k, left, right);
            quickselect(arr, k + 1, k + 1, right);
        }
    }

    function multiQuantileSelect(arr, p) {
        var indices = [0];
        for (var i = 0; i < p.length; i++) {
            indices.push(quantileIndex(arr.length, p[i]));
        }
        indices.push(arr.length - 1);
        indices.sort(compare$1);

        var stack = [0, indices.length - 1];

        while (stack.length) {
            var r = Math.ceil(stack.pop());
            var l = Math.floor(stack.pop());
            if (r - l <= 1) continue;

            var m = Math.floor((l + r) / 2);
            quantileSelect(arr, indices[m], indices[l], indices[r]);

            stack.push(l, m, m, r);
        }
    }

    function compare$1(a, b) {
        return a - b;
    }

    function quantileIndex(len /*: number */, p /*: number */)/*:number*/ {
        var idx = len * p;
        if (p === 1) {
            // If p is 1, directly return the last index
            return len - 1;
        } else if (p === 0) {
            // If p is 0, directly return the first index
            return 0;
        } else if (idx % 1 !== 0) {
            // If index is not integer, return the next index in array
            return Math.ceil(idx) - 1;
        } else if (len % 2 === 0) {
            // If the list has even-length, we'll return the middle of two indices
            // around quantile to indicate that we need an average value of the two
            return idx - 0.5;
        } else {
            // Finally, in the simple case of an integer index
            // with an odd-length list, return the index
            return idx;
        }
    }
    var LOGSQRT2PI = Math.log(Math.sqrt(2 * Math.PI));

    /* @flow */

    var SQRT_2PI = Math.sqrt(2 * Math.PI);

    /* @flow */

    var SQRT_2PI$1 = Math.sqrt(2 * Math.PI);

    function pointExists(points, point){
        for (let i = 0; i < points.length; i++) {
            let point1 = points[i];
            if (equalPoints(point1, point)) {
                return true;
            }
        }
        return false;
    }

    /**
     * Check if set of unique points (need to make sure the points are unique) are in a line
     * @param points
     * @returns {boolean}
     */
    function isA2DLine(points) {
        let x1 = points[0][0];
        let y1 = points[0][1];
        let x2 = points[1][0];
        let y2 = points[1][1];

        for (let i = 2; i < points.length; i++) {
            let x3 = points[i][0];
            let y3 = points[i][1];
            if (((x2 - x1) * (y3 - y1) - (y2 - y1) * (x3 - x1)) !== 0) {
                return false;
            }
        }
        return true;
    }

    function delaunayFromPoints(sites) {
        let delaunay = {};
        //If it is a straight line => simulate as triangles of three consecutive points (with connection of a common points between two consecutive triangles)
        if (isA2DLine(sites)) {
            let tgs = [];
            let siteLength = sites.length;
            for (let i = 0; i < siteLength; i = i + 2) {
                if (i + 1 < siteLength) {
                    tgs.push(i);
                    tgs.push(i + 1);
                }
                if (i + 2 < siteLength) {
                    tgs.push(i + 2);
                } else if (siteLength % 2 == 0) {
                    tgs.push(i - 1);//If it is odd => we add back one point. to make them divisible by 3 (as triangles).
                }
            }
            delaunay.triangles = tgs;
        } else {
            delaunay = Delaunay.from(sites);
        }

        //TODO: There are many placed we need the triangleCoordinates function => we should build it as a prototype instead of copy/paste this function in many different places.
        delaunay.points = sites;
        delaunay.triangleCoordinates = function () {
            let triangles = this.triangles;
            let tc = [];
            for (let i = 0; i < triangles.length; i += 3) {
                tc.push([
                    this.points[triangles[i]],
                    this.points[triangles[i + 1]],
                    this.points[triangles[i + 2]]
                ]);
            }
            return tc;
        };
        return delaunay;
    }

    class Outlying {
        constructor(tree, upperBound) {
            //Clone the tree to avoid modifying it
            this.tree = JSON.parse(JSON.stringify(tree));
            this.upperBound = upperBound;

            //Calculate the upper bound if it is not provided.
            if (!upperBound) {
                let upperBound = findUpperBound(this.tree, 1.5);
                //Save it for displaying purpose.
                this.upperBound = upperBound;
            }
            //Mark the long links
            markLongLinks(this.tree, upperBound);
            //Finding normal nodes
            let normalNodes = findNormalNodes(this.tree);

            //Finding outlying points
            this.outlyingPoints = findOutlyingPoints(this.tree, normalNodes);
            //Now mark the outlying links
            markOutlyingLinks(this.tree, this.outlyingPoints);
            //Create none outlying tree
            this.noOutlyingTree = buildNoOutlyingTree(this.tree, this.outlyingPoints);

            function buildNoOutlyingTree(tree, outlyingPoints) {
                let noOutlyingTree = {};
                noOutlyingTree.nodes = normalNodes;
                noOutlyingTree.links = tree.links.filter(l => l.isOutlying !== true);
                //If the outlying nodes has the degree of 2 or greater => it will break the tree into subtrees => so we need to rebuild the tree.
                //Take the outlying points
                let outlyingPointsStr = outlyingPoints.map(p => p.join(','));
                let v2OrGreaterStr = getAllV2OrGreaterFromTree(tree).map(p => p.join(','));

                let diff = underscore.difference(outlyingPointsStr, v2OrGreaterStr);
                if (diff.length < outlyingPointsStr.length) {
                    //Means there is outlying node(s) with degree 2 or higher (so we should rebuild the tree)
                    let delaunay = delaunayFromPoints(noOutlyingTree.nodes.map(n => n.id));
                    let graph = createGraph(delaunay.triangleCoordinates());
                    noOutlyingTree = mst(graph);
                }
                return noOutlyingTree;
            }

            function markOutlyingLinks(tree, outlyingPoints) {
                if (outlyingPoints.length > 0) {
                    //Check the long links only
                    tree.links.filter(l => l.isLong).forEach(l => {
                        //Also check if the link contains outlying points.
                        if (pointExists(this.outlyingPoints, l.source) || pointExists(this.outlyingPoints, l.target)) {
                            l.isOutlying = true;
                        }
                    });
                }
            }

            function findNormalNodes(tree) {
                //Remove long links
                let normalLinks = tree.links.filter(l => !l.isLong);
                //Remove outlying nodes (nodes are not in any none-long links)
                let allNodesWithLinks = [];
                normalLinks.forEach(l => {
                    allNodesWithLinks.push(l.source);
                    allNodesWithLinks.push(l.target);
                });
                allNodesWithLinks = underscore.uniq(allNodesWithLinks, false, d => d.join(','));
                let normalNodes = allNodesWithLinks.map(n => {
                    return {id: n};
                });
                return normalNodes;
            }

            function findOutlyingPoints(tree, normalNodes) {
                let newNodes = normalNodes;
                let oldNodes = tree.nodes;
                //Get the outlying points
                let ops = [];
                oldNodes.forEach(on => {
                    //.id since we are accessing to points and the node is in form of {id: thePoint}
                    if (!pointExists(newNodes.map(nn => nn.id), on.id)) {
                        ops.push(on.id);
                    }
                });
                return ops;
            }

            function markLongLinks(tree, upperBound) {
                tree.links.forEach(l => {
                    if (l.weight > upperBound) {
                        l.isLong = true;
                    }
                });
            }

            function findUpperBound(tree, coefficient) {
                let allLengths = tree.links.map(l => l.weight),
                    q1 = quantile(allLengths, 0.25),
                    q3 = quantile(allLengths, 0.75),
                    iqr = q3 - q1,
                    upperBound = q3 + coefficient * iqr;
                return upperBound;
            }
        }

        /**
         * Returns outlying score
         * @returns {number}
         */
        score() {
            let totalLengths = 0;
            let totalOutlyingLengths = 0;
            this.tree.links.forEach(l => {
                totalLengths += l.weight;
                //If there are outlying points first.
                if (l.isOutlying) {
                    totalOutlyingLengths += l.weight;
                }
            });
            return totalOutlyingLengths / totalLengths;
        }

        /**
         * Returns outlying links
         */
        links() {
            if (!this.outlyingLinks) {
                this.outlyingLinks = this.tree.links.filter(l => l.isOutlying);
            }
            return this.outlyingLinks;
        }

        /**
         * Remove outlying links and nodes and return a new tree without outlying points/edges
         */
        removeOutlying() {
            return this.noOutlyingTree;
        }

        /**
         * Returns the outlying points (in form of points, not node object).
         * @returns {Array}
         */
        points() {
            return this.outlyingPoints;
        }
    }

    class Normalizer {
        constructor(points) {
            this.points = points.slice(0);
            let [xArr, yArr] = [this.xArr, this.yArr] = underscore.unzip(this.points),
                maxX = this.maxX = underscore.max(xArr),
                minX = this.minX = underscore.min(xArr),
                maxY = this.maxY = underscore.max(yArr),
                minY = this.minY = underscore.min(yArr),
                rangeX = this.rangeX = (maxX!=minX) ? maxX - minX: 1,
                rangeY = this.rangeY = (maxY!=minY) ? maxY - minY: 1,
                normalizedXArr = this.normalizedXArr = xArr.map(x => (x - minX) / rangeX),
                normalizedYArr = this.normalizedYArr = yArr.map(y => (y - minY) / rangeY);
            this.normalizedPoints = underscore.zip(normalizedXArr, normalizedYArr);
            //Add one step to pass the data over if there is.
            let length = this.points.length;
            for (let i = 0; i < length; i++) {
                this.normalizedPoints[i].data = this.points[i].data;
            }
        }

        /**
         * Input a set of points in this scale range [0, 1] and will be scaled back to
         * - Original scale ([minX, maxX], [minY, maxY])
         * @param points
         */
        scaleBackPoints(points) {
            return points.map(point=>{
                return this.scaleBackPoint(point);
            });
        }
        /**
         * Input a single point in this scale range [0, 1] and will be scaled back to
         * - Original scale ([minX, maxX], [minY, maxY])
         * @param points
         */
        scaleBackPoint(point) {
            let xs = point[0],
                x = this.rangeX * xs + this.minX,
                ys = point[1],
                y = this.rangeY * ys + this.minY;
            return [x, y];
        }
    }

    class LeaderBinner{
        constructor(points, radius){
            //TODO: Should check if there are more than 3 unique values here or even after the binning.
            //TODO: May need to clone the points to avoid modifying it, but we don't do to reserve other data or to make the process faster
            // //Clone these to avoid modifying them
            // this.points = points.map(p=>p.slice(0));
            this.points = points;
            this.radius = radius;
        }
        get leaders(){
            let self = this;
            let theLeaders = [];
            //find all the leaders
            this.points.forEach(point=>{
                let leader = closestLeader(theLeaders, point);
                if(!leader){
                    let newLeader = [];
                    newLeader.x = point[0];
                    newLeader.y = point[1];
                    theLeaders.push(newLeader);
                }
            });
            //now do this again to set the closest leader.
            this.points.forEach(point=>{
               let leader = closestLeader(theLeaders, point);
               leader.push(point);
            });
            return theLeaders;
            function closestLeader(leaders, point){
                let length = leaders.length;
                let minDistance = 2;//select 2 since normalized distance can't  be greater than 2.
                let theLeader = null;
                for (let i = 0; i < length; ++i) {
                    let l = leaders[i];
                    let d = distance([l.x, l.y], point);
                    if(d< self.radius){
                        if(d<minDistance){
                            minDistance = d;
                            theLeader = l;
                        }
                    }
                }
                return theLeader;

                // let distances = leaders.map(l=>distance([l.x, l.y], point));
                // //Filter the distance to be <= the radius
                // let copiedDistances = distances.filter(d=>d<self.radius);
                // if(copiedDistances.length===0){
                //     return null;
                // }
                // let theDistance = _.min(distances);
                // let theLeader = leaders[distances.indexOf(theDistance)];
                // return theLeader;
            }
        }
    }

    //Inspired from https://github.com/d3/d3-hexbin/blob/master/src/hexbin.js
    function Binner(){
        let thirdPi = Math.PI/3,
        angles = [0, thirdPi, 2*thirdPi, 3*thirdPi, 4*thirdPi, 5*thirdPi];

        function pointX(d){
            return d[0];
        }
        function pointY(d){
            return d[1];
        }

        var x0 = 0,
            y0 = 0,
            x1 = 1,
            y1 = 1,
            x = pointX,
            y = pointY,
            r,
            dx,
            dy;

        function hexbin(points){
            var binsById = {}, bins = [], i, n = points.length;

            for (i = 0; i < n; ++i) {
                if (isNaN(px = +x.call(null, point = points[i], i, points))
                    || isNaN(py = +y.call(null, point, i, points))) continue;

                var point,
                    px,
                    py,
                    pj = Math.round(py = py / dy),
                    pi = Math.round(px = px / dx - (pj & 1) / 2),
                    py1 = py - pj;

                if (Math.abs(py1) * 3 > 1) {
                    var px1 = px - pi,
                        pi2 = pi + (px < pi ? -1 : 1) / 2,
                        pj2 = pj + (py < pj ? -1 : 1),
                        px2 = px - pi2,
                        py2 = py - pj2;
                    if (px1 * px1 + py1 * py1 > px2 * px2 + py2 * py2) pi = pi2 + (pj & 1 ? 1 : -1) / 2, pj = pj2;
                }

                var id = pi + "-" + pj, bin = binsById[id];
                if (bin) bin.push(point);
                else {
                    bins.push(bin = binsById[id] = [point]);
                    bin.x = (pi + (pj & 1) / 2) * dx;
                    bin.y = pj * dy;
                    //TODO: fix this since there are results with bin.x, bin.y > 1 => we may need to do the rounding.
                    // if(bin.x>1){bin.x = 1;}
                    // if(bin.y>1){bin.y =1;}
                }
            }

            return bins;
        }
        function hexagon(radius){
            var x0 = 0, y0 = 0;
            return angles.map(function(angle) {
                var x1 = Math.sin(angle) * radius,
                    y1 = -Math.cos(angle) * radius,
                    dx = x1 - x0,
                    dy = y1 - y0;
                x0 = x1, y0 = y1;

                return [dx, dy];
            });
        }

        //Export it
        this.hexbin = hexbin;
        this.hexagon = function(radius){
            return "m" + hexagon(radius == null ? r : +radius).join("l") + "z";
        };
        this.centers = function(){
            var centers = [],
                j = Math.round(y0 / dy),
                i = Math.round(x0 / dx);
            for (var y = j * dy; y < y1 + r; y += dy, ++j) {
                for (var x = i * dx + (j & 1) * dx / 2; x < x1 + dx / 2; x += dx) {
                    centers.push([x, y]);
                }
            }
            return centers;
        };
        this.mesh = function(){
            var fragment = hexagon(r).slice(0, 4).join("l");
            return hexbin.centers().map(function(p) { return "M" + p + "m" + fragment; }).join("");
        };
        //Setters/getters
        this.x = function(_){
            return arguments.length ? (x = _, this) : x;
        };
        this.y = function(_){
            return arguments.length ? (y = _, this) : y;
        };
        this.radius = function(_){
            return arguments.length ? (r= +_, dx = r * 2 * Math.sin(thirdPi), dy = r*1.5, this): r;
        };
        this.size = function(_) {
            return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], this) : [x1 - x0, y1 - y0];
        };
        this.extent = function(_){
            return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], this): [[x0, y0], [x1, y1]];
        };

        return this.radius(1);
    }

    // import {Binner} from './modules/binner';
    (function(window){
        /**
         * initialize a scagnostic object
         * @param inputPoints   {*[][]} set of points from the scatter plot
         * @returns {*[][]}
         */
        window.outliagnostics = function(inputPoints, options={}) {
            let binType = options.binType,
                startBinGridSize = options.startBinGridSize,
                isNormalized = options.isNormalized,
                isBinned = options.isBinned,
                outlyingUpperBound = options.outlyingUpperBound,
                minBins = options.minBins,
                maxBins = options.maxBins;
            //Clone it to avoid modifying it.
            let points = inputPoints.slice(0);
            let normalizedPoints = points;
            /******This section is about normalizing the data******/
            if(!isNormalized){
                let normalizer = new Normalizer(points);
                    normalizedPoints = normalizer.normalizedPoints;
            }
            /******This section is about finding number of bins and binners******/
            let sites = null;
            let bins = null;

            if(!isBinned){//Only do the binning if needed.
                let binSize = null;
                let binner = null;
                let binRadius = 0;
                if(!startBinGridSize){
                    startBinGridSize = 40;
                }
                bins = [];
                //Default bin range
                let minNumOfBins = 50;
                let maxNumOfBins = 250;
                if(minBins){
                    minNumOfBins =minBins;
                }
                if(maxBins){
                    maxNumOfBins = maxBins;
                }

                //Don't do the binning if the unique set of values are less than 50. Just return the unique set.
                let uniqueKeys = underscore.uniq(normalizedPoints.map(p=>p.join(',')));
                let groups = underscore.groupBy(normalizedPoints, p=>p.join(','));
                if(uniqueKeys.length<minNumOfBins){
                    uniqueKeys.forEach(key=>{
                        let bin = groups[key];
                        //Take the coordinate of the first point in the group to be the bin leader (they should have the same points actually=> so just take the first one.
                        bin.x = bin[0][0];
                        bin.y = bin[0][1];
                        bin.binRadius = 0;
                        bins.push(bin);
                    });
                }else{
                    do{
                        //Start with 40x40 bins, and divided by 2 every time there are more than maxNumberofBins none empty cells, increase 5 (+5) if less than minNumberOfBins
                        if(binSize===null){
                            binSize = startBinGridSize;
                        }else if(bins.length>maxNumOfBins){
                            binSize = binSize/2;
                        }else if(bins.length<minNumOfBins){
                            binSize = binSize + 5;
                        }
                        if(binType==="hexagon"){
                            // This section uses hexagon binning
                            let shortDiagonal = 1/binSize;
                            binRadius = Math.sqrt(3)*shortDiagonal/2;
                            binner = new Binner().radius(binRadius).extent([[0, 0], [1, 1]]);//extent from [0, 0] to [1, 1] since we already normalized data.
                            bins = binner.hexbin(normalizedPoints);
                        }else if(!binType || binType==="leader"){
                            // This section uses leader binner
                            binRadius = 1/(binSize*2);
                            binner = new LeaderBinner(normalizedPoints, binRadius);
                            bins = binner.leaders;
                        }
                    }while(bins.length > maxNumOfBins || bins.length < minNumOfBins);
                }
                sites = bins.map(d => [d.x, d.y]); //=>sites are the set of centers of all bins
                outputValue("bins", bins);
                outputValue("binSize", binSize);
            }else{
                sites = normalizedPoints;
            }

            /******This section is about the triangulating and triangulating results******/
            //Triangulation calculation
            let delaunay = Delaunay.from(sites);
            delaunay.points = sites;
            delaunay.triangleCoordinates = function(){
                let triangles = this.triangles;
                let tc = [];
                for (let i = 0; i < triangles.length; i += 3) {
                    tc.push([
                        this.points[triangles[i]],
                        this.points[triangles[i + 1]],
                        this.points[triangles[i + 2]]
                    ]);
                }
                return tc;
            };
            let triangleCoordinates = delaunay.triangleCoordinates();
            /******This section is about the spanning tree and spanning tree results******/
            //Spanning tree calculation
            let graph = createGraph(triangleCoordinates);
            let mstree = mst(graph);
            outputValue("mst", mstree);
            /******This section is about the outlying score and outlying score results******/
            let outlying = new Outlying(mstree, outlyingUpperBound);
            let outlyingScore = outlying.score();
            outlyingUpperBound = outlying.upperBound;
            let outlyingLinks = outlying.links();
            let outlyingPoints = outlying.points();
            let noOutlyingTree = outlying.removeOutlying();
            outputValue("outlyingScore", outlyingScore);
            outputValue("outlyingUpperBound", outlyingUpperBound);
            outputValue("outlyingLinks", outlyingLinks);
            outputValue("outlyingPoints", outlyingPoints);
            outputValue("noOutlyingTree", noOutlyingTree);

            return window.outliagnostics;
            function outputValue(name, value){
                window.outliagnostics[name] = value;
            }

        };

    })(window);

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3V0bGlhZ25vc3RpY3MubWluLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvZGVsYXVuYXRvci9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1kZWxhdW5heS9zcmMvcGF0aC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1kZWxhdW5heS9zcmMvcG9seWdvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1kZWxhdW5heS9zcmMvdm9yb25vaS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1kZWxhdW5heS9zcmMvZGVsYXVuYXkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS91bmRlcnNjb3JlLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9rcnVza2FsLW1zdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zaW1wbGUtc3RhdGlzdGljcy9kaXN0L3NpbXBsZS1zdGF0aXN0aWNzLm1qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY2x1bXB5LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9saW5lLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9kZWxhdW5heS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvb3V0bHlpbmcuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL25vcm1hbGl6ZXIuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2xlYWRlcmJpbm5lci5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvYmlubmVyLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvb3V0bGlhZ25vc3RpY3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBFUFNJTE9OID0gTWF0aC5wb3coMiwgLTUyKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVsYXVuYXRvciB7XG5cbiAgICBzdGF0aWMgZnJvbShwb2ludHMsIGdldFgsIGdldFkpIHtcbiAgICAgICAgaWYgKCFnZXRYKSBnZXRYID0gZGVmYXVsdEdldFg7XG4gICAgICAgIGlmICghZ2V0WSkgZ2V0WSA9IGRlZmF1bHRHZXRZO1xuXG4gICAgICAgIGNvbnN0IG4gPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBjb29yZHMgPSBuZXcgRmxvYXQ2NEFycmF5KG4gKiAyKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvb3Jkc1syICogaV0gPSBnZXRYKHApO1xuICAgICAgICAgICAgY29vcmRzWzIgKiBpICsgMV0gPSBnZXRZKHApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBEZWxhdW5hdG9yKGNvb3Jkcyk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoY29vcmRzKSB7XG4gICAgICAgIGxldCBtaW5YID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBtaW5ZID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBtYXhYID0gLUluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICBjb25zdCBuID0gY29vcmRzLmxlbmd0aCA+PiAxO1xuICAgICAgICBjb25zdCBpZHMgPSB0aGlzLmlkcyA9IG5ldyBVaW50MzJBcnJheShuKTtcblxuICAgICAgICBpZiAobiA+IDAgJiYgdHlwZW9mIGNvb3Jkc1swXSAhPT0gJ251bWJlcicpIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgY29vcmRzIHRvIGNvbnRhaW4gbnVtYmVycy4nKTtcblxuICAgICAgICB0aGlzLmNvb3JkcyA9IGNvb3JkcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgeCA9IGNvb3Jkc1syICogaV07XG4gICAgICAgICAgICBjb25zdCB5ID0gY29vcmRzWzIgKiBpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICAgICAgaWRzW2ldID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN4ID0gKG1pblggKyBtYXhYKSAvIDI7XG4gICAgICAgIGNvbnN0IGN5ID0gKG1pblkgKyBtYXhZKSAvIDI7XG5cbiAgICAgICAgbGV0IG1pbkRpc3QgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IGkwLCBpMSwgaTI7XG5cbiAgICAgICAgLy8gcGljayBhIHNlZWQgcG9pbnQgY2xvc2UgdG8gdGhlIGNlbnRyb2lkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkID0gZGlzdChjeCwgY3ksIGNvb3Jkc1syICogaV0sIGNvb3Jkc1syICogaSArIDFdKTtcbiAgICAgICAgICAgIGlmIChkIDwgbWluRGlzdCkge1xuICAgICAgICAgICAgICAgIGkwID0gaTtcbiAgICAgICAgICAgICAgICBtaW5EaXN0ID0gZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpMHggPSBjb29yZHNbMiAqIGkwXTtcbiAgICAgICAgY29uc3QgaTB5ID0gY29vcmRzWzIgKiBpMCArIDFdO1xuXG4gICAgICAgIG1pbkRpc3QgPSBJbmZpbml0eTtcblxuICAgICAgICAvLyBmaW5kIHRoZSBwb2ludCBjbG9zZXN0IHRvIHRoZSBzZWVkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaTApIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgZCA9IGRpc3QoaTB4LCBpMHksIGNvb3Jkc1syICogaV0sIGNvb3Jkc1syICogaSArIDFdKTtcbiAgICAgICAgICAgIGlmIChkIDwgbWluRGlzdCAmJiBkID4gMCkge1xuICAgICAgICAgICAgICAgIGkxID0gaTtcbiAgICAgICAgICAgICAgICBtaW5EaXN0ID0gZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgaTF4ID0gY29vcmRzWzIgKiBpMV07XG4gICAgICAgIGxldCBpMXkgPSBjb29yZHNbMiAqIGkxICsgMV07XG5cbiAgICAgICAgbGV0IG1pblJhZGl1cyA9IEluZmluaXR5O1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIHRoaXJkIHBvaW50IHdoaWNoIGZvcm1zIHRoZSBzbWFsbGVzdCBjaXJjdW1jaXJjbGUgd2l0aCB0aGUgZmlyc3QgdHdvXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaTAgfHwgaSA9PT0gaTEpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgciA9IGNpcmN1bXJhZGl1cyhpMHgsIGkweSwgaTF4LCBpMXksIGNvb3Jkc1syICogaV0sIGNvb3Jkc1syICogaSArIDFdKTtcbiAgICAgICAgICAgIGlmIChyIDwgbWluUmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgaTIgPSBpO1xuICAgICAgICAgICAgICAgIG1pblJhZGl1cyA9IHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGkyeCA9IGNvb3Jkc1syICogaTJdO1xuICAgICAgICBsZXQgaTJ5ID0gY29vcmRzWzIgKiBpMiArIDFdO1xuXG4gICAgICAgIGlmIChtaW5SYWRpdXMgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIERlbGF1bmF5IHRyaWFuZ3VsYXRpb24gZXhpc3RzIGZvciB0aGlzIGlucHV0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3dhcCB0aGUgb3JkZXIgb2YgdGhlIHNlZWQgcG9pbnRzIGZvciBjb3VudGVyLWNsb2Nrd2lzZSBvcmllbnRhdGlvblxuICAgICAgICBpZiAob3JpZW50KGkweCwgaTB5LCBpMXgsIGkxeSwgaTJ4LCBpMnkpKSB7XG4gICAgICAgICAgICBjb25zdCBpID0gaTE7XG4gICAgICAgICAgICBjb25zdCB4ID0gaTF4O1xuICAgICAgICAgICAgY29uc3QgeSA9IGkxeTtcbiAgICAgICAgICAgIGkxID0gaTI7XG4gICAgICAgICAgICBpMXggPSBpMng7XG4gICAgICAgICAgICBpMXkgPSBpMnk7XG4gICAgICAgICAgICBpMiA9IGk7XG4gICAgICAgICAgICBpMnggPSB4O1xuICAgICAgICAgICAgaTJ5ID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGNpcmN1bWNlbnRlcihpMHgsIGkweSwgaTF4LCBpMXksIGkyeCwgaTJ5KTtcbiAgICAgICAgdGhpcy5fY3ggPSBjZW50ZXIueDtcbiAgICAgICAgdGhpcy5fY3kgPSBjZW50ZXIueTtcblxuICAgICAgICAvLyBzb3J0IHRoZSBwb2ludHMgYnkgZGlzdGFuY2UgZnJvbSB0aGUgc2VlZCB0cmlhbmdsZSBjaXJjdW1jZW50ZXJcbiAgICAgICAgcXVpY2tzb3J0KGlkcywgY29vcmRzLCAwLCBpZHMubGVuZ3RoIC0gMSwgY2VudGVyLngsIGNlbnRlci55KTtcblxuICAgICAgICAvLyBpbml0aWFsaXplIGEgaGFzaCB0YWJsZSBmb3Igc3RvcmluZyBlZGdlcyBvZiB0aGUgYWR2YW5jaW5nIGNvbnZleCBodWxsXG4gICAgICAgIHRoaXMuX2hhc2hTaXplID0gTWF0aC5jZWlsKE1hdGguc3FydChuKSk7XG4gICAgICAgIHRoaXMuX2hhc2ggPSBuZXcgQXJyYXkodGhpcy5faGFzaFNpemUpO1xuXG4gICAgICAgIC8vIGluaXRpYWxpemUgYSBjaXJjdWxhciBkb3VibHktbGlua2VkIGxpc3QgdGhhdCB3aWxsIGhvbGQgYW4gYWR2YW5jaW5nIGNvbnZleCBodWxsXG4gICAgICAgIGxldCBlID0gdGhpcy5odWxsID0gaW5zZXJ0Tm9kZShjb29yZHMsIGkwKTtcbiAgICAgICAgdGhpcy5faGFzaEVkZ2UoZSk7XG4gICAgICAgIGUudCA9IDA7XG4gICAgICAgIGUgPSBpbnNlcnROb2RlKGNvb3JkcywgaTEsIGUpO1xuICAgICAgICB0aGlzLl9oYXNoRWRnZShlKTtcbiAgICAgICAgZS50ID0gMTtcbiAgICAgICAgZSA9IGluc2VydE5vZGUoY29vcmRzLCBpMiwgZSk7XG4gICAgICAgIHRoaXMuX2hhc2hFZGdlKGUpO1xuICAgICAgICBlLnQgPSAyO1xuXG4gICAgICAgIGNvbnN0IG1heFRyaWFuZ2xlcyA9IDIgKiBuIC0gNTtcbiAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gdGhpcy50cmlhbmdsZXMgPSBuZXcgVWludDMyQXJyYXkobWF4VHJpYW5nbGVzICogMyk7XG4gICAgICAgIGNvbnN0IGhhbGZlZGdlcyA9IHRoaXMuaGFsZmVkZ2VzID0gbmV3IEludDMyQXJyYXkobWF4VHJpYW5nbGVzICogMyk7XG5cbiAgICAgICAgdGhpcy50cmlhbmdsZXNMZW4gPSAwO1xuXG4gICAgICAgIHRoaXMuX2FkZFRyaWFuZ2xlKGkwLCBpMSwgaTIsIC0xLCAtMSwgLTEpO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSAwLCB4cCwgeXA7IGsgPCBpZHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBpZHNba107XG4gICAgICAgICAgICBjb25zdCB4ID0gY29vcmRzWzIgKiBpXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBjb29yZHNbMiAqIGkgKyAxXTtcblxuICAgICAgICAgICAgLy8gc2tpcCBuZWFyLWR1cGxpY2F0ZSBwb2ludHNcbiAgICAgICAgICAgIGlmIChrID4gMCAmJiBNYXRoLmFicyh4IC0geHApIDw9IEVQU0lMT04gJiYgTWF0aC5hYnMoeSAtIHlwKSA8PSBFUFNJTE9OKSBjb250aW51ZTtcbiAgICAgICAgICAgIHhwID0geDtcbiAgICAgICAgICAgIHlwID0geTtcblxuICAgICAgICAgICAgLy8gc2tpcCBzZWVkIHRyaWFuZ2xlIHBvaW50c1xuICAgICAgICAgICAgaWYgKGkgPT09IGkwIHx8IGkgPT09IGkxIHx8IGkgPT09IGkyKSBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gZmluZCBhIHZpc2libGUgZWRnZSBvbiB0aGUgY29udmV4IGh1bGwgdXNpbmcgZWRnZSBoYXNoXG4gICAgICAgICAgICBjb25zdCBzdGFydEtleSA9IHRoaXMuX2hhc2hLZXkoeCwgeSk7XG4gICAgICAgICAgICBsZXQga2V5ID0gc3RhcnRLZXk7XG4gICAgICAgICAgICBsZXQgc3RhcnQ7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLl9oYXNoW2tleV07XG4gICAgICAgICAgICAgICAga2V5ID0gKGtleSArIDEpICUgdGhpcy5faGFzaFNpemU7XG4gICAgICAgICAgICB9IHdoaWxlICgoIXN0YXJ0IHx8IHN0YXJ0LnJlbW92ZWQpICYmIGtleSAhPT0gc3RhcnRLZXkpO1xuXG4gICAgICAgICAgICBzdGFydCA9IHN0YXJ0LnByZXY7XG4gICAgICAgICAgICBlID0gc3RhcnQ7XG4gICAgICAgICAgICB3aGlsZSAoIW9yaWVudCh4LCB5LCBlLngsIGUueSwgZS5uZXh0LngsIGUubmV4dC55KSkge1xuICAgICAgICAgICAgICAgIGUgPSBlLm5leHQ7XG4gICAgICAgICAgICAgICAgaWYgKGUgPT09IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsaWtlbHkgYSBuZWFyLWR1cGxpY2F0ZSBwb2ludDsgc2tpcCBpdFxuICAgICAgICAgICAgaWYgKCFlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3Qgd2Fsa0JhY2sgPSBlID09PSBzdGFydDtcblxuICAgICAgICAgICAgLy8gYWRkIHRoZSBmaXJzdCB0cmlhbmdsZSBmcm9tIHRoZSBwb2ludFxuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLl9hZGRUcmlhbmdsZShlLmksIGksIGUubmV4dC5pLCAtMSwgLTEsIGUudCk7XG5cbiAgICAgICAgICAgIGUudCA9IHQ7IC8vIGtlZXAgdHJhY2sgb2YgYm91bmRhcnkgdHJpYW5nbGVzIG9uIHRoZSBodWxsXG4gICAgICAgICAgICBlID0gaW5zZXJ0Tm9kZShjb29yZHMsIGksIGUpO1xuXG4gICAgICAgICAgICAvLyByZWN1cnNpdmVseSBmbGlwIHRyaWFuZ2xlcyBmcm9tIHRoZSBwb2ludCB1bnRpbCB0aGV5IHNhdGlzZnkgdGhlIERlbGF1bmF5IGNvbmRpdGlvblxuICAgICAgICAgICAgZS50ID0gdGhpcy5fbGVnYWxpemUodCArIDIpO1xuXG4gICAgICAgICAgICAvLyB3YWxrIGZvcndhcmQgdGhyb3VnaCB0aGUgaHVsbCwgYWRkaW5nIG1vcmUgdHJpYW5nbGVzIGFuZCBmbGlwcGluZyByZWN1cnNpdmVseVxuICAgICAgICAgICAgbGV0IHEgPSBlLm5leHQ7XG4gICAgICAgICAgICB3aGlsZSAob3JpZW50KHgsIHksIHEueCwgcS55LCBxLm5leHQueCwgcS5uZXh0LnkpKSB7XG4gICAgICAgICAgICAgICAgdCA9IHRoaXMuX2FkZFRyaWFuZ2xlKHEuaSwgaSwgcS5uZXh0LmksIHEucHJldi50LCAtMSwgcS50KTtcbiAgICAgICAgICAgICAgICBxLnByZXYudCA9IHRoaXMuX2xlZ2FsaXplKHQgKyAyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmh1bGwgPSByZW1vdmVOb2RlKHEpO1xuICAgICAgICAgICAgICAgIHEgPSBxLm5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3YWxrQmFjaykge1xuICAgICAgICAgICAgICAgIC8vIHdhbGsgYmFja3dhcmQgZnJvbSB0aGUgb3RoZXIgc2lkZSwgYWRkaW5nIG1vcmUgdHJpYW5nbGVzIGFuZCBmbGlwcGluZ1xuICAgICAgICAgICAgICAgIHEgPSBlLnByZXY7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9yaWVudCh4LCB5LCBxLnByZXYueCwgcS5wcmV2LnksIHEueCwgcS55KSkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gdGhpcy5fYWRkVHJpYW5nbGUocS5wcmV2LmksIGksIHEuaSwgLTEsIHEudCwgcS5wcmV2LnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sZWdhbGl6ZSh0ICsgMik7XG4gICAgICAgICAgICAgICAgICAgIHEucHJldi50ID0gdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5odWxsID0gcmVtb3ZlTm9kZShxKTtcbiAgICAgICAgICAgICAgICAgICAgcSA9IHEucHJldjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNhdmUgdGhlIHR3byBuZXcgZWRnZXMgaW4gdGhlIGhhc2ggdGFibGVcbiAgICAgICAgICAgIHRoaXMuX2hhc2hFZGdlKGUpO1xuICAgICAgICAgICAgdGhpcy5faGFzaEVkZ2UoZS5wcmV2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyaW0gdHlwZWQgdHJpYW5nbGUgbWVzaCBhcnJheXNcbiAgICAgICAgdGhpcy50cmlhbmdsZXMgPSB0cmlhbmdsZXMuc3ViYXJyYXkoMCwgdGhpcy50cmlhbmdsZXNMZW4pO1xuICAgICAgICB0aGlzLmhhbGZlZGdlcyA9IGhhbGZlZGdlcy5zdWJhcnJheSgwLCB0aGlzLnRyaWFuZ2xlc0xlbik7XG4gICAgfVxuXG4gICAgX2hhc2hFZGdlKGUpIHtcbiAgICAgICAgdGhpcy5faGFzaFt0aGlzLl9oYXNoS2V5KGUueCwgZS55KV0gPSBlO1xuICAgIH1cblxuICAgIF9oYXNoS2V5KHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IocHNldWRvQW5nbGUoeCAtIHRoaXMuX2N4LCB5IC0gdGhpcy5fY3kpICogdGhpcy5faGFzaFNpemUpICUgdGhpcy5faGFzaFNpemU7XG4gICAgfVxuXG4gICAgX2xlZ2FsaXplKGEpIHtcbiAgICAgICAgY29uc3Qge3RyaWFuZ2xlcywgY29vcmRzLCBoYWxmZWRnZXN9ID0gdGhpcztcblxuICAgICAgICBjb25zdCBiID0gaGFsZmVkZ2VzW2FdO1xuXG4gICAgICAgIC8qIGlmIHRoZSBwYWlyIG9mIHRyaWFuZ2xlcyBkb2Vzbid0IHNhdGlzZnkgdGhlIERlbGF1bmF5IGNvbmRpdGlvblxuICAgICAgICAgKiAocDEgaXMgaW5zaWRlIHRoZSBjaXJjdW1jaXJjbGUgb2YgW3AwLCBwbCwgcHJdKSwgZmxpcCB0aGVtLFxuICAgICAgICAgKiB0aGVuIGRvIHRoZSBzYW1lIGNoZWNrL2ZsaXAgcmVjdXJzaXZlbHkgZm9yIHRoZSBuZXcgcGFpciBvZiB0cmlhbmdsZXNcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICAgIHBsICAgICAgICAgICAgICAgICAgICBwbFxuICAgICAgICAgKiAgICAgICAgICAvfHxcXCAgICAgICAgICAgICAgICAgIC8gIFxcXG4gICAgICAgICAqICAgICAgIGFsLyB8fCBcXGJsICAgICAgICAgICAgYWwvICAgIFxcYVxuICAgICAgICAgKiAgICAgICAgLyAgfHwgIFxcICAgICAgICAgICAgICAvICAgICAgXFxcbiAgICAgICAgICogICAgICAgLyAgYXx8YiAgXFwgICAgZmxpcCAgICAvX19fYXJfX19cXFxuICAgICAgICAgKiAgICAgcDBcXCAgIHx8ICAgL3AxICAgPT4gICBwMFxcLS0tYmwtLS0vcDFcbiAgICAgICAgICogICAgICAgIFxcICB8fCAgLyAgICAgICAgICAgICAgXFwgICAgICAvXG4gICAgICAgICAqICAgICAgIGFyXFwgfHwgL2JyICAgICAgICAgICAgIGJcXCAgICAvYnJcbiAgICAgICAgICogICAgICAgICAgXFx8fC8gICAgICAgICAgICAgICAgICBcXCAgL1xuICAgICAgICAgKiAgICAgICAgICAgcHIgICAgICAgICAgICAgICAgICAgIHByXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBhMCA9IGEgLSBhICUgMztcbiAgICAgICAgY29uc3QgYjAgPSBiIC0gYiAlIDM7XG5cbiAgICAgICAgY29uc3QgYWwgPSBhMCArIChhICsgMSkgJSAzO1xuICAgICAgICBjb25zdCBhciA9IGEwICsgKGEgKyAyKSAlIDM7XG4gICAgICAgIGNvbnN0IGJsID0gYjAgKyAoYiArIDIpICUgMztcblxuICAgICAgICBpZiAoYiA9PT0gLTEpIHJldHVybiBhcjtcblxuICAgICAgICBjb25zdCBwMCA9IHRyaWFuZ2xlc1thcl07XG4gICAgICAgIGNvbnN0IHByID0gdHJpYW5nbGVzW2FdO1xuICAgICAgICBjb25zdCBwbCA9IHRyaWFuZ2xlc1thbF07XG4gICAgICAgIGNvbnN0IHAxID0gdHJpYW5nbGVzW2JsXTtcblxuICAgICAgICBjb25zdCBpbGxlZ2FsID0gaW5DaXJjbGUoXG4gICAgICAgICAgICBjb29yZHNbMiAqIHAwXSwgY29vcmRzWzIgKiBwMCArIDFdLFxuICAgICAgICAgICAgY29vcmRzWzIgKiBwcl0sIGNvb3Jkc1syICogcHIgKyAxXSxcbiAgICAgICAgICAgIGNvb3Jkc1syICogcGxdLCBjb29yZHNbMiAqIHBsICsgMV0sXG4gICAgICAgICAgICBjb29yZHNbMiAqIHAxXSwgY29vcmRzWzIgKiBwMSArIDFdKTtcblxuICAgICAgICBpZiAoaWxsZWdhbCkge1xuICAgICAgICAgICAgdHJpYW5nbGVzW2FdID0gcDE7XG4gICAgICAgICAgICB0cmlhbmdsZXNbYl0gPSBwMDtcblxuICAgICAgICAgICAgY29uc3QgaGJsID0gaGFsZmVkZ2VzW2JsXTtcblxuICAgICAgICAgICAgLy8gZWRnZSBzd2FwcGVkIG9uIHRoZSBvdGhlciBzaWRlIG9mIHRoZSBodWxsIChyYXJlKTsgZml4IHRoZSBoYWxmZWRnZSByZWZlcmVuY2VcbiAgICAgICAgICAgIGlmIChoYmwgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSB0aGlzLmh1bGw7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50ID09PSBibCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50ID0gYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGUgPSBlLm5leHQ7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoZSAhPT0gdGhpcy5odWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xpbmsoYSwgaGJsKTtcbiAgICAgICAgICAgIHRoaXMuX2xpbmsoYiwgaGFsZmVkZ2VzW2FyXSk7XG4gICAgICAgICAgICB0aGlzLl9saW5rKGFyLCBibCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJyID0gYjAgKyAoYiArIDEpICUgMztcblxuICAgICAgICAgICAgdGhpcy5fbGVnYWxpemUoYSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVnYWxpemUoYnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyO1xuICAgIH1cblxuICAgIF9saW5rKGEsIGIpIHtcbiAgICAgICAgdGhpcy5oYWxmZWRnZXNbYV0gPSBiO1xuICAgICAgICBpZiAoYiAhPT0gLTEpIHRoaXMuaGFsZmVkZ2VzW2JdID0gYTtcbiAgICB9XG5cbiAgICAvLyBhZGQgYSBuZXcgdHJpYW5nbGUgZ2l2ZW4gdmVydGV4IGluZGljZXMgYW5kIGFkamFjZW50IGhhbGYtZWRnZSBpZHNcbiAgICBfYWRkVHJpYW5nbGUoaTAsIGkxLCBpMiwgYSwgYiwgYykge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy50cmlhbmdsZXNMZW47XG5cbiAgICAgICAgdGhpcy50cmlhbmdsZXNbdF0gPSBpMDtcbiAgICAgICAgdGhpcy50cmlhbmdsZXNbdCArIDFdID0gaTE7XG4gICAgICAgIHRoaXMudHJpYW5nbGVzW3QgKyAyXSA9IGkyO1xuXG4gICAgICAgIHRoaXMuX2xpbmsodCwgYSk7XG4gICAgICAgIHRoaXMuX2xpbmsodCArIDEsIGIpO1xuICAgICAgICB0aGlzLl9saW5rKHQgKyAyLCBjKTtcblxuICAgICAgICB0aGlzLnRyaWFuZ2xlc0xlbiArPSAzO1xuXG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbn1cblxuLy8gbW9ub3RvbmljYWxseSBpbmNyZWFzZXMgd2l0aCByZWFsIGFuZ2xlLCBidXQgZG9lc24ndCBuZWVkIGV4cGVuc2l2ZSB0cmlnb25vbWV0cnlcbmZ1bmN0aW9uIHBzZXVkb0FuZ2xlKGR4LCBkeSkge1xuICAgIGNvbnN0IHAgPSBkeCAvIChNYXRoLmFicyhkeCkgKyBNYXRoLmFicyhkeSkpO1xuICAgIHJldHVybiAoZHkgPiAwID8gMyAtIHAgOiAxICsgcCkgLyA0OyAvLyBbMC4uMV1cbn1cblxuZnVuY3Rpb24gZGlzdChheCwgYXksIGJ4LCBieSkge1xuICAgIGNvbnN0IGR4ID0gYXggLSBieDtcbiAgICBjb25zdCBkeSA9IGF5IC0gYnk7XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuXG5mdW5jdGlvbiBvcmllbnQocHgsIHB5LCBxeCwgcXksIHJ4LCByeSkge1xuICAgIHJldHVybiAocXkgLSBweSkgKiAocnggLSBxeCkgLSAocXggLSBweCkgKiAocnkgLSBxeSkgPCAwO1xufVxuXG5mdW5jdGlvbiBpbkNpcmNsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICBjb25zdCBkeCA9IGF4IC0gcHg7XG4gICAgY29uc3QgZHkgPSBheSAtIHB5O1xuICAgIGNvbnN0IGV4ID0gYnggLSBweDtcbiAgICBjb25zdCBleSA9IGJ5IC0gcHk7XG4gICAgY29uc3QgZnggPSBjeCAtIHB4O1xuICAgIGNvbnN0IGZ5ID0gY3kgLSBweTtcblxuICAgIGNvbnN0IGFwID0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgY29uc3QgYnAgPSBleCAqIGV4ICsgZXkgKiBleTtcbiAgICBjb25zdCBjcCA9IGZ4ICogZnggKyBmeSAqIGZ5O1xuXG4gICAgcmV0dXJuIGR4ICogKGV5ICogY3AgLSBicCAqIGZ5KSAtXG4gICAgICAgICAgIGR5ICogKGV4ICogY3AgLSBicCAqIGZ4KSArXG4gICAgICAgICAgIGFwICogKGV4ICogZnkgLSBleSAqIGZ4KSA8IDA7XG59XG5cbmZ1bmN0aW9uIGNpcmN1bXJhZGl1cyhheCwgYXksIGJ4LCBieSwgY3gsIGN5KSB7XG4gICAgY29uc3QgZHggPSBieCAtIGF4O1xuICAgIGNvbnN0IGR5ID0gYnkgLSBheTtcbiAgICBjb25zdCBleCA9IGN4IC0gYXg7XG4gICAgY29uc3QgZXkgPSBjeSAtIGF5O1xuXG4gICAgY29uc3QgYmwgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICBjb25zdCBjbCA9IGV4ICogZXggKyBleSAqIGV5O1xuICAgIGNvbnN0IGQgPSBkeCAqIGV5IC0gZHkgKiBleDtcblxuICAgIGNvbnN0IHggPSAoZXkgKiBibCAtIGR5ICogY2wpICogMC41IC8gZDtcbiAgICBjb25zdCB5ID0gKGR4ICogY2wgLSBleCAqIGJsKSAqIDAuNSAvIGQ7XG5cbiAgICByZXR1cm4gYmwgJiYgY2wgJiYgZCAmJiAoeCAqIHggKyB5ICogeSkgfHwgSW5maW5pdHk7XG59XG5cbmZ1bmN0aW9uIGNpcmN1bWNlbnRlcihheCwgYXksIGJ4LCBieSwgY3gsIGN5KSB7XG4gICAgY29uc3QgZHggPSBieCAtIGF4O1xuICAgIGNvbnN0IGR5ID0gYnkgLSBheTtcbiAgICBjb25zdCBleCA9IGN4IC0gYXg7XG4gICAgY29uc3QgZXkgPSBjeSAtIGF5O1xuXG4gICAgY29uc3QgYmwgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICBjb25zdCBjbCA9IGV4ICogZXggKyBleSAqIGV5O1xuICAgIGNvbnN0IGQgPSBkeCAqIGV5IC0gZHkgKiBleDtcblxuICAgIGNvbnN0IHggPSBheCArIChleSAqIGJsIC0gZHkgKiBjbCkgKiAwLjUgLyBkO1xuICAgIGNvbnN0IHkgPSBheSArIChkeCAqIGNsIC0gZXggKiBibCkgKiAwLjUgLyBkO1xuXG4gICAgcmV0dXJuIHt4LCB5fTtcbn1cblxuLy8gY3JlYXRlIGEgbmV3IG5vZGUgaW4gYSBkb3VibHkgbGlua2VkIGxpc3RcbmZ1bmN0aW9uIGluc2VydE5vZGUoY29vcmRzLCBpLCBwcmV2KSB7XG4gICAgY29uc3Qgbm9kZSA9IHtcbiAgICAgICAgaSxcbiAgICAgICAgeDogY29vcmRzWzIgKiBpXSxcbiAgICAgICAgeTogY29vcmRzWzIgKiBpICsgMV0sXG4gICAgICAgIHQ6IDAsXG4gICAgICAgIHByZXY6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgIHJlbW92ZWQ6IGZhbHNlXG4gICAgfTtcblxuICAgIGlmICghcHJldikge1xuICAgICAgICBub2RlLnByZXYgPSBub2RlO1xuICAgICAgICBub2RlLm5leHQgPSBub2RlO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5uZXh0ID0gcHJldi5uZXh0O1xuICAgICAgICBub2RlLnByZXYgPSBwcmV2O1xuICAgICAgICBwcmV2Lm5leHQucHJldiA9IG5vZGU7XG4gICAgICAgIHByZXYubmV4dCA9IG5vZGU7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgICBub2RlLnByZXYubmV4dCA9IG5vZGUubmV4dDtcbiAgICBub2RlLm5leHQucHJldiA9IG5vZGUucHJldjtcbiAgICBub2RlLnJlbW92ZWQgPSB0cnVlO1xuICAgIHJldHVybiBub2RlLnByZXY7XG59XG5cbmZ1bmN0aW9uIHF1aWNrc29ydChpZHMsIGNvb3JkcywgbGVmdCwgcmlnaHQsIGN4LCBjeSkge1xuICAgIGxldCBpLCBqLCB0ZW1wO1xuXG4gICAgaWYgKHJpZ2h0IC0gbGVmdCA8PSAyMCkge1xuICAgICAgICBmb3IgKGkgPSBsZWZ0ICsgMTsgaSA8PSByaWdodDsgaSsrKSB7XG4gICAgICAgICAgICB0ZW1wID0gaWRzW2ldO1xuICAgICAgICAgICAgaiA9IGkgLSAxO1xuICAgICAgICAgICAgd2hpbGUgKGogPj0gbGVmdCAmJiBjb21wYXJlKGNvb3JkcywgaWRzW2pdLCB0ZW1wLCBjeCwgY3kpID4gMCkgaWRzW2ogKyAxXSA9IGlkc1tqLS1dO1xuICAgICAgICAgICAgaWRzW2ogKyAxXSA9IHRlbXA7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtZWRpYW4gPSAobGVmdCArIHJpZ2h0KSA+PiAxO1xuICAgICAgICBpID0gbGVmdCArIDE7XG4gICAgICAgIGogPSByaWdodDtcbiAgICAgICAgc3dhcChpZHMsIG1lZGlhbiwgaSk7XG4gICAgICAgIGlmIChjb21wYXJlKGNvb3JkcywgaWRzW2xlZnRdLCBpZHNbcmlnaHRdLCBjeCwgY3kpID4gMCkgc3dhcChpZHMsIGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgaWYgKGNvbXBhcmUoY29vcmRzLCBpZHNbaV0sIGlkc1tyaWdodF0sIGN4LCBjeSkgPiAwKSBzd2FwKGlkcywgaSwgcmlnaHQpO1xuICAgICAgICBpZiAoY29tcGFyZShjb29yZHMsIGlkc1tsZWZ0XSwgaWRzW2ldLCBjeCwgY3kpID4gMCkgc3dhcChpZHMsIGxlZnQsIGkpO1xuXG4gICAgICAgIHRlbXAgPSBpZHNbaV07XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBkbyBpKys7IHdoaWxlIChjb21wYXJlKGNvb3JkcywgaWRzW2ldLCB0ZW1wLCBjeCwgY3kpIDwgMCk7XG4gICAgICAgICAgICBkbyBqLS07IHdoaWxlIChjb21wYXJlKGNvb3JkcywgaWRzW2pdLCB0ZW1wLCBjeCwgY3kpID4gMCk7XG4gICAgICAgICAgICBpZiAoaiA8IGkpIGJyZWFrO1xuICAgICAgICAgICAgc3dhcChpZHMsIGksIGopO1xuICAgICAgICB9XG4gICAgICAgIGlkc1tsZWZ0ICsgMV0gPSBpZHNbal07XG4gICAgICAgIGlkc1tqXSA9IHRlbXA7XG5cbiAgICAgICAgaWYgKHJpZ2h0IC0gaSArIDEgPj0gaiAtIGxlZnQpIHtcbiAgICAgICAgICAgIHF1aWNrc29ydChpZHMsIGNvb3JkcywgaSwgcmlnaHQsIGN4LCBjeSk7XG4gICAgICAgICAgICBxdWlja3NvcnQoaWRzLCBjb29yZHMsIGxlZnQsIGogLSAxLCBjeCwgY3kpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVpY2tzb3J0KGlkcywgY29vcmRzLCBsZWZ0LCBqIC0gMSwgY3gsIGN5KTtcbiAgICAgICAgICAgIHF1aWNrc29ydChpZHMsIGNvb3JkcywgaSwgcmlnaHQsIGN4LCBjeSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmUoY29vcmRzLCBpLCBqLCBjeCwgY3kpIHtcbiAgICBjb25zdCBkMSA9IGRpc3QoY29vcmRzWzIgKiBpXSwgY29vcmRzWzIgKiBpICsgMV0sIGN4LCBjeSk7XG4gICAgY29uc3QgZDIgPSBkaXN0KGNvb3Jkc1syICogal0sIGNvb3Jkc1syICogaiArIDFdLCBjeCwgY3kpO1xuICAgIHJldHVybiAoZDEgLSBkMikgfHwgKGNvb3Jkc1syICogaV0gLSBjb29yZHNbMiAqIGpdKSB8fCAoY29vcmRzWzIgKiBpICsgMV0gLSBjb29yZHNbMiAqIGogKyAxXSk7XG59XG5cbmZ1bmN0aW9uIHN3YXAoYXJyLCBpLCBqKSB7XG4gICAgY29uc3QgdG1wID0gYXJyW2ldO1xuICAgIGFycltpXSA9IGFycltqXTtcbiAgICBhcnJbal0gPSB0bXA7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRHZXRYKHApIHtcbiAgICByZXR1cm4gcFswXTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRHZXRZKHApIHtcbiAgICByZXR1cm4gcFsxXTtcbn1cbiIsImNvbnN0IGVwc2lsb24gPSAxZS02O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXRoIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5feDAgPSB0aGlzLl95MCA9IC8vIHN0YXJ0IG9mIGN1cnJlbnQgc3VicGF0aFxuICAgIHRoaXMuX3gxID0gdGhpcy5feTEgPSBudWxsOyAvLyBlbmQgb2YgY3VycmVudCBzdWJwYXRoXG4gICAgdGhpcy5fID0gXCJcIjtcbiAgfVxuICBtb3ZlVG8oeCwgeSkge1xuICAgIHRoaXMuXyArPSBgTSR7dGhpcy5feDAgPSB0aGlzLl94MSA9ICt4fSwke3RoaXMuX3kwID0gdGhpcy5feTEgPSAreX1gO1xuICB9XG4gIGNsb3NlUGF0aCgpIHtcbiAgICBpZiAodGhpcy5feDEgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuX3gxID0gdGhpcy5feDAsIHRoaXMuX3kxID0gdGhpcy5feTA7XG4gICAgICB0aGlzLl8gKz0gXCJaXCI7XG4gICAgfVxuICB9XG4gIGxpbmVUbyh4LCB5KSB7XG4gICAgdGhpcy5fICs9IGBMJHt0aGlzLl94MSA9ICt4fSwke3RoaXMuX3kxID0gK3l9YDtcbiAgfVxuICBhcmMoeCwgeSwgcikge1xuICAgIHggPSAreCwgeSA9ICt5LCByID0gK3I7XG4gICAgY29uc3QgeDAgPSB4ICsgcjtcbiAgICBjb25zdCB5MCA9IHk7XG4gICAgaWYgKHIgPCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJuZWdhdGl2ZSByYWRpdXNcIik7XG4gICAgaWYgKHRoaXMuX3gxID09PSBudWxsKSB0aGlzLl8gKz0gYE0ke3gwfSwke3kwfWA7XG4gICAgZWxzZSBpZiAoTWF0aC5hYnModGhpcy5feDEgLSB4MCkgPiBlcHNpbG9uIHx8IE1hdGguYWJzKHRoaXMuX3kxIC0geTApID4gZXBzaWxvbikgdGhpcy5fICs9IFwiTFwiICsgeDAgKyBcIixcIiArIHkwO1xuICAgIGlmICghcikgcmV0dXJuO1xuICAgIHRoaXMuXyArPSBgQSR7cn0sJHtyfSwwLDEsMSwke3ggLSByfSwke3l9QSR7cn0sJHtyfSwwLDEsMSwke3RoaXMuX3gxID0geDB9LCR7dGhpcy5feTEgPSB5MH1gO1xuICB9XG4gIHJlY3QoeCwgeSwgdywgaCkge1xuICAgIHRoaXMuXyArPSBgTSR7dGhpcy5feDAgPSB0aGlzLl94MSA9ICt4fSwke3RoaXMuX3kwID0gdGhpcy5feTEgPSAreX1oJHsrd312JHsraH1oJHstd31aYDtcbiAgfVxuICB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fIHx8IG51bGw7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvbHlnb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl8gPSBbXTtcbiAgfVxuICBtb3ZlVG8oeCwgeSkge1xuICAgIHRoaXMuXy5wdXNoKFt4LCB5XSk7XG4gIH1cbiAgY2xvc2VQYXRoKCkge1xuICAgIHRoaXMuXy5wdXNoKHRoaXMuX1swXS5zbGljZSgpKTtcbiAgfVxuICBsaW5lVG8oeCwgeSkge1xuICAgIHRoaXMuXy5wdXNoKFt4LCB5XSk7XG4gIH1cbiAgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuXy5sZW5ndGggPyB0aGlzLl8gOiBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgUGF0aCBmcm9tIFwiLi9wYXRoLmpzXCI7XG5pbXBvcnQgUG9seWdvbiBmcm9tIFwiLi9wb2x5Z29uLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZvcm9ub2kge1xuICBjb25zdHJ1Y3RvcihkZWxhdW5heSwgW3htaW4sIHltaW4sIHhtYXgsIHltYXhdID0gWzAsIDAsIDk2MCwgNTAwXSkge1xuICAgIGlmICghKCh4bWF4ID0gK3htYXgpID49ICh4bWluID0gK3htaW4pKSB8fCAhKCh5bWF4ID0gK3ltYXgpID49ICh5bWluID0gK3ltaW4pKSkgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBib3VuZHNcIik7XG4gICAgY29uc3Qge3BvaW50cywgaHVsbCwgdHJpYW5nbGVzfSA9IHRoaXMuZGVsYXVuYXkgPSBkZWxhdW5heTtcbiAgICBjb25zdCBjaXJjdW1jZW50ZXJzID0gdGhpcy5jaXJjdW1jZW50ZXJzID0gbmV3IEZsb2F0NjRBcnJheSh0cmlhbmdsZXMubGVuZ3RoIC8gMyAqIDIpO1xuICAgIGNvbnN0IHZlY3RvcnMgPSB0aGlzLnZlY3RvcnMgPSBuZXcgRmxvYXQ2NEFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcbiAgICB0aGlzLnhtYXggPSB4bWF4LCB0aGlzLnhtaW4gPSB4bWluO1xuICAgIHRoaXMueW1heCA9IHltYXgsIHRoaXMueW1pbiA9IHltaW47XG5cbiAgICAvLyBDb21wdXRlIGNpcmN1bWNlbnRlcnMuXG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSAwLCBuID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IG47IGkgKz0gMywgaiArPSAyKSB7XG4gICAgICBjb25zdCB0MSA9IHRyaWFuZ2xlc1tpXSAqIDI7XG4gICAgICBjb25zdCB0MiA9IHRyaWFuZ2xlc1tpICsgMV0gKiAyO1xuICAgICAgY29uc3QgdDMgPSB0cmlhbmdsZXNbaSArIDJdICogMjtcbiAgICAgIGNvbnN0IHgxID0gcG9pbnRzW3QxXTtcbiAgICAgIGNvbnN0IHkxID0gcG9pbnRzW3QxICsgMV07XG4gICAgICBjb25zdCB4MiA9IHBvaW50c1t0Ml07XG4gICAgICBjb25zdCB5MiA9IHBvaW50c1t0MiArIDFdO1xuICAgICAgY29uc3QgeDMgPSBwb2ludHNbdDNdO1xuICAgICAgY29uc3QgeTMgPSBwb2ludHNbdDMgKyAxXTtcbiAgICAgIGNvbnN0IGEyID0geDEgLSB4MjtcbiAgICAgIGNvbnN0IGEzID0geDEgLSB4MztcbiAgICAgIGNvbnN0IGIyID0geTEgLSB5MjtcbiAgICAgIGNvbnN0IGIzID0geTEgLSB5MztcbiAgICAgIGNvbnN0IGQxID0geDEgKiB4MSArIHkxICogeTE7XG4gICAgICBjb25zdCBkMiA9IGQxIC0geDIgKiB4MiAtIHkyICogeTI7XG4gICAgICBjb25zdCBkMyA9IGQxIC0geDMgKiB4MyAtIHkzICogeTM7XG4gICAgICBjb25zdCBhYiA9IChhMyAqIGIyIC0gYTIgKiBiMykgKiAyO1xuICAgICAgY2lyY3VtY2VudGVyc1tqXSA9IChiMiAqIGQzIC0gYjMgKiBkMikgLyBhYjtcbiAgICAgIGNpcmN1bWNlbnRlcnNbaiArIDFdID0gKGEzICogZDIgLSBhMiAqIGQzKSAvIGFiO1xuICAgIH1cblxuICAgIC8vIENvbXB1dGUgZXh0ZXJpb3IgY2VsbCByYXlzLlxuICAgIGxldCBub2RlID0gaHVsbDtcbiAgICBsZXQgcDAsIHAxID0gbm9kZS5pICogNDtcbiAgICBsZXQgeDAsIHgxID0gbm9kZS54O1xuICAgIGxldCB5MCwgeTEgPSBub2RlLnk7XG4gICAgZG8ge1xuICAgICAgbm9kZSA9IG5vZGUubmV4dCwgcDAgPSBwMSwgeDAgPSB4MSwgeTAgPSB5MSwgcDEgPSBub2RlLmkgKiA0LCB4MSA9IG5vZGUueCwgeTEgPSBub2RlLnk7XG4gICAgICB2ZWN0b3JzW3AwICsgMl0gPSB2ZWN0b3JzW3AxXSA9IHkwIC0geTE7XG4gICAgICB2ZWN0b3JzW3AwICsgM10gPSB2ZWN0b3JzW3AxICsgMV0gPSB4MSAtIHgwO1xuICAgIH0gd2hpbGUgKG5vZGUgIT09IGh1bGwpO1xuICB9XG4gIHJlbmRlcihjb250ZXh0KSB7XG4gICAgY29uc3QgYnVmZmVyID0gY29udGV4dCA9PSBudWxsID8gY29udGV4dCA9IG5ldyBQYXRoIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHtkZWxhdW5heToge2hhbGZlZGdlcywgaHVsbH0sIGNpcmN1bWNlbnRlcnMsIHZlY3RvcnN9ID0gdGhpcztcbiAgICBmb3IgKGxldCBpID0gMCwgbiA9IGhhbGZlZGdlcy5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgIGNvbnN0IGogPSBoYWxmZWRnZXNbaV07XG4gICAgICBpZiAoaiA8IGkpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgdGkgPSBNYXRoLmZsb29yKGkgLyAzKSAqIDI7XG4gICAgICBjb25zdCB0aiA9IE1hdGguZmxvb3IoaiAvIDMpICogMjtcbiAgICAgIGNvbnN0IHhpID0gY2lyY3VtY2VudGVyc1t0aV07XG4gICAgICBjb25zdCB5aSA9IGNpcmN1bWNlbnRlcnNbdGkgKyAxXTtcbiAgICAgIGNvbnN0IHhqID0gY2lyY3VtY2VudGVyc1t0al07XG4gICAgICBjb25zdCB5aiA9IGNpcmN1bWNlbnRlcnNbdGogKyAxXTtcbiAgICAgIHRoaXMuX3JlbmRlclNlZ21lbnQoeGksIHlpLCB4aiwgeWosIGNvbnRleHQpO1xuICAgIH1cbiAgICBsZXQgbm9kZSA9IGh1bGw7XG4gICAgZG8ge1xuICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgIGNvbnN0IHQgPSBNYXRoLmZsb29yKG5vZGUudCAvIDMpICogMjtcbiAgICAgIGNvbnN0IHggPSBjaXJjdW1jZW50ZXJzW3RdO1xuICAgICAgY29uc3QgeSA9IGNpcmN1bWNlbnRlcnNbdCArIDFdO1xuICAgICAgY29uc3QgdiA9IG5vZGUuaSAqIDQ7XG4gICAgICBjb25zdCBwID0gdGhpcy5fcHJvamVjdCh4LCB5LCB2ZWN0b3JzW3YgKyAyXSwgdmVjdG9yc1t2ICsgM10pO1xuICAgICAgaWYgKHApIHRoaXMuX3JlbmRlclNlZ21lbnQoeCwgeSwgcFswXSwgcFsxXSwgY29udGV4dCk7XG4gICAgfSB3aGlsZSAobm9kZSAhPT0gaHVsbCk7XG4gICAgcmV0dXJuIGJ1ZmZlciAmJiBidWZmZXIudmFsdWUoKTtcbiAgfVxuICByZW5kZXJCb3VuZHMoY29udGV4dCkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQgPT0gbnVsbCA/IGNvbnRleHQgPSBuZXcgUGF0aCA6IHVuZGVmaW5lZDtcbiAgICBjb250ZXh0LnJlY3QodGhpcy54bWluLCB0aGlzLnltaW4sIHRoaXMueG1heCAtIHRoaXMueG1pbiwgdGhpcy55bWF4IC0gdGhpcy55bWluKTtcbiAgICByZXR1cm4gYnVmZmVyICYmIGJ1ZmZlci52YWx1ZSgpO1xuICB9XG4gIHJlbmRlckNlbGwoaSwgY29udGV4dCkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQgPT0gbnVsbCA/IGNvbnRleHQgPSBuZXcgUGF0aCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9jbGlwKGkpO1xuICAgIGlmIChwb2ludHMgPT09IG51bGwpIHJldHVybjtcbiAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgZm9yIChsZXQgaSA9IDIsIG4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbjsgaSArPSAyKSB7XG4gICAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbaV0sIHBvaW50c1tpICsgMV0pO1xuICAgIH1cbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIHJldHVybiBidWZmZXIgJiYgYnVmZmVyLnZhbHVlKCk7XG4gIH1cbiAgKmNlbGxQb2x5Z29ucygpIHtcbiAgICBjb25zdCB7ZGVsYXVuYXk6IHtwb2ludHN9fSA9IHRoaXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIG4gPSBwb2ludHMubGVuZ3RoIC8gMjsgaSA8IG47ICsraSkge1xuICAgICAgY29uc3QgY2VsbCA9IHRoaXMuY2VsbFBvbHlnb24oaSk7XG4gICAgICBpZiAoY2VsbCkgeWllbGQgY2VsbDtcbiAgICB9XG4gIH1cbiAgY2VsbFBvbHlnb24oaSkge1xuICAgIGNvbnN0IHBvbHlnb24gPSBuZXcgUG9seWdvbjtcbiAgICB0aGlzLnJlbmRlckNlbGwoaSwgcG9seWdvbik7XG4gICAgcmV0dXJuIHBvbHlnb24udmFsdWUoKTtcbiAgfVxuICBfcmVuZGVyU2VnbWVudCh4MCwgeTAsIHgxLCB5MSwgY29udGV4dCkge1xuICAgIGxldCBTO1xuICAgIGNvbnN0IGMwID0gdGhpcy5fcmVnaW9uY29kZSh4MCwgeTApO1xuICAgIGNvbnN0IGMxID0gdGhpcy5fcmVnaW9uY29kZSh4MSwgeTEpO1xuICAgIGlmIChjMCA9PT0gMCAmJiBjMSA9PT0gMCkge1xuICAgICAgY29udGV4dC5tb3ZlVG8oeDAsIHkwKTtcbiAgICAgIGNvbnRleHQubGluZVRvKHgxLCB5MSk7XG4gICAgfSBlbHNlIGlmIChTID0gdGhpcy5fY2xpcFNlZ21lbnQoeDAsIHkwLCB4MSwgeTEsIGMwLCBjMSkpIHtcbiAgICAgIGNvbnRleHQubW92ZVRvKFNbMF0sIFNbMV0pO1xuICAgICAgY29udGV4dC5saW5lVG8oU1syXSwgU1szXSk7XG4gICAgfVxuICB9XG4gIGNvbnRhaW5zKGksIHgsIHkpIHtcbiAgICBpZiAoKHggPSAreCwgeCAhPT0geCkgfHwgKHkgPSAreSwgeSAhPT0geSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdGhpcy5kZWxhdW5heS5fc3RlcChpLCB4LCB5KSA9PT0gaTtcbiAgfVxuICBfY2VsbChpKSB7XG4gICAgY29uc3Qge2NpcmN1bWNlbnRlcnMsIGRlbGF1bmF5OiB7aW5lZGdlcywgaGFsZmVkZ2VzLCB0cmlhbmdsZXN9fSA9IHRoaXM7XG4gICAgY29uc3QgZTAgPSBpbmVkZ2VzW2ldO1xuICAgIGlmIChlMCA9PT0gLTEpIHJldHVybiBudWxsOyAvLyBjb2luY2lkZW50IHBvaW50XG4gICAgY29uc3QgcG9pbnRzID0gW107XG4gICAgbGV0IGUgPSBlMDtcbiAgICBkbyB7XG4gICAgICBjb25zdCB0ID0gTWF0aC5mbG9vcihlIC8gMyk7XG4gICAgICBwb2ludHMucHVzaChjaXJjdW1jZW50ZXJzW3QgKiAyXSwgY2lyY3VtY2VudGVyc1t0ICogMiArIDFdKTtcbiAgICAgIGUgPSBlICUgMyA9PT0gMiA/IGUgLSAyIDogZSArIDE7XG4gICAgICBpZiAodHJpYW5nbGVzW2VdICE9PSBpKSBicmVhazsgLy8gYmFkIHRyaWFuZ3VsYXRpb25cbiAgICAgIGUgPSBoYWxmZWRnZXNbZV07XG4gICAgfSB3aGlsZSAoZSAhPT0gZTAgJiYgZSAhPT0gLTEpO1xuICAgIHJldHVybiBwb2ludHM7XG4gIH1cbiAgX2NsaXAoaSkge1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuX2NlbGwoaSk7XG4gICAgaWYgKHBvaW50cyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3Qge3ZlY3RvcnM6IFZ9ID0gdGhpcztcbiAgICBjb25zdCB2ID0gaSAqIDQ7XG4gICAgcmV0dXJuIFZbdl0gfHwgVlt2ICsgMV1cbiAgICAgICAgPyB0aGlzLl9jbGlwSW5maW5pdGUoaSwgcG9pbnRzLCBWW3ZdLCBWW3YgKyAxXSwgVlt2ICsgMl0sIFZbdiArIDNdKVxuICAgICAgICA6IHRoaXMuX2NsaXBGaW5pdGUoaSwgcG9pbnRzKTtcbiAgfVxuICBfY2xpcEZpbml0ZShpLCBwb2ludHMpIHtcbiAgICBjb25zdCBuID0gcG9pbnRzLmxlbmd0aDtcbiAgICBsZXQgUCA9IG51bGw7XG4gICAgbGV0IHgwLCB5MCwgeDEgPSBwb2ludHNbbiAtIDJdLCB5MSA9IHBvaW50c1tuIC0gMV07XG4gICAgbGV0IGMwLCBjMSA9IHRoaXMuX3JlZ2lvbmNvZGUoeDEsIHkxKTtcbiAgICBsZXQgZTAsIGUxO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbjsgaiArPSAyKSB7XG4gICAgICB4MCA9IHgxLCB5MCA9IHkxLCB4MSA9IHBvaW50c1tqXSwgeTEgPSBwb2ludHNbaiArIDFdO1xuICAgICAgYzAgPSBjMSwgYzEgPSB0aGlzLl9yZWdpb25jb2RlKHgxLCB5MSk7XG4gICAgICBpZiAoYzAgPT09IDAgJiYgYzEgPT09IDApIHtcbiAgICAgICAgZTAgPSBlMSwgZTEgPSAwO1xuICAgICAgICBpZiAoUCkgUC5wdXNoKHgxLCB5MSk7XG4gICAgICAgIGVsc2UgUCA9IFt4MSwgeTFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IFMsIHN4MCwgc3kwLCBzeDEsIHN5MTtcbiAgICAgICAgaWYgKGMwID09PSAwKSB7XG4gICAgICAgICAgaWYgKChTID0gdGhpcy5fY2xpcFNlZ21lbnQoeDAsIHkwLCB4MSwgeTEsIGMwLCBjMSkpID09PSBudWxsKSBjb250aW51ZTtcbiAgICAgICAgICBbc3gwLCBzeTAsIHN4MSwgc3kxXSA9IFM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKChTID0gdGhpcy5fY2xpcFNlZ21lbnQoeDEsIHkxLCB4MCwgeTAsIGMxLCBjMCkpID09PSBudWxsKSBjb250aW51ZTtcbiAgICAgICAgICBbc3gxLCBzeTEsIHN4MCwgc3kwXSA9IFM7XG4gICAgICAgICAgZTAgPSBlMSwgZTEgPSB0aGlzLl9lZGdlY29kZShzeDAsIHN5MCk7XG4gICAgICAgICAgaWYgKGUwICYmIGUxKSB0aGlzLl9lZGdlKGksIGUwLCBlMSwgUCwgUC5sZW5ndGgpO1xuICAgICAgICAgIGlmIChQKSBQLnB1c2goc3gwLCBzeTApO1xuICAgICAgICAgIGVsc2UgUCA9IFtzeDAsIHN5MF07XG4gICAgICAgIH1cbiAgICAgICAgZTAgPSBlMSwgZTEgPSB0aGlzLl9lZGdlY29kZShzeDEsIHN5MSk7XG4gICAgICAgIGlmIChlMCAmJiBlMSkgdGhpcy5fZWRnZShpLCBlMCwgZTEsIFAsIFAubGVuZ3RoKTtcbiAgICAgICAgaWYgKFApIFAucHVzaChzeDEsIHN5MSk7XG4gICAgICAgIGVsc2UgUCA9IFtzeDEsIHN5MV07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChQKSB7XG4gICAgICBlMCA9IGUxLCBlMSA9IHRoaXMuX2VkZ2Vjb2RlKFBbMF0sIFBbMV0pO1xuICAgICAgaWYgKGUwICYmIGUxKSB0aGlzLl9lZGdlKGksIGUwLCBlMSwgUCwgUC5sZW5ndGgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb250YWlucyhpLCAodGhpcy54bWluICsgdGhpcy54bWF4KSAvIDIsICh0aGlzLnltaW4gKyB0aGlzLnltYXgpIC8gMikpIHtcbiAgICAgIHJldHVybiBbdGhpcy54bWF4LCB0aGlzLnltaW4sIHRoaXMueG1heCwgdGhpcy55bWF4LCB0aGlzLnhtaW4sIHRoaXMueW1heCwgdGhpcy54bWluLCB0aGlzLnltaW5dO1xuICAgIH1cbiAgICByZXR1cm4gUDtcbiAgfVxuICBfY2xpcFNlZ21lbnQoeDAsIHkwLCB4MSwgeTEsIGMwLCBjMSkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoYzAgPT09IDAgJiYgYzEgPT09IDApIHJldHVybiBbeDAsIHkwLCB4MSwgeTFdO1xuICAgICAgaWYgKGMwICYgYzEpIHJldHVybiBudWxsO1xuICAgICAgbGV0IHgsIHksIGMgPSBjMCB8fCBjMTtcbiAgICAgIGlmIChjICYgMGIxMDAwKSB4ID0geDAgKyAoeDEgLSB4MCkgKiAodGhpcy55bWF4IC0geTApIC8gKHkxIC0geTApLCB5ID0gdGhpcy55bWF4O1xuICAgICAgZWxzZSBpZiAoYyAmIDBiMDEwMCkgeCA9IHgwICsgKHgxIC0geDApICogKHRoaXMueW1pbiAtIHkwKSAvICh5MSAtIHkwKSwgeSA9IHRoaXMueW1pbjtcbiAgICAgIGVsc2UgaWYgKGMgJiAwYjAwMTApIHkgPSB5MCArICh5MSAtIHkwKSAqICh0aGlzLnhtYXggLSB4MCkgLyAoeDEgLSB4MCksIHggPSB0aGlzLnhtYXg7XG4gICAgICBlbHNlIHkgPSB5MCArICh5MSAtIHkwKSAqICh0aGlzLnhtaW4gLSB4MCkgLyAoeDEgLSB4MCksIHggPSB0aGlzLnhtaW47XG4gICAgICBpZiAoYzApIHgwID0geCwgeTAgPSB5LCBjMCA9IHRoaXMuX3JlZ2lvbmNvZGUoeDAsIHkwKTtcbiAgICAgIGVsc2UgeDEgPSB4LCB5MSA9IHksIGMxID0gdGhpcy5fcmVnaW9uY29kZSh4MSwgeTEpO1xuICAgIH1cbiAgfVxuICBfY2xpcEluZmluaXRlKGksIHBvaW50cywgdngwLCB2eTAsIHZ4biwgdnluKSB7XG4gICAgbGV0IFAgPSBBcnJheS5mcm9tKHBvaW50cyksIHA7XG4gICAgaWYgKHAgPSB0aGlzLl9wcm9qZWN0KFBbMF0sIFBbMV0sIHZ4MCwgdnkwKSkgUC51bnNoaWZ0KHBbMF0sIHBbMV0pO1xuICAgIGlmIChwID0gdGhpcy5fcHJvamVjdChQW1AubGVuZ3RoIC0gMl0sIFBbUC5sZW5ndGggLSAxXSwgdnhuLCB2eW4pKSBQLnB1c2gocFswXSwgcFsxXSk7XG4gICAgaWYgKFAgPSB0aGlzLl9jbGlwRmluaXRlKGksIFApKSB7XG4gICAgICBmb3IgKGxldCBqID0gMCwgbiA9IFAubGVuZ3RoLCBjMCwgYzEgPSB0aGlzLl9lZGdlY29kZShQW24gLSAyXSwgUFtuIC0gMV0pOyBqIDwgbjsgaiArPSAyKSB7XG4gICAgICAgIGMwID0gYzEsIGMxID0gdGhpcy5fZWRnZWNvZGUoUFtqXSwgUFtqICsgMV0pO1xuICAgICAgICBpZiAoYzAgJiYgYzEpIGogPSB0aGlzLl9lZGdlKGksIGMwLCBjMSwgUCwgaiksIG4gPSBQLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuY29udGFpbnMoaSwgKHRoaXMueG1pbiArIHRoaXMueG1heCkgLyAyLCAodGhpcy55bWluICsgdGhpcy55bWF4KSAvIDIpKSB7XG4gICAgICBQID0gW3RoaXMueG1pbiwgdGhpcy55bWluLCB0aGlzLnhtYXgsIHRoaXMueW1pbiwgdGhpcy54bWF4LCB0aGlzLnltYXgsIHRoaXMueG1pbiwgdGhpcy55bWF4XTtcbiAgICB9XG4gICAgcmV0dXJuIFA7XG4gIH1cbiAgX2VkZ2UoaSwgZTAsIGUxLCBQLCBqKSB7XG4gICAgd2hpbGUgKGUwICE9PSBlMSkge1xuICAgICAgbGV0IHgsIHk7XG4gICAgICBzd2l0Y2ggKGUwKSB7XG4gICAgICAgIGNhc2UgMGIwMTAxOiBlMCA9IDBiMDEwMDsgY29udGludWU7IC8vIHRvcC1sZWZ0XG4gICAgICAgIGNhc2UgMGIwMTAwOiBlMCA9IDBiMDExMCwgeCA9IHRoaXMueG1heCwgeSA9IHRoaXMueW1pbjsgYnJlYWs7IC8vIHRvcFxuICAgICAgICBjYXNlIDBiMDExMDogZTAgPSAwYjAwMTA7IGNvbnRpbnVlOyAvLyB0b3AtcmlnaHRcbiAgICAgICAgY2FzZSAwYjAwMTA6IGUwID0gMGIxMDEwLCB4ID0gdGhpcy54bWF4LCB5ID0gdGhpcy55bWF4OyBicmVhazsgLy8gcmlnaHRcbiAgICAgICAgY2FzZSAwYjEwMTA6IGUwID0gMGIxMDAwOyBjb250aW51ZTsgLy8gYm90dG9tLXJpZ2h0XG4gICAgICAgIGNhc2UgMGIxMDAwOiBlMCA9IDBiMTAwMSwgeCA9IHRoaXMueG1pbiwgeSA9IHRoaXMueW1heDsgYnJlYWs7IC8vIGJvdHRvbVxuICAgICAgICBjYXNlIDBiMTAwMTogZTAgPSAwYjAwMDE7IGNvbnRpbnVlOyAvLyBib3R0b20tbGVmdFxuICAgICAgICBjYXNlIDBiMDAwMTogZTAgPSAwYjAxMDEsIHggPSB0aGlzLnhtaW4sIHkgPSB0aGlzLnltaW47IGJyZWFrOyAvLyBsZWZ0XG4gICAgICB9XG4gICAgICBpZiAoKFBbal0gIT09IHggfHwgUFtqICsgMV0gIT09IHkpICYmIHRoaXMuY29udGFpbnMoaSwgeCwgeSkpIHtcbiAgICAgICAgUC5zcGxpY2UoaiwgMCwgeCwgeSksIGogKz0gMjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGo7XG4gIH1cbiAgX3Byb2plY3QoeDAsIHkwLCB2eCwgdnkpIHtcbiAgICBsZXQgdCA9IEluZmluaXR5LCBjLCB4LCB5O1xuICAgIGlmICh2eSA8IDApIHsgLy8gdG9wXG4gICAgICBpZiAoeTAgPD0gdGhpcy55bWluKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmICgoYyA9ICh0aGlzLnltaW4gLSB5MCkgLyB2eSkgPCB0KSB5ID0gdGhpcy55bWluLCB4ID0geDAgKyAodCA9IGMpICogdng7XG4gICAgfSBlbHNlIGlmICh2eSA+IDApIHsgLy8gYm90dG9tXG4gICAgICBpZiAoeTAgPj0gdGhpcy55bWF4KSByZXR1cm4gbnVsbDtcbiAgICAgIGlmICgoYyA9ICh0aGlzLnltYXggLSB5MCkgLyB2eSkgPCB0KSB5ID0gdGhpcy55bWF4LCB4ID0geDAgKyAodCA9IGMpICogdng7XG4gICAgfVxuICAgIGlmICh2eCA+IDApIHsgLy8gcmlnaHRcbiAgICAgIGlmICh4MCA+PSB0aGlzLnhtYXgpIHJldHVybiBudWxsO1xuICAgICAgaWYgKChjID0gKHRoaXMueG1heCAtIHgwKSAvIHZ4KSA8IHQpIHggPSB0aGlzLnhtYXgsIHkgPSB5MCArICh0ID0gYykgKiB2eTtcbiAgICB9IGVsc2UgaWYgKHZ4IDwgMCkgeyAvLyBsZWZ0XG4gICAgICBpZiAoeDAgPD0gdGhpcy54bWluKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmICgoYyA9ICh0aGlzLnhtaW4gLSB4MCkgLyB2eCkgPCB0KSB4ID0gdGhpcy54bWluLCB5ID0geTAgKyAodCA9IGMpICogdnk7XG4gICAgfVxuICAgIHJldHVybiBbeCwgeV07XG4gIH1cbiAgX2VkZ2Vjb2RlKHgsIHkpIHtcbiAgICByZXR1cm4gKHggPT09IHRoaXMueG1pbiA/IDBiMDAwMVxuICAgICAgICA6IHggPT09IHRoaXMueG1heCA/IDBiMDAxMCA6IDBiMDAwMClcbiAgICAgICAgfCAoeSA9PT0gdGhpcy55bWluID8gMGIwMTAwXG4gICAgICAgIDogeSA9PT0gdGhpcy55bWF4ID8gMGIxMDAwIDogMGIwMDAwKTtcbiAgfVxuICBfcmVnaW9uY29kZSh4LCB5KSB7XG4gICAgcmV0dXJuICh4IDwgdGhpcy54bWluID8gMGIwMDAxXG4gICAgICAgIDogeCA+IHRoaXMueG1heCA/IDBiMDAxMCA6IDBiMDAwMClcbiAgICAgICAgfCAoeSA8IHRoaXMueW1pbiA/IDBiMDEwMFxuICAgICAgICA6IHkgPiB0aGlzLnltYXggPyAwYjEwMDAgOiAwYjAwMDApO1xuICB9XG59XG4iLCJpbXBvcnQgRGVsYXVuYXRvciBmcm9tIFwiZGVsYXVuYXRvclwiO1xuaW1wb3J0IFBhdGggZnJvbSBcIi4vcGF0aC5qc1wiO1xuaW1wb3J0IFBvbHlnb24gZnJvbSBcIi4vcG9seWdvbi5qc1wiO1xuaW1wb3J0IFZvcm9ub2kgZnJvbSBcIi4vdm9yb25vaS5qc1wiO1xuXG5jb25zdCB0YXUgPSAyICogTWF0aC5QSTtcblxuZnVuY3Rpb24gcG9pbnRYKHApIHtcbiAgcmV0dXJuIHBbMF07XG59XG5cbmZ1bmN0aW9uIHBvaW50WShwKSB7XG4gIHJldHVybiBwWzFdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWxhdW5heSB7XG4gIGNvbnN0cnVjdG9yKHBvaW50cykge1xuICAgIGNvbnN0IHtoYWxmZWRnZXMsIGh1bGwsIHRyaWFuZ2xlc30gPSBuZXcgRGVsYXVuYXRvcihwb2ludHMpO1xuICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgIHRoaXMuaGFsZmVkZ2VzID0gaGFsZmVkZ2VzO1xuICAgIHRoaXMuaHVsbCA9IGh1bGw7XG4gICAgdGhpcy50cmlhbmdsZXMgPSB0cmlhbmdsZXM7XG4gICAgY29uc3QgaW5lZGdlcyA9IHRoaXMuaW5lZGdlcyA9IG5ldyBJbnQzMkFycmF5KHBvaW50cy5sZW5ndGggLyAyKS5maWxsKC0xKTtcbiAgICBjb25zdCBvdXRlZGdlcyA9IHRoaXMub3V0ZWRnZXMgPSBuZXcgSW50MzJBcnJheShwb2ludHMubGVuZ3RoIC8gMikuZmlsbCgtMSk7XG5cbiAgICAvLyBDb21wdXRlIGFuIGluZGV4IGZyb20gZWFjaCBwb2ludCB0byBhbiAoYXJiaXRyYXJ5KSBpbmNvbWluZyBoYWxmZWRnZS5cbiAgICBmb3IgKGxldCBlID0gMCwgbiA9IGhhbGZlZGdlcy5sZW5ndGg7IGUgPCBuOyArK2UpIHtcbiAgICAgIGluZWRnZXNbdHJpYW5nbGVzW2UgJSAzID09PSAyID8gZSAtIDIgOiBlICsgMV1dID0gZTtcbiAgICB9XG5cbiAgICAvLyBGb3IgcG9pbnRzIG9uIHRoZSBodWxsLCBpbmRleCBib3RoIHRoZSBpbmNvbWluZyBhbmQgb3V0Z29pbmcgaGFsZmVkZ2VzLlxuICAgIGxldCBub2RlMCwgbm9kZTEgPSBodWxsO1xuICAgIGRvIHtcbiAgICAgIG5vZGUwID0gbm9kZTEsIG5vZGUxID0gbm9kZTEubmV4dDtcbiAgICAgIGluZWRnZXNbbm9kZTEuaV0gPSBub2RlMC50O1xuICAgICAgb3V0ZWRnZXNbbm9kZTAuaV0gPSBub2RlMS50O1xuICAgIH0gd2hpbGUgKG5vZGUxICE9PSBodWxsKTtcbiAgfVxuICB2b3Jvbm9pKGJvdW5kcykge1xuICAgIHJldHVybiBuZXcgVm9yb25vaSh0aGlzLCBib3VuZHMpO1xuICB9XG4gICpuZWlnaGJvcnMoaSkge1xuICAgIGNvbnN0IHtpbmVkZ2VzLCBvdXRlZGdlcywgaGFsZmVkZ2VzLCB0cmlhbmdsZXN9ID0gdGhpcztcbiAgICBjb25zdCBlMCA9IGluZWRnZXNbaV07XG4gICAgaWYgKGUwID09PSAtMSkgcmV0dXJuOyAvLyBjb2luY2lkZW50IHBvaW50XG4gICAgbGV0IGUgPSBlMDtcbiAgICBkbyB7XG4gICAgICB5aWVsZCB0cmlhbmdsZXNbZV07XG4gICAgICBlID0gZSAlIDMgPT09IDIgPyBlIC0gMiA6IGUgKyAxO1xuICAgICAgaWYgKHRyaWFuZ2xlc1tlXSAhPT0gaSkgcmV0dXJuOyAvLyBiYWQgdHJpYW5ndWxhdGlvblxuICAgICAgZSA9IGhhbGZlZGdlc1tlXTtcbiAgICAgIGlmIChlID09PSAtMSkgcmV0dXJuIHlpZWxkIHRyaWFuZ2xlc1tvdXRlZGdlc1tpXV07XG4gICAgfSB3aGlsZSAoZSAhPT0gZTApO1xuICB9XG4gIGZpbmQoeCwgeSwgaSA9IDApIHtcbiAgICBpZiAoKHggPSAreCwgeCAhPT0geCkgfHwgKHkgPSAreSwgeSAhPT0geSkpIHJldHVybiAtMTtcbiAgICBsZXQgYztcbiAgICB3aGlsZSAoKGMgPSB0aGlzLl9zdGVwKGksIHgsIHkpKSA+PSAwICYmIGMgIT09IGkpIGkgPSBjO1xuICAgIHJldHVybiBjO1xuICB9XG4gIF9zdGVwKGksIHgsIHkpIHtcbiAgICBjb25zdCB7aW5lZGdlcywgcG9pbnRzfSA9IHRoaXM7XG4gICAgaWYgKGluZWRnZXNbaV0gPT09IC0xKSByZXR1cm4gLTE7IC8vIGNvaW5jaWRlbnQgcG9pbnRcbiAgICBsZXQgYyA9IGk7XG4gICAgbGV0IGRjID0gKHggLSBwb2ludHNbaSAqIDJdKSAqKiAyICsgKHkgLSBwb2ludHNbaSAqIDIgKyAxXSkgKiogMjtcbiAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5uZWlnaGJvcnMoaSkpIHtcbiAgICAgIGNvbnN0IGR0ID0gKHggLSBwb2ludHNbdCAqIDJdKSAqKiAyICsgKHkgLSBwb2ludHNbdCAqIDIgKyAxXSkgKiogMjtcbiAgICAgIGlmIChkdCA8IGRjKSBkYyA9IGR0LCBjID0gdDtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgcmVuZGVyKGNvbnRleHQpIHtcbiAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0ID09IG51bGwgPyBjb250ZXh0ID0gbmV3IFBhdGggOiB1bmRlZmluZWQ7XG4gICAgY29uc3Qge3BvaW50cywgaGFsZmVkZ2VzLCB0cmlhbmdsZXN9ID0gdGhpcztcbiAgICBmb3IgKGxldCBpID0gMCwgbiA9IGhhbGZlZGdlcy5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgIGNvbnN0IGogPSBoYWxmZWRnZXNbaV07XG4gICAgICBpZiAoaiA8IGkpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgdGkgPSB0cmlhbmdsZXNbaV0gKiAyO1xuICAgICAgY29uc3QgdGogPSB0cmlhbmdsZXNbal0gKiAyO1xuICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzW3RpXSwgcG9pbnRzW3RpICsgMV0pO1xuICAgICAgY29udGV4dC5saW5lVG8ocG9pbnRzW3RqXSwgcG9pbnRzW3RqICsgMV0pO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlckh1bGwoY29udGV4dCk7XG4gICAgcmV0dXJuIGJ1ZmZlciAmJiBidWZmZXIudmFsdWUoKTtcbiAgfVxuICByZW5kZXJQb2ludHMoY29udGV4dCwgciA9IDIpIHtcbiAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0ID09IG51bGwgPyBjb250ZXh0ID0gbmV3IFBhdGggOiB1bmRlZmluZWQ7XG4gICAgY29uc3Qge3BvaW50c30gPSB0aGlzO1xuICAgIGZvciAobGV0IGkgPSAwLCBuID0gcG9pbnRzLmxlbmd0aDsgaSA8IG47IGkgKz0gMikge1xuICAgICAgY29uc3QgeCA9IHBvaW50c1tpXSwgeSA9IHBvaW50c1tpICsgMV07XG4gICAgICBjb250ZXh0Lm1vdmVUbyh4ICsgciwgeSk7XG4gICAgICBjb250ZXh0LmFyYyh4LCB5LCByLCAwLCB0YXUpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmZmVyICYmIGJ1ZmZlci52YWx1ZSgpO1xuICB9XG4gIHJlbmRlckh1bGwoY29udGV4dCkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQgPT0gbnVsbCA/IGNvbnRleHQgPSBuZXcgUGF0aCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCB7aHVsbH0gPSB0aGlzO1xuICAgIGxldCBub2RlID0gaHVsbDtcbiAgICBjb250ZXh0Lm1vdmVUbyhub2RlLngsIG5vZGUueSk7XG4gICAgd2hpbGUgKG5vZGUgPSBub2RlLm5leHQsIG5vZGUgIT09IGh1bGwpIGNvbnRleHQubGluZVRvKG5vZGUueCwgbm9kZS55KTtcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIHJldHVybiBidWZmZXIgJiYgYnVmZmVyLnZhbHVlKCk7XG4gIH1cbiAgaHVsbFBvbHlnb24oKSB7XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBQb2x5Z29uO1xuICAgIHRoaXMucmVuZGVySHVsbChwb2x5Z29uKTtcbiAgICByZXR1cm4gcG9seWdvbi52YWx1ZSgpO1xuICB9XG4gIHJlbmRlclRyaWFuZ2xlKGksIGNvbnRleHQpIHtcbiAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0ID09IG51bGwgPyBjb250ZXh0ID0gbmV3IFBhdGggOiB1bmRlZmluZWQ7XG4gICAgY29uc3Qge3BvaW50cywgdHJpYW5nbGVzfSA9IHRoaXM7XG4gICAgY29uc3QgdDAgPSB0cmlhbmdsZXNbaSAqPSAzXSAqIDI7XG4gICAgY29uc3QgdDEgPSB0cmlhbmdsZXNbaSArIDFdICogMjtcbiAgICBjb25zdCB0MiA9IHRyaWFuZ2xlc1tpICsgMl0gKiAyO1xuICAgIGNvbnRleHQubW92ZVRvKHBvaW50c1t0MF0sIHBvaW50c1t0MCArIDFdKTtcbiAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbdDFdLCBwb2ludHNbdDEgKyAxXSk7XG4gICAgY29udGV4dC5saW5lVG8ocG9pbnRzW3QyXSwgcG9pbnRzW3QyICsgMV0pO1xuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgcmV0dXJuIGJ1ZmZlciAmJiBidWZmZXIudmFsdWUoKTtcbiAgfVxuICAqdHJpYW5nbGVQb2x5Z29ucygpIHtcbiAgICBjb25zdCB7dHJpYW5nbGVzfSA9IHRoaXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIG4gPSB0cmlhbmdsZXMubGVuZ3RoIC8gMzsgaSA8IG47ICsraSkge1xuICAgICAgeWllbGQgdGhpcy50cmlhbmdsZVBvbHlnb24oaSk7XG4gICAgfVxuICB9XG4gIHRyaWFuZ2xlUG9seWdvbihpKSB7XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBQb2x5Z29uO1xuICAgIHRoaXMucmVuZGVyVHJpYW5nbGUoaSwgcG9seWdvbik7XG4gICAgcmV0dXJuIHBvbHlnb24udmFsdWUoKTtcbiAgfVxufVxuXG5EZWxhdW5heS5mcm9tID0gZnVuY3Rpb24ocG9pbnRzLCBmeCA9IHBvaW50WCwgZnkgPSBwb2ludFksIHRoYXQpIHtcbiAgcmV0dXJuIG5ldyBEZWxhdW5heShcImxlbmd0aFwiIGluIHBvaW50c1xuICAgICAgPyBmbGF0QXJyYXkocG9pbnRzLCBmeCwgZnksIHRoYXQpXG4gICAgICA6IEZsb2F0NjRBcnJheS5mcm9tKGZsYXRJdGVyYWJsZShwb2ludHMsIGZ4LCBmeSwgdGhhdCkpKTtcbn07XG5cbmZ1bmN0aW9uIGZsYXRBcnJheShwb2ludHMsIGZ4LCBmeSwgdGhhdCkge1xuICBjb25zdCBuID0gcG9pbnRzLmxlbmd0aDtcbiAgY29uc3QgYXJyYXkgPSBuZXcgRmxvYXQ2NEFycmF5KG4gKiAyKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICBjb25zdCBwID0gcG9pbnRzW2ldO1xuICAgIGFycmF5W2kgKiAyXSA9IGZ4LmNhbGwodGhhdCwgcCwgaSwgcG9pbnRzKTtcbiAgICBhcnJheVtpICogMiArIDFdID0gZnkuY2FsbCh0aGF0LCBwLCBpLCBwb2ludHMpO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuZnVuY3Rpb24qIGZsYXRJdGVyYWJsZShwb2ludHMsIGZ4LCBmeSwgdGhhdCkge1xuICBsZXQgaSA9IDA7XG4gIGZvciAoY29uc3QgcCBvZiBwb2ludHMpIHtcbiAgICB5aWVsZCBmeC5jYWxsKHRoYXQsIHAsIGksIHBvaW50cyk7XG4gICAgeWllbGQgZnkuY2FsbCh0aGF0LCBwLCBpLCBwb2ludHMpO1xuICAgICsraTtcbiAgfVxufVxuIiwiLy8gICAgIFVuZGVyc2NvcmUuanMgMS45LjFcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTggSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8gQmFzZWxpbmUgc2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCAoYHNlbGZgKSBpbiB0aGUgYnJvd3NlciwgYGdsb2JhbGBcbiAgLy8gb24gdGhlIHNlcnZlciwgb3IgYHRoaXNgIGluIHNvbWUgdmlydHVhbCBtYWNoaW5lcy4gV2UgdXNlIGBzZWxmYFxuICAvLyBpbnN0ZWFkIG9mIGB3aW5kb3dgIGZvciBgV2ViV29ya2VyYCBzdXBwb3J0LlxuICB2YXIgcm9vdCA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZiAmJiBzZWxmIHx8XG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbCAmJiBnbG9iYWwgfHxcbiAgICAgICAgICAgIHRoaXMgfHxcbiAgICAgICAgICAgIHt9O1xuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgX2AgdmFyaWFibGUuXG4gIHZhciBwcmV2aW91c1VuZGVyc2NvcmUgPSByb290Ll87XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIFN5bWJvbFByb3RvID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2wucHJvdG90eXBlIDogbnVsbDtcblxuICAvLyBDcmVhdGUgcXVpY2sgcmVmZXJlbmNlIHZhcmlhYmxlcyBmb3Igc3BlZWQgYWNjZXNzIHRvIGNvcmUgcHJvdG90eXBlcy5cbiAgdmFyIHB1c2ggPSBBcnJheVByb3RvLnB1c2gsXG4gICAgICBzbGljZSA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgICB0b1N0cmluZyA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2VcbiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG4gIHZhciBuYXRpdmVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cyxcbiAgICAgIG5hdGl2ZUNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cbiAgLy8gTmFrZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGZvciBzdXJyb2dhdGUtcHJvdG90eXBlLXN3YXBwaW5nLlxuICB2YXIgQ3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZWlyIG9sZCBtb2R1bGUgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QuXG4gIC8vIChgbm9kZVR5cGVgIGlzIGNoZWNrZWQgdG8gZW5zdXJlIHRoYXQgYG1vZHVsZWBcbiAgLy8gYW5kIGBleHBvcnRzYCBhcmUgbm90IEhUTUwgZWxlbWVudHMuKVxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT0gJ3VuZGVmaW5lZCcgJiYgIWV4cG9ydHMubm9kZVR5cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjkuMSc7XG5cbiAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuICAvLyBvZiB0aGUgcGFzc2VkLWluIGNhbGxiYWNrLCB0byBiZSByZXBlYXRlZGx5IGFwcGxpZWQgaW4gb3RoZXIgVW5kZXJzY29yZVxuICAvLyBmdW5jdGlvbnMuXG4gIHZhciBvcHRpbWl6ZUNiID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgICBzd2l0Y2ggKGFyZ0NvdW50ID09IG51bGwgPyAzIDogYXJnQ291bnQpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIC8vIFRoZSAyLWFyZ3VtZW50IGNhc2UgaXMgb21pdHRlZCBiZWNhdXNlIHdl4oCZcmUgbm90IHVzaW5nIGl0LlxuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGJ1aWx0aW5JdGVyYXRlZTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBlYWNoXG4gIC8vIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgdGhlIGRlc2lyZWQgcmVzdWx0IOKAlCBlaXRoZXIgYGlkZW50aXR5YCxcbiAgLy8gYW4gYXJiaXRyYXJ5IGNhbGxiYWNrLCBhIHByb3BlcnR5IG1hdGNoZXIsIG9yIGEgcHJvcGVydHkgYWNjZXNzb3IuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmIChfLml0ZXJhdGVlICE9PSBidWlsdGluSXRlcmF0ZWUpIHJldHVybiBfLml0ZXJhdGVlKHZhbHVlLCBjb250ZXh0KTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIF8uaWRlbnRpdHk7XG4gICAgaWYgKF8uaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybiBvcHRpbWl6ZUNiKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG4gICAgaWYgKF8uaXNPYmplY3QodmFsdWUpICYmICFfLmlzQXJyYXkodmFsdWUpKSByZXR1cm4gXy5tYXRjaGVyKHZhbHVlKTtcbiAgICByZXR1cm4gXy5wcm9wZXJ0eSh2YWx1ZSk7XG4gIH07XG5cbiAgLy8gRXh0ZXJuYWwgd3JhcHBlciBmb3Igb3VyIGNhbGxiYWNrIGdlbmVyYXRvci4gVXNlcnMgbWF5IGN1c3RvbWl6ZVxuICAvLyBgXy5pdGVyYXRlZWAgaWYgdGhleSB3YW50IGFkZGl0aW9uYWwgcHJlZGljYXRlL2l0ZXJhdGVlIHNob3J0aGFuZCBzdHlsZXMuXG4gIC8vIFRoaXMgYWJzdHJhY3Rpb24gaGlkZXMgdGhlIGludGVybmFsLW9ubHkgYXJnQ291bnQgYXJndW1lbnQuXG4gIF8uaXRlcmF0ZWUgPSBidWlsdGluSXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBjYih2YWx1ZSwgY29udGV4dCwgSW5maW5pdHkpO1xuICB9O1xuXG4gIC8vIFNvbWUgZnVuY3Rpb25zIHRha2UgYSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLCBvciBhIGZldyBleHBlY3RlZFxuICAvLyBhcmd1bWVudHMgYXQgdGhlIGJlZ2lubmluZyBhbmQgdGhlbiBhIHZhcmlhYmxlIG51bWJlciBvZiB2YWx1ZXMgdG8gb3BlcmF0ZVxuICAvLyBvbi4gVGhpcyBoZWxwZXIgYWNjdW11bGF0ZXMgYWxsIHJlbWFpbmluZyBhcmd1bWVudHMgcGFzdCB0aGUgZnVuY3Rpb27igJlzXG4gIC8vIGFyZ3VtZW50IGxlbmd0aCAob3IgYW4gZXhwbGljaXQgYHN0YXJ0SW5kZXhgKSwgaW50byBhbiBhcnJheSB0aGF0IGJlY29tZXNcbiAgLy8gdGhlIGxhc3QgYXJndW1lbnQuIFNpbWlsYXIgdG8gRVM24oCZcyBcInJlc3QgcGFyYW1ldGVyXCIuXG4gIHZhciByZXN0QXJndW1lbnRzID0gZnVuY3Rpb24oZnVuYywgc3RhcnRJbmRleCkge1xuICAgIHN0YXJ0SW5kZXggPSBzdGFydEluZGV4ID09IG51bGwgPyBmdW5jLmxlbmd0aCAtIDEgOiArc3RhcnRJbmRleDtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoYXJndW1lbnRzLmxlbmd0aCAtIHN0YXJ0SW5kZXgsIDApLFxuICAgICAgICAgIHJlc3QgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICByZXN0W2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleCArIHN0YXJ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChzdGFydEluZGV4KSB7XG4gICAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCByZXN0KTtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIGFyZ3VtZW50c1swXSwgcmVzdCk7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgcmVzdCk7XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHN0YXJ0SW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgYXJnc1tzdGFydEluZGV4XSA9IHJlc3Q7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIGFub3RoZXIuXG4gIHZhciBiYXNlQ3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiB7fTtcbiAgICBpZiAobmF0aXZlQ3JlYXRlKSByZXR1cm4gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICAgIEN0b3IucHJvdG90eXBlID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBzaGFsbG93UHJvcGVydHkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoYXMgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHBhdGgpO1xuICB9XG5cbiAgdmFyIGRlZXBHZXQgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gbGVuZ3RoID8gb2JqIDogdm9pZCAwO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuICAvLyBzaG91bGQgYmUgaXRlcmF0ZWQgYXMgYW4gYXJyYXkgb3IgYXMgYW4gb2JqZWN0LlxuICAvLyBSZWxhdGVkOiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuICAvLyBBdm9pZHMgYSB2ZXJ5IG5hc3R5IGlPUyA4IEpJVCBidWcgb24gQVJNLTY0LiAjMjA5NFxuICB2YXIgTUFYX0FSUkFZX0lOREVYID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgdmFyIGdldExlbmd0aCA9IHNoYWxsb3dQcm9wZXJ0eSgnbGVuZ3RoJyk7XG4gIHZhciBpc0FycmF5TGlrZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8PSBNQVhfQVJSQVlfSU5ERVg7XG4gIH07XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyByYXcgb2JqZWN0cyBpbiBhZGRpdGlvbiB0byBhcnJheS1saWtlcy4gVHJlYXRzIGFsbFxuICAvLyBzcGFyc2UgYXJyYXktbGlrZXMgYXMgaWYgdGhleSB3ZXJlIGRlbnNlLlxuICBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgaSwgbGVuZ3RoO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2ldLCBpLCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpba2V5c1tpXV0sIGtleXNbaV0sIG9iaik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQuXG4gIF8ubWFwID0gXy5jb2xsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICByZXN1bHRzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgcmVzdWx0c1tpbmRleF0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIHJlZHVjaW5nIGZ1bmN0aW9uIGl0ZXJhdGluZyBsZWZ0IG9yIHJpZ2h0LlxuICB2YXIgY3JlYXRlUmVkdWNlID0gZnVuY3Rpb24oZGlyKSB7XG4gICAgLy8gV3JhcCBjb2RlIHRoYXQgcmVhc3NpZ25zIGFyZ3VtZW50IHZhcmlhYmxlcyBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHRoYW5cbiAgICAvLyB0aGUgb25lIHRoYXQgYWNjZXNzZXMgYGFyZ3VtZW50cy5sZW5ndGhgIHRvIGF2b2lkIGEgcGVyZiBoaXQuICgjMTk5MSlcbiAgICB2YXIgcmVkdWNlciA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGluaXRpYWwpIHtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoIWluaXRpYWwpIHtcbiAgICAgICAgbWVtbyA9IG9ialtrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleF07XG4gICAgICAgIGluZGV4ICs9IGRpcjtcbiAgICAgIH1cbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgdmFyIGluaXRpYWwgPSBhcmd1bWVudHMubGVuZ3RoID49IDM7XG4gICAgICByZXR1cm4gcmVkdWNlcihvYmosIG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDQpLCBtZW1vLCBpbml0aWFsKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC5cbiAgXy5yZWR1Y2UgPSBfLmZvbGRsID0gXy5pbmplY3QgPSBjcmVhdGVSZWR1Y2UoMSk7XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gY3JlYXRlUmVkdWNlKC0xKTtcblxuICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuXG4gIF8uZmluZCA9IF8uZGV0ZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIga2V5RmluZGVyID0gaXNBcnJheUxpa2Uob2JqKSA/IF8uZmluZEluZGV4IDogXy5maW5kS2V5O1xuICAgIHZhciBrZXkgPSBrZXlGaW5kZXIob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC5cbiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG4gIF8ucmVqZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm5lZ2F0ZShjYihwcmVkaWNhdGUpKSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBhcnJheSBvciBvYmplY3QgY29udGFpbnMgYSBnaXZlbiBpdGVtICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVzYCBhbmQgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlcyA9IF8uaW5jbHVkZSA9IGZ1bmN0aW9uKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgaXRlbSwgZnJvbUluZGV4KSA+PSAwO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24ob2JqLCBwYXRoLCBhcmdzKSB7XG4gICAgdmFyIGNvbnRleHRQYXRoLCBmdW5jO1xuICAgIGlmIChfLmlzRnVuY3Rpb24ocGF0aCkpIHtcbiAgICAgIGZ1bmMgPSBwYXRoO1xuICAgIH0gZWxzZSBpZiAoXy5pc0FycmF5KHBhdGgpKSB7XG4gICAgICBjb250ZXh0UGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xuICAgICAgcGF0aCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgdmFyIG1ldGhvZCA9IGZ1bmM7XG4gICAgICBpZiAoIW1ldGhvZCkge1xuICAgICAgICBpZiAoY29udGV4dFBhdGggJiYgY29udGV4dFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgY29udGV4dCA9IGRlZXBHZXQoY29udGV4dCwgY29udGV4dFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgICAgIG1ldGhvZCA9IGNvbnRleHRbcGF0aF07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWV0aG9kID09IG51bGwgPyBtZXRob2QgOiBtZXRob2QuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYG1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG4gIF8ucGx1Y2sgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBfLm1hcChvYmosIF8ucHJvcGVydHkoa2V5KSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3RcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5maW5kV2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmluZChvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IC1JbmZpbml0eSwgbGFzdENvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgfHwgdHlwZW9mIGl0ZXJhdGVlID09ICdudW1iZXInICYmIHR5cGVvZiBvYmpbMF0gIT0gJ29iamVjdCcgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHYsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodiwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHY7XG4gICAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5taW4gPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IEluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsIHx8IHR5cGVvZiBpdGVyYXRlZSA9PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqWzBdICE9ICdvYmplY3QnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2LCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHYsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkIDwgbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSBJbmZpbml0eSAmJiByZXN1bHQgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdjtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24uXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLnNhbXBsZShvYmosIEluZmluaXR5KTtcbiAgfTtcblxuICAvLyBTYW1wbGUgKipuKiogcmFuZG9tIHZhbHVlcyBmcm9tIGEgY29sbGVjdGlvbiB1c2luZyB0aGUgbW9kZXJuIHZlcnNpb24gb2YgdGhlXG4gIC8vIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXLigJNZYXRlc19zaHVmZmxlKS5cbiAgLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudC5cbiAgLy8gVGhlIGludGVybmFsIGBndWFyZGAgYXJndW1lbnQgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgbWFwYC5cbiAgXy5zYW1wbGUgPSBmdW5jdGlvbihvYmosIG4sIGd1YXJkKSB7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgICAgaWYgKCFpc0FycmF5TGlrZShvYmopKSBvYmogPSBfLnZhbHVlcyhvYmopO1xuICAgICAgcmV0dXJuIG9ialtfLnJhbmRvbShvYmoubGVuZ3RoIC0gMSldO1xuICAgIH1cbiAgICB2YXIgc2FtcGxlID0gaXNBcnJheUxpa2Uob2JqKSA/IF8uY2xvbmUob2JqKSA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChzYW1wbGUpO1xuICAgIG4gPSBNYXRoLm1heChNYXRoLm1pbihuLCBsZW5ndGgpLCAwKTtcbiAgICB2YXIgbGFzdCA9IGxlbmd0aCAtIDE7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG47IGluZGV4KyspIHtcbiAgICAgIHZhciByYW5kID0gXy5yYW5kb20oaW5kZXgsIGxhc3QpO1xuICAgICAgdmFyIHRlbXAgPSBzYW1wbGVbaW5kZXhdO1xuICAgICAgc2FtcGxlW2luZGV4XSA9IHNhbXBsZVtyYW5kXTtcbiAgICAgIHNhbXBsZVtyYW5kXSA9IHRlbXA7XG4gICAgfVxuICAgIHJldHVybiBzYW1wbGUuc2xpY2UoMCwgbik7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHJldHVybiBfLnBsdWNrKF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgrKyxcbiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvciwgcGFydGl0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHQgPSBwYXJ0aXRpb24gPyBbW10sIFtdXSA6IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGtleSA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICAgICAgYmVoYXZpb3IocmVzdWx0LCB2YWx1ZSwga2V5KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdyb3VwcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLiBQYXNzIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGVcbiAgLy8gdG8gZ3JvdXAgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjcml0ZXJpb24uXG4gIF8uZ3JvdXBCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChoYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gIH0pO1xuXG4gIC8vIEluZGV4ZXMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiwgc2ltaWxhciB0byBgZ3JvdXBCeWAsIGJ1dCBmb3JcbiAgLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuICBfLmluZGV4QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKGhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICB2YXIgcmVTdHJTeW1ib2wgPSAvW15cXHVkODAwLVxcdWRmZmZdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18W1xcdWQ4MDAtXFx1ZGZmZl0vZztcbiAgLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbiAgXy50b0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikpIHJldHVybiBzbGljZS5jYWxsKG9iaik7XG4gICAgaWYgKF8uaXNTdHJpbmcob2JqKSkge1xuICAgICAgLy8gS2VlcCBzdXJyb2dhdGUgcGFpciBjaGFyYWN0ZXJzIHRvZ2V0aGVyXG4gICAgICByZXR1cm4gb2JqLm1hdGNoKHJlU3RyU3ltYm9sKTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHJldHVybiBfLm1hcChvYmosIF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBfLnZhbHVlcyhvYmopO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbiAgXy5zaXplID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqKSA/IG9iai5sZW5ndGggOiBfLmtleXMob2JqKS5sZW5ndGg7XG4gIH07XG5cbiAgLy8gU3BsaXQgYSBjb2xsZWN0aW9uIGludG8gdHdvIGFycmF5czogb25lIHdob3NlIGVsZW1lbnRzIGFsbCBzYXRpc2Z5IHRoZSBnaXZlblxuICAvLyBwcmVkaWNhdGUsIGFuZCBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIGRvIG5vdCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUuXG4gIF8ucGFydGl0aW9uID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwgcGFzcykge1xuICAgIHJlc3VsdFtwYXNzID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICB9LCB0cnVlKTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoIDwgMSkgcmV0dXJuIG4gPT0gbnVsbCA/IHZvaWQgMCA6IFtdO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA8IDEpIHJldHVybiBuID09IG51bGwgPyB2b2lkIDAgOiBbXTtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIF8ucmVzdChhcnJheSwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gbikpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgdGFpbGAgYW5kIGBkcm9wYC5cbiAgLy8gRXNwZWNpYWxseSB1c2VmdWwgb24gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm5cbiAgLy8gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlIGFycmF5LlxuICBfLnJlc3QgPSBfLnRhaWwgPSBfLmRyb3AgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xuICB9O1xuXG4gIC8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIEJvb2xlYW4pO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbiAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbihpbnB1dCwgc2hhbGxvdywgc3RyaWN0LCBvdXRwdXQpIHtcbiAgICBvdXRwdXQgPSBvdXRwdXQgfHwgW107XG4gICAgdmFyIGlkeCA9IG91dHB1dC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChpbnB1dCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmIChfLmlzQXJyYXkodmFsdWUpIHx8IF8uaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAvLyBGbGF0dGVuIGN1cnJlbnQgbGV2ZWwgb2YgYXJyYXkgb3IgYXJndW1lbnRzIG9iamVjdC5cbiAgICAgICAgaWYgKHNoYWxsb3cpIHtcbiAgICAgICAgICB2YXIgaiA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoaiA8IGxlbikgb3V0cHV0W2lkeCsrXSA9IHZhbHVlW2orK107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgc3RyaWN0LCBvdXRwdXQpO1xuICAgICAgICAgIGlkeCA9IG91dHB1dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCkge1xuICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgLy8gRmxhdHRlbiBvdXQgYW4gYXJyYXksIGVpdGhlciByZWN1cnNpdmVseSAoYnkgZGVmYXVsdCksIG9yIGp1c3Qgb25lIGxldmVsLlxuICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSwgc2hhbGxvdykge1xuICAgIHJldHVybiBmbGF0dGVuKGFycmF5LCBzaGFsbG93LCBmYWxzZSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuXG4gIF8ud2l0aG91dCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oYXJyYXksIG90aGVyQXJyYXlzKSB7XG4gICAgcmV0dXJuIF8uZGlmZmVyZW5jZShhcnJheSwgb3RoZXJBcnJheXMpO1xuICB9KTtcblxuICAvLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuICAvLyBiZWVuIHNvcnRlZCwgeW91IGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyBhIGZhc3RlciBhbGdvcml0aG0uXG4gIC8vIFRoZSBmYXN0ZXIgYWxnb3JpdGhtIHdpbGwgbm90IHdvcmsgd2l0aCBhbiBpdGVyYXRlZSBpZiB0aGUgaXRlcmF0ZWVcbiAgLy8gaXMgbm90IGEgb25lLXRvLW9uZSBmdW5jdGlvbiwgc28gcHJvdmlkaW5nIGFuIGl0ZXJhdGVlIHdpbGwgZGlzYWJsZVxuICAvLyB0aGUgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFfLmlzQm9vbGVhbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICAgIGl0ZXJhdGVlID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXRlcmF0ZWUgIT0gbnVsbCkgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCAmJiAhaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFpIHx8IHNlZW4gIT09IGNvbXB1dGVkKSByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFfLmNvbnRhaW5zKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFycmF5cykge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcnJheXMsIHRydWUsIHRydWUpKTtcbiAgfSk7XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuICAvLyBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgaWYgKF8uY29udGFpbnMocmVzdWx0LCBpdGVtKSkgY29udGludWU7XG4gICAgICB2YXIgajtcbiAgICAgIGZvciAoaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGogPT09IGFyZ3NMZW5ndGgpIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheSwgcmVzdCkge1xuICAgIHJlc3QgPSBmbGF0dGVuKHJlc3QsIHRydWUsIHRydWUpO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gQ29tcGxlbWVudCBvZiBfLnppcC4gVW56aXAgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgYW5kIGdyb3Vwc1xuICAvLyBlYWNoIGFycmF5J3MgZWxlbWVudHMgb24gc2hhcmVkIGluZGljZXMuXG4gIF8udW56aXAgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSAmJiBfLm1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBfLnBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSByZXN0QXJndW1lbnRzKF8udW56aXApO1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy4gUGFzc2luZyBieSBwYWlycyBpcyB0aGUgcmV2ZXJzZSBvZiBfLnBhaXJzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGxpc3QpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBmaW5kSW5kZXggYW5kIGZpbmRMYXN0SW5kZXggZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIgPSBmdW5jdGlvbihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuICBfLmZpbmRJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKDEpO1xuICBfLmZpbmRMYXN0SW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigtMSk7XG5cbiAgLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuICAvLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG4gIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdGVlKG9iaik7XG4gICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgaW5kZXhPZiBhbmQgbGFzdEluZGV4T2YgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlSW5kZXhGaW5kZXIgPSBmdW5jdGlvbihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgaSA9IGlkeCA+PSAwID8gaWR4IDogTWF0aC5tYXgoaWR4ICsgbGVuZ3RoLCBpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZW5ndGggPSBpZHggPj0gMCA/IE1hdGgubWluKGlkeCArIDEsIGxlbmd0aCkgOiBpZHggKyBsZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgICAgaWR4ID0gc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaWR4XSA9PT0gaXRlbSA/IGlkeCA6IC0xO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgICAgaWR4ID0gcHJlZGljYXRlRmluZChzbGljZS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBfLmlzTmFOKTtcbiAgICAgICAgcmV0dXJuIGlkeCA+PSAwID8gaWR4ICsgaSA6IC0xO1xuICAgICAgfVxuICAgICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgICBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIF8uZmluZEluZGV4LCBfLnNvcnRlZEluZGV4KTtcbiAgXy5sYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBfLmZpbmRMYXN0SW5kZXgpO1xuXG4gIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIGlmICghc3RlcCkge1xuICAgICAgc3RlcCA9IHN0b3AgPCBzdGFydCA/IC0xIDogMTtcbiAgICB9XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIENodW5rIGEgc2luZ2xlIGFycmF5IGludG8gbXVsdGlwbGUgYXJyYXlzLCBlYWNoIGNvbnRhaW5pbmcgYGNvdW50YCBvciBmZXdlclxuICAvLyBpdGVtcy5cbiAgXy5jaHVuayA9IGZ1bmN0aW9uKGFycmF5LCBjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSBudWxsIHx8IGNvdW50IDwgMSkgcmV0dXJuIFtdO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0LnB1c2goc2xpY2UuY2FsbChhcnJheSwgaSwgaSArPSBjb3VudCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG4gIC8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgdmFyIGV4ZWN1dGVCb3VuZCA9IGZ1bmN0aW9uKHNvdXJjZUZ1bmMsIGJvdW5kRnVuYywgY29udGV4dCwgY2FsbGluZ0NvbnRleHQsIGFyZ3MpIHtcbiAgICBpZiAoIShjYWxsaW5nQ29udGV4dCBpbnN0YW5jZW9mIGJvdW5kRnVuYykpIHJldHVybiBzb3VyY2VGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIHZhciBzZWxmID0gYmFzZUNyZWF0ZShzb3VyY2VGdW5jLnByb3RvdHlwZSk7XG4gICAgdmFyIHJlc3VsdCA9IHNvdXJjZUZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgaWYgKF8uaXNPYmplY3QocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSBmdW5jdGlvbiBib3VuZCB0byBhIGdpdmVuIG9iamVjdCAoYXNzaWduaW5nIGB0aGlzYCwgYW5kIGFyZ3VtZW50cyxcbiAgLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuICAvLyBhdmFpbGFibGUuXG4gIF8uYmluZCA9IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJncykge1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24nKTtcbiAgICB2YXIgYm91bmQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGNhbGxBcmdzKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChjYWxsQXJncykpO1xuICAgIH0pO1xuICAgIHJldHVybiBib3VuZDtcbiAgfSk7XG5cbiAgLy8gUGFydGlhbGx5IGFwcGx5IGEgZnVuY3Rpb24gYnkgY3JlYXRpbmcgYSB2ZXJzaW9uIHRoYXQgaGFzIGhhZCBzb21lIG9mIGl0c1xuICAvLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC4gXyBhY3RzXG4gIC8vIGFzIGEgcGxhY2Vob2xkZXIgYnkgZGVmYXVsdCwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZVxuICAvLyBwcmUtZmlsbGVkLiBTZXQgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgZm9yIGEgY3VzdG9tIHBsYWNlaG9sZGVyIGFyZ3VtZW50LlxuICBfLnBhcnRpYWwgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGZ1bmMsIGJvdW5kQXJncykge1xuICAgIHZhciBwbGFjZWhvbGRlciA9IF8ucGFydGlhbC5wbGFjZWhvbGRlcjtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsIGxlbmd0aCA9IGJvdW5kQXJncy5sZW5ndGg7XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBib3VuZEFyZ3NbaV0gPT09IHBsYWNlaG9sZGVyID8gYXJndW1lbnRzW3Bvc2l0aW9uKytdIDogYm91bmRBcmdzW2ldO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCB0aGlzLCB0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfSk7XG5cbiAgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyID0gXztcblxuICAvLyBCaW5kIGEgbnVtYmVyIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFJlbWFpbmluZyBhcmd1bWVudHNcbiAgLy8gYXJlIHRoZSBtZXRob2QgbmFtZXMgdG8gYmUgYm91bmQuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdCBhbGwgY2FsbGJhY2tzXG4gIC8vIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbiAgXy5iaW5kQWxsID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIGtleXMpIHtcbiAgICBrZXlzID0gZmxhdHRlbihrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICAgIHZhciBpbmRleCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChpbmRleCA8IDEpIHRocm93IG5ldyBFcnJvcignYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcycpO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuXG4gIF8ubWVtb2l6ZSA9IGZ1bmN0aW9uKGZ1bmMsIGhhc2hlcikge1xuICAgIHZhciBtZW1vaXplID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgICBpZiAoIWhhcyhjYWNoZSwgYWRkcmVzcykpIGNhY2hlW2FkZHJlc3NdID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICAgIH07XG4gICAgbWVtb2l6ZS5jYWNoZSA9IHt9O1xuICAgIHJldHVybiBtZW1vaXplO1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCB3YWl0KTtcbiAgfSk7XG5cbiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzXG4gIC8vIGNsZWFyZWQuXG4gIF8uZGVmZXIgPSBfLnBhcnRpYWwoXy5kZWxheSwgXywgMSk7XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgb25seSBiZSB0cmlnZ2VyZWQgYXQgbW9zdCBvbmNlXG4gIC8vIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLiBOb3JtYWxseSwgdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIHJ1blxuICAvLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4gIC8vIGJ1dCBpZiB5b3UnZCBsaWtlIHRvIGRpc2FibGUgdGhlIGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlLCBwYXNzXG4gIC8vIGB7bGVhZGluZzogZmFsc2V9YC4gVG8gZGlzYWJsZSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2UsIGRpdHRvLlxuICBfLnRocm90dGxlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciB0aW1lb3V0LCBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IF8ubm93KCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIHRocm90dGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IF8ubm93KCk7XG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHRocm90dGxlZC5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHByZXZpb3VzID0gMDtcbiAgICAgIHRpbWVvdXQgPSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiB0aHJvdHRsZWQ7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIHJlc3VsdDtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKGNvbnRleHQsIGFyZ3MpIHtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgaWYgKGFyZ3MpIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfTtcblxuICAgIHZhciBkZWJvdW5jZWQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgIHZhciBjYWxsTm93ID0gIXRpbWVvdXQ7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgaWYgKGNhbGxOb3cpIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gXy5kZWxheShsYXRlciwgd2FpdCwgdGhpcywgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICBkZWJvdW5jZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLCBmdW5jKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgbmVnYXRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQtaW4gcHJlZGljYXRlLlxuICBfLm5lZ2F0ZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgYSBsaXN0IG9mIGZ1bmN0aW9ucywgZWFjaFxuICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGkgPSBzdGFydDtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlIE50aCBjYWxsLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBfLnBhcnRpYWwoXy5iZWZvcmUsIDIpO1xuXG4gIF8ucmVzdEFyZ3VtZW50cyA9IHJlc3RBcmd1bWVudHM7XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gS2V5cyBpbiBJRSA8IDkgdGhhdCB3b24ndCBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC5cbiAgdmFyIGhhc0VudW1CdWcgPSAhe3RvU3RyaW5nOiBudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKTtcbiAgdmFyIG5vbkVudW1lcmFibGVQcm9wcyA9IFsndmFsdWVPZicsICdpc1Byb3RvdHlwZU9mJywgJ3RvU3RyaW5nJyxcbiAgICAncHJvcGVydHlJc0VudW1lcmFibGUnLCAnaGFzT3duUHJvcGVydHknLCAndG9Mb2NhbGVTdHJpbmcnXTtcblxuICB2YXIgY29sbGVjdE5vbkVudW1Qcm9wcyA9IGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICAgIHZhciBub25FbnVtSWR4ID0gbm9uRW51bWVyYWJsZVByb3BzLmxlbmd0aDtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBvYmouY29uc3RydWN0b3I7XG4gICAgdmFyIHByb3RvID0gXy5pc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSAmJiBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgfHwgT2JqUHJvdG87XG5cbiAgICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgaWYgKGhhcyhvYmosIHByb3ApICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25vbkVudW1JZHhdO1xuICAgICAgaWYgKHByb3AgaW4gb2JqICYmIG9ialtwcm9wXSAhPT0gcHJvdG9bcHJvcF0gJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIHtcbiAgICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgbmFtZXMgb2YgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2AuXG4gIF8ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgaWYgKG5hdGl2ZUtleXMpIHJldHVybiBuYXRpdmVLZXlzKG9iaik7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoaGFzKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgYWxsIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gIF8uYWxsS2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0LlxuICAvLyBJbiBjb250cmFzdCB0byBfLm1hcCBpdCByZXR1cm5zIGFuIG9iamVjdC5cbiAgXy5tYXBPYmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSB7fTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgcmVzdWx0c1tjdXJyZW50S2V5XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ29udmVydCBhbiBvYmplY3QgaW50byBhIGxpc3Qgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4gIC8vIFRoZSBvcHBvc2l0ZSBvZiBfLm9iamVjdC5cbiAgXy5wYWlycyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2AuXG4gIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlQXNzaWduZXIgPSBmdW5jdGlvbihrZXlzRnVuYywgZGVmYXVsdHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmIChkZWZhdWx0cykgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgICBpZiAobGVuZ3RoIDwgMiB8fCBvYmogPT0gbnVsbCkgcmV0dXJuIG9iajtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF0sXG4gICAgICAgICAgICBrZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICAgIGwgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoIWRlZmF1bHRzIHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS5cbiAgXy5leHRlbmQgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMpO1xuXG4gIC8vIEFzc2lnbnMgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIG93biBwcm9wZXJ0aWVzIGluIHRoZSBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICAvLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbiAgXy5leHRlbmRPd24gPSBfLmFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKF8ua2V5cyk7XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3Qga2V5IG9uIGFuIG9iamVjdCB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0LlxuICBfLmZpbmRLZXkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSwga2V5O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICAgIH1cbiAgfTtcblxuICAvLyBJbnRlcm5hbCBwaWNrIGhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgYG9iamAgaGFzIGtleSBga2V5YC5cbiAgdmFyIGtleUluT2JqID0gZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7XG4gICAgcmV0dXJuIGtleSBpbiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgd2hpdGVsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5waWNrID0gcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIGtleXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge30sIGl0ZXJhdGVlID0ga2V5c1swXTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDEpIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwga2V5c1sxXSk7XG4gICAgICBrZXlzID0gXy5hbGxLZXlzKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0ga2V5SW5PYmo7XG4gICAgICBrZXlzID0gZmxhdHRlbihrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgaWYgKGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iaikpIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCB3aXRob3V0IHRoZSBibGFja2xpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLm9taXQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICAgIHZhciBpdGVyYXRlZSA9IGtleXNbMF0sIGNvbnRleHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGl0ZXJhdGVlID0gXy5uZWdhdGUoaXRlcmF0ZWUpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID4gMSkgY29udGV4dCA9IGtleXNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleXMgPSBfLm1hcChmbGF0dGVuKGtleXMsIGZhbHNlLCBmYWxzZSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9KTtcblxuICAvLyBGaWxsIGluIGEgZ2l2ZW4gb2JqZWN0IHdpdGggZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBfLmRlZmF1bHRzID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzLCB0cnVlKTtcblxuICAvLyBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGdpdmVuIHByb3RvdHlwZSBvYmplY3QuXG4gIC8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4gIC8vIGNyZWF0ZWQgb2JqZWN0LlxuICBfLmNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSwgcHJvcHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIGlmIChwcm9wcykgXy5leHRlbmRPd24ocmVzdWx0LCBwcm9wcyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSAoc2hhbGxvdy1jbG9uZWQpIGR1cGxpY2F0ZSBvZiBhbiBvYmplY3QuXG4gIF8uY2xvbmUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgICByZXR1cm4gXy5pc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IF8uZXh0ZW5kKHt9LCBvYmopO1xuICB9O1xuXG4gIC8vIEludm9rZXMgaW50ZXJjZXB0b3Igd2l0aCB0aGUgb2JqLCBhbmQgdGhlbiByZXR1cm5zIG9iai5cbiAgLy8gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4sIGluXG4gIC8vIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW4gdGhlIGNoYWluLlxuICBfLnRhcCA9IGZ1bmN0aW9uKG9iaiwgaW50ZXJjZXB0b3IpIHtcbiAgICBpbnRlcmNlcHRvcihvYmopO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2YgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uaXNNYXRjaCA9IGZ1bmN0aW9uKG9iamVjdCwgYXR0cnMpIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhhdHRycyksIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICFsZW5ndGg7XG4gICAgdmFyIG9iaiA9IE9iamVjdChvYmplY3QpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKGF0dHJzW2tleV0gIT09IG9ialtrZXldIHx8ICEoa2V5IGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cblxuICAvLyBJbnRlcm5hbCByZWN1cnNpdmUgY29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgYGlzRXF1YWxgLlxuICB2YXIgZXEsIGRlZXBFcTtcbiAgZXEgPSBmdW5jdGlvbihhLCBiLCBhU3RhY2ssIGJTdGFjaykge1xuICAgIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgICAvLyBTZWUgdGhlIFtIYXJtb255IGBlZ2FsYCBwcm9wb3NhbF0oaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTplZ2FsKS5cbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAgIC8vIGBudWxsYCBvciBgdW5kZWZpbmVkYCBvbmx5IGVxdWFsIHRvIGl0c2VsZiAoc3RyaWN0IGNvbXBhcmlzb24pLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICBpZiAoYSAhPT0gYSkgcmV0dXJuIGIgIT09IGI7XG4gICAgLy8gRXhoYXVzdCBwcmltaXRpdmUgY2hlY2tzXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgYTtcbiAgICBpZiAodHlwZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBkZWVwRXEoYSwgYiwgYVN0YWNrLCBiU3RhY2spO1xuICB9O1xuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIGRlZXBFcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBfKSBhID0gYS5fd3JhcHBlZDtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIF8pIGIgPSBiLl93cmFwcGVkO1xuICAgIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdG9TdHJpbmcuY2FsbChiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAvLyBTdHJpbmdzLCBudW1iZXJzLCByZWd1bGFyIGV4cHJlc3Npb25zLCBkYXRlcywgYW5kIGJvb2xlYW5zIGFyZSBjb21wYXJlZCBieSB2YWx1ZS5cbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgICAvLyBSZWdFeHBzIGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MgZm9yIGNvbXBhcmlzb24gKE5vdGU6ICcnICsgL2EvaSA9PT0gJy9hL2knKVxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgICByZXR1cm4gJycgKyBhID09PSAnJyArIGI7XG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLlxuICAgICAgICAvLyBPYmplY3QoTmFOKSBpcyBlcXVpdmFsZW50IHRvIE5hTi5cbiAgICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IFN5bWJvbF0nOlxuICAgICAgICByZXR1cm4gU3ltYm9sUHJvdG8udmFsdWVPZi5jYWxsKGEpID09PSBTeW1ib2xQcm90by52YWx1ZU9mLmNhbGwoYik7XG4gICAgfVxuXG4gICAgdmFyIGFyZUFycmF5cyA9IGNsYXNzTmFtZSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICBpZiAoIWFyZUFycmF5cykge1xuICAgICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cblxuICAgIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXG4gICAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICAgIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT09IGI7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuXG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGFyZUFycmF5cykge1xuICAgICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKGEpLCBrZXk7XG4gICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cbiAgICAgIGlmIChfLmtleXMoYikubGVuZ3RoICE9PSBsZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgICAga2V5ID0ga2V5c1tsZW5ndGhdO1xuICAgICAgICBpZiAoIShoYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvciwgaXNNYXAsIGlzV2Vha01hcCwgaXNTZXQsIGlzV2Vha1NldC5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InLCAnU3ltYm9sJywgJ01hcCcsICdXZWFrTWFwJywgJ1NldCcsICdXZWFrU2V0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBfWydpcycgKyBuYW1lXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgJyArIG5hbWUgKyAnXSc7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSA8IDkpLCB3aGVyZVxuICAvLyB0aGVyZSBpc24ndCBhbnkgaW5zcGVjdGFibGUgXCJBcmd1bWVudHNcIiB0eXBlLlxuICBpZiAoIV8uaXNBcmd1bWVudHMoYXJndW1lbnRzKSkge1xuICAgIF8uaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBoYXMob2JqLCAnY2FsbGVlJyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4gIC8vIElFIDExICgjMTYyMSksIFNhZmFyaSA4ICgjMTkyOSksIGFuZCBQaGFudG9tSlMgKCMyMjM2KS5cbiAgdmFyIG5vZGVsaXN0ID0gcm9vdC5kb2N1bWVudCAmJiByb290LmRvY3VtZW50LmNoaWxkTm9kZXM7XG4gIGlmICh0eXBlb2YgLy4vICE9ICdmdW5jdGlvbicgJiYgdHlwZW9mIEludDhBcnJheSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Ygbm9kZWxpc3QgIT0gJ2Z1bmN0aW9uJykge1xuICAgIF8uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBmYWxzZTtcbiAgICB9O1xuICB9XG5cbiAgLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuICBfLmlzRmluaXRlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICFfLmlzU3ltYm9sKG9iaikgJiYgaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/XG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIGlzTmFOKG9iaik7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIGJvb2xlYW4/XG4gIF8uaXNCb29sZWFuID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgZXF1YWwgdG8gbnVsbD9cbiAgXy5pc051bGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBudWxsO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgdW5kZWZpbmVkP1xuICBfLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdm9pZCAwO1xuICB9O1xuXG4gIC8vIFNob3J0Y3V0IGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gcHJvcGVydHkgZGlyZWN0bHlcbiAgLy8gb24gaXRzZWxmIChpbiBvdGhlciB3b3Jkcywgbm90IG9uIGEgcHJvdG90eXBlKS5cbiAgXy5oYXMgPSBmdW5jdGlvbihvYmosIHBhdGgpIHtcbiAgICBpZiAoIV8uaXNBcnJheShwYXRoKSkge1xuICAgICAgcmV0dXJuIGhhcyhvYmosIHBhdGgpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHBhdGhbaV07XG4gICAgICBpZiAob2JqID09IG51bGwgfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iaiA9IG9ialtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gISFsZW5ndGg7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBQcmVkaWNhdGUtZ2VuZXJhdGluZyBmdW5jdGlvbnMuIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG4gIF8uY29uc3RhbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuXG4gIF8ubm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBwYXNzZWQgYW4gb2JqZWN0LCB3aWxsIHRyYXZlcnNlIHRoYXQgb2JqZWN04oCZc1xuICAvLyBwcm9wZXJ0aWVzIGRvd24gdGhlIGdpdmVuIGBwYXRoYCwgc3BlY2lmaWVkIGFzIGFuIGFycmF5IG9mIGtleXMgb3IgaW5kZXhlcy5cbiAgXy5wcm9wZXJ0eSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBpZiAoIV8uaXNBcnJheShwYXRoKSkge1xuICAgICAgcmV0dXJuIHNoYWxsb3dQcm9wZXJ0eShwYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIGRlZXBHZXQob2JqLCBwYXRoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgXy5wcm9wZXJ0eU9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKXt9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgcmV0dXJuICFfLmlzQXJyYXkocGF0aCkgPyBvYmpbcGF0aF0gOiBkZWVwR2V0KG9iaiwgcGF0aCk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2ZcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVzY2FwZU1hcCA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmI3gyNzsnLFxuICAgICdgJzogJyYjeDYwOydcbiAgfTtcbiAgdmFyIHVuZXNjYXBlTWFwID0gXy5pbnZlcnQoZXNjYXBlTWFwKTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIHZhciBjcmVhdGVFc2NhcGVyID0gZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIG1hcFttYXRjaF07XG4gICAgfTtcbiAgICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWQuXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gVHJhdmVyc2VzIHRoZSBjaGlsZHJlbiBvZiBgb2JqYCBhbG9uZyBgcGF0aGAuIElmIGEgY2hpbGQgaXMgYSBmdW5jdGlvbiwgaXRcbiAgLy8gaXMgaW52b2tlZCB3aXRoIGl0cyBwYXJlbnQgYXMgY29udGV4dC4gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGZpbmFsXG4gIC8vIGNoaWxkLCBvciBgZmFsbGJhY2tgIGlmIGFueSBjaGlsZCBpcyB1bmRlZmluZWQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqLCBwYXRoLCBmYWxsYmFjaykge1xuICAgIGlmICghXy5pc0FycmF5KHBhdGgpKSBwYXRoID0gW3BhdGhdO1xuICAgIHZhciBsZW5ndGggPSBwYXRoLmxlbmd0aDtcbiAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgcmV0dXJuIF8uaXNGdW5jdGlvbihmYWxsYmFjaykgPyBmYWxsYmFjay5jYWxsKG9iaikgOiBmYWxsYmFjaztcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHByb3AgPSBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtwYXRoW2ldXTtcbiAgICAgIGlmIChwcm9wID09PSB2b2lkIDApIHtcbiAgICAgICAgcHJvcCA9IGZhbGxiYWNrO1xuICAgICAgICBpID0gbGVuZ3RoOyAvLyBFbnN1cmUgd2UgZG9uJ3QgY29udGludWUgaXRlcmF0aW5nLlxuICAgICAgfVxuICAgICAgb2JqID0gXy5pc0Z1bmN0aW9uKHByb3ApID8gcHJvcC5jYWxsKG9iaikgOiBwcm9wO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgaWQgKHVuaXF1ZSB3aXRoaW4gdGhlIGVudGlyZSBjbGllbnQgc2Vzc2lvbikuXG4gIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuICBfLnVuaXF1ZUlkID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbiAgfTtcblxuICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGVcbiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgZXZhbHVhdGU6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGU6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZTogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlUmVnRXhwID0gL1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIHZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgZXNjYXBlc1ttYXRjaF07XG4gIH07XG5cbiAgLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLFxuICAvLyBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgc2V0dGluZ3MsIG9sZFNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncyAmJiBvbGRTZXR0aW5ncykgc2V0dGluZ3MgPSBvbGRTZXR0aW5ncztcbiAgICBzZXR0aW5ncyA9IF8uZGVmYXVsdHMoe30sIHNldHRpbmdzLCBfLnRlbXBsYXRlU2V0dGluZ3MpO1xuXG4gICAgLy8gQ29tYmluZSBkZWxpbWl0ZXJzIGludG8gb25lIHJlZ3VsYXIgZXhwcmVzc2lvbiB2aWEgYWx0ZXJuYXRpb24uXG4gICAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCBlc2NhcGVDaGFyKTtcbiAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGludGVycG9sYXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuXG4gICAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZzZXQuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyAncmV0dXJuIF9fcDtcXG4nO1xuXG4gICAgdmFyIHJlbmRlcjtcbiAgICB0cnkge1xuICAgICAgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHZhciBhcmd1bWVudCA9IHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonO1xuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9O1xuXG4gIC8vIEFkZCBhIFwiY2hhaW5cIiBmdW5jdGlvbi4gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGluc3RhbmNlID0gXyhvYmopO1xuICAgIGluc3RhbmNlLl9jaGFpbiA9IHRydWU7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciBjaGFpblJlc3VsdCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBvYmopIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuX2NoYWluID8gXyhvYmopLmNoYWluKCkgOiBvYmo7XG4gIH07XG5cbiAgLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm1peGluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgXy5lYWNoKF8uZnVuY3Rpb25zKG9iaiksIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gX1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gW3RoaXMuX3dyYXBwZWRdO1xuICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIF87XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBtZXRob2QuYXBwbHkodGhpcy5fd3JhcHBlZCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRXh0cmFjdHMgdGhlIHJlc3VsdCBmcm9tIGEgd3JhcHBlZCBhbmQgY2hhaW5lZCBvYmplY3QuXG4gIF8ucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gUHJvdmlkZSB1bndyYXBwaW5nIHByb3h5IGZvciBzb21lIG1ldGhvZHMgdXNlZCBpbiBlbmdpbmUgb3BlcmF0aW9uc1xuICAvLyBzdWNoIGFzIGFyaXRobWV0aWMgYW5kIEpTT04gc3RyaW5naWZpY2F0aW9uLlxuICBfLnByb3RvdHlwZS52YWx1ZU9mID0gXy5wcm90b3R5cGUudG9KU09OID0gXy5wcm90b3R5cGUudmFsdWU7XG5cbiAgXy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMuX3dyYXBwZWQpO1xuICB9O1xuXG4gIC8vIEFNRCByZWdpc3RyYXRpb24gaGFwcGVucyBhdCB0aGUgZW5kIGZvciBjb21wYXRpYmlsaXR5IHdpdGggQU1EIGxvYWRlcnNcbiAgLy8gdGhhdCBtYXkgbm90IGVuZm9yY2UgbmV4dC10dXJuIHNlbWFudGljcyBvbiBtb2R1bGVzLiBFdmVuIHRob3VnaCBnZW5lcmFsXG4gIC8vIHByYWN0aWNlIGZvciBBTUQgcmVnaXN0cmF0aW9uIGlzIHRvIGJlIGFub255bW91cywgdW5kZXJzY29yZSByZWdpc3RlcnNcbiAgLy8gYXMgYSBuYW1lZCBtb2R1bGUgYmVjYXVzZSwgbGlrZSBqUXVlcnksIGl0IGlzIGEgYmFzZSBsaWJyYXJ5IHRoYXQgaXNcbiAgLy8gcG9wdWxhciBlbm91Z2ggdG8gYmUgYnVuZGxlZCBpbiBhIHRoaXJkIHBhcnR5IGxpYiwgYnV0IG5vdCBiZSBwYXJ0IG9mXG4gIC8vIGFuIEFNRCBsb2FkIHJlcXVlc3QuIFRob3NlIGNhc2VzIGNvdWxkIGdlbmVyYXRlIGFuIGVycm9yIHdoZW4gYW5cbiAgLy8gYW5vbnltb3VzIGRlZmluZSgpIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgbG9hZGVyIHJlcXVlc3QuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndW5kZXJzY29yZScsIFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG59KCkpO1xuIiwiLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vYm1lcnNob24vMjVhNzRmN2IxYzdjYmQwN2U3NDU2YWYxZDJjMDdkYTFcbi8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9LcnVza2FsJTI3c19hbGdvcml0aG1cXFxuLy8gRGVwZW5kcyBvbiBEaXNqb2ludFNldC5cbmltcG9ydCBfIGZyb20gXCJ1bmRlcnNjb3JlXCI7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGUgdGhlIHBhaXJzIGJldHdlZW4gbm9kZSBhbmQgaXRzIGxpbmtzLlxuICpcbiAqIEBwYXJhbSBsaW5rc1xuICogQHJldHVybnMgW1tcIm5vZGVYLG5vZGVZXCIsIEFycmF5KG51bWJlck9mTGlua3NSZWxhdGVkVG9UaGVOb2RlcyldXVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFpck5vZGVMaW5rcyhsaW5rcykge1xuICAgIGxldCBuZXN0ZWRCeU5vZGVzID0ge307XG4gICAgbGlua3MuZm9yRWFjaChsID0+IHtcbiAgICAgICAgbGV0IHNvdXJjZUtleSA9IGwuc291cmNlLmpvaW4oJywnKTtcbiAgICAgICAgaWYgKCFuZXN0ZWRCeU5vZGVzW3NvdXJjZUtleV0pIHtcbiAgICAgICAgICAgIG5lc3RlZEJ5Tm9kZXNbc291cmNlS2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG5lc3RlZEJ5Tm9kZXNbc291cmNlS2V5XS5wdXNoKGwpO1xuICAgICAgICBsZXQgdGFyZ2V0S2V5ID0gbC50YXJnZXQuam9pbignLCcpO1xuICAgICAgICBpZiAoIW5lc3RlZEJ5Tm9kZXNbdGFyZ2V0S2V5XSkge1xuICAgICAgICAgICAgbmVzdGVkQnlOb2Rlc1t0YXJnZXRLZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbmVzdGVkQnlOb2Rlc1t0YXJnZXRLZXldLnB1c2gobCk7XG4gICAgfSk7XG4gICAgLy9QYWlyIHRoZSByZXN1bHRzXG4gICAgbGV0IHBhaXJlZFJlc3VsdHMgPSBfLnBhaXJzKG5lc3RlZEJ5Tm9kZXMpO1xuICAgIHJldHVybiBwYWlyZWRSZXN1bHRzO1xufVxuXG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGNvcm5lcnMgKHRocmVlIHZlcnRpY2VzKSBvZiB2ZXJ0aWNlcyBvZiBkZWdyZWUgdHdvIGluIHRoZSBmb3IgbWF0IG9mXG4gKiBwb2ludDEsIHBvaW50MiwgcG9pbnQzID0+IHBvaW50MSBpcyB0aGUgdGhlIHZlcnRleCB3aXRoIGRlZ3JlZSB0d28gKHR3byBlZGdlcyBjb25uZWN0ZWQgdG8gaXQgYXJlIFtwb2ludDEsIHBvaW50Ml0gYW5kIFtwb2ludDEsIHBvaW50M10gKG9yZGVyIG9mIHRoZSBwb2ludHMgaW4gZWFjaCBlZGdlIGlzIG5vdCBpbXBvcnRhbnQpKS5cbiAqIEBwYXJhbSB0cmVlXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFYyQ29ybmVyc0Zyb21UcmVlKHRyZWUpIHtcbiAgICBsZXQgcGFpcmVkUmVzdWx0cyA9IHBhaXJOb2RlTGlua3ModHJlZS5saW5rcyk7XG4gICAgLy9HZXQgYWxsIHBhaXJzIHdpdGggbGVuZ3RoID0gMiAoVjIpXG4gICAgbGV0IGFsbFYyID0gcGFpcmVkUmVzdWx0cy5maWx0ZXIocCA9PiBwWzFdLmxlbmd0aCA9PSAyKTtcblxuICAgIGxldCBhbGxDb3JuZXJzID0gYWxsVjIubWFwKHYyID0+IHtcbiAgICAgICAgbGV0IGNvcm5lciA9IFtdO1xuICAgICAgICAvL0ZpcnN0IHBvaW50IGlzIHRoZSBjb21tb24gdmVydGljZVxuICAgICAgICBjb3JuZXIucHVzaCh2MlswXS5zcGxpdCgnLCcpLm1hcChkID0+ICtkKSk7Ly9tYXAoZD0+K2QpIGlzIHRvIGNvbnZlcnQgdGhlIHN0cmluZ3MgaW50byBkaWdpdHNcbiAgICAgICAgLy9QdXNoIHRoZSBzb3VyY2Ugb3IgdGFyZ2V0IGlmIHRoZXkgYXJlIG5vdCB0aGUgY29tbW9uIHZlcnRpY2VzIG9mIHRoZSB0d28gZWRnZXNcbiAgICAgICAgdjJbMV0uZm9yRWFjaChsaW5rID0+IHtcbiAgICAgICAgICAgIGlmIChsaW5rLnNvdXJjZS5qb2luKCcsJykgIT0gdjJbMF0pIHtcbiAgICAgICAgICAgICAgICBjb3JuZXIucHVzaChsaW5rLnNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvcm5lci5wdXNoKGxpbmsudGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb3JuZXI7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFsbENvcm5lcnM7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGFsbCBzaW5nbGUgZGVncmVlIHZlcnRpY2VzIGZyb20gYSB0cmVlXG4gKiBAcGFyYW0gdHJlZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsVjFzRnJvbVRyZWUodHJlZSkge1xuICAgIGxldCBwYWlyZWRSZXN1bHRzID0gcGFpck5vZGVMaW5rcyh0cmVlLmxpbmtzKTtcbiAgICAvL0dldCBhbGwgcGFpcnMgd2l0aCBsZW5ndGggPSAxIChWMSlcbiAgICBsZXQgYWxsVjEgPSBwYWlyZWRSZXN1bHRzLmZpbHRlcihwID0+IHBbMV0ubGVuZ3RoID09IDEpO1xuICAgIHJldHVybiBhbGxWMS5tYXAodjEgPT4gdjFbMF0uc3BsaXQoJywnKS5tYXAoTnVtYmVyKSk7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGFsbCB2ZXJ0aWNlcyB3aXRoIGRlZ3JlZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgMlxuICogQHBhcmFtIHRyZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFYyT3JHcmVhdGVyRnJvbVRyZWUodHJlZSkge1xuICAgIGxldCBwYWlyZWRSZXN1bHRzID0gcGFpck5vZGVMaW5rcyh0cmVlLmxpbmtzKTtcbiAgICAvL0dldCBhbGwgcGFpcnMgd2l0aCBsZW5ndGggPj0gMiAoVjIpXG4gICAgbGV0IGFsbEdURVYyID0gcGFpcmVkUmVzdWx0cy5maWx0ZXIocCA9PiBwWzFdLmxlbmd0aCA+PSAyKTtcbiAgICByZXR1cm4gYWxsR1RFVjIubWFwKHYgPT4gdlswXS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpKTtcbn1cblxuLyoqXG4gKiBBZnRlciByZW1vdmluZyBvdXRseWluZyBsaW5rcyAoTVNUIG1heSBiZSBkaXNjb25uZWN0ZWQsIHdlIG5lZWQgdG8gYnVpbGQgYSBuZXcgY29ubmVjdGVkIHRyZWUpLlxuICogQHBhcmFtIHBvaW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdE1TVHModHJlZSl7XG4gICAgbGV0IG1zdHMgPSBbXTtcbiAgICAvL1Rha2UgdGhlIGZpcnN0IGVkZ2UgPT4gYWRkIGFsbCB0byBvbmUgZmlyc3Qgc3VidHJlZS5cbiAgICBsZXQgZmlyc3ROb2RlID0gdHJlZS5saW5rc1swXS5zb3VyY2U7XG4gICAgd2hpbGUoMSl7XG4gICAgICAgIGxldCBzdWJtc3QgPSB7fTtcblxuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGEgZ3JhcGggZnJvbSBtZXNoXG4gKiBAcGFyYW0gdHJpYW5nbGVzIGlzIGluZm9ybSBvZiBzZXQgb2YgdHJpYW5nbGVzIGFzIHRoZSByZXN1bHQgZnJvbSBkZWxhdW5heSB0cmlhbmd1bGF0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR3JhcGgodHJpYW5nbGVzKSB7XG5cbiAgICBmdW5jdGlvbiBtYWtlTGluayhzb3VyY2VJZCwgdGFyZ2V0SWQsIHdlaWdodCkge1xuICAgICAgICByZXR1cm4ge1wic291cmNlXCI6IHNvdXJjZUlkLCBcInRhcmdldFwiOiB0YXJnZXRJZCwgXCJ3ZWlnaHRcIjogd2VpZ2h0fTtcbiAgICB9XG5cbiAgICBsZXQgZ3JhcGggPSB7fTtcbiAgICBncmFwaC5ub2RlcyA9IFtdO1xuICAgIGdyYXBoLmxpbmtzID0gW107XG4gICAgLy9DcmVhdGluZyBub2Rlc1xuICAgIHRyaWFuZ2xlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgbGV0IGlkID0gdFtpXTtcbiAgICAgICAgICAgIGlmICghaWRFeGlzdHMoZ3JhcGgubm9kZXMsIGlkKSkge1xuICAgICAgICAgICAgICAgIGdyYXBoLm5vZGVzLnB1c2gobWFrZU5vZGUoaWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy9DcmVhdGluZyBsaW5rc1xuICAgIHRyaWFuZ2xlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgbGV0IHAxID0gdFtpXTtcbiAgICAgICAgICAgIGxldCBwMiA9IHRbKGkgKyAxKSAlIDNdO1xuICAgICAgICAgICAgbGV0IGlkMSA9IHAxO1xuICAgICAgICAgICAgbGV0IGlkMiA9IHAyO1xuICAgICAgICAgICAgbGV0IGRpc3QgPSBkaXN0YW5jZShwMSwgcDIpO1xuICAgICAgICAgICAgbGV0IGxpbmsgPSBtYWtlTGluayhpZDEsIGlkMiwgZGlzdCk7XG4gICAgICAgICAgICBpZiAoIWxpbmtFeGlzdHMoZ3JhcGgubGlua3MsIGxpbmspKSB7XG4gICAgICAgICAgICAgICAgZ3JhcGgubGlua3MucHVzaChsaW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAvL1RPRE86IG1heSBzb3J0IHRoZSBpZCBhbHBoYWJldGljYWxseSA9PiB3aGVuIGNyZWF0aW5nID0+IHNvIHdlIGNhbiBqdXN0IGNoZWNrIDEgY29uZGl0aW9uIG9ubHkuXG4gICAgZnVuY3Rpb24gbGlua0V4aXN0cyhsaW5rcywgbGluaykge1xuICAgICAgICBsZXQgbGVuZ3RoID0gbGlua3MubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gbGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGlmIChlcXVhbExpbmtzKGxpbmssIGxpbmtzW2ldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ3JhcGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gICAgbGV0IGR4ID0gYVswXSAtIGJbMF0sXG4gICAgICAgIGR5ID0gYVsxXSAtIGJbMV07XG4gICAgLy9Gb3IgY29tcHV0ZXIgc3RvcmFnZSBpc3N1ZSwgc29tZSBjb29yZGluYXRlcyBvZiB0aGUgc2FtZSBkaXN0YW5jZSBtYXkgcmV0dXJuIGRpZmZlcmVudCBkaXN0YW5jZXMgaWYgd2UgdXNlIGxvbmcgZmxvYXRpbmcgcG9pbnRcbiAgICAvL1NvIHRha2Ugb25seSAxMCBkaWdpdHMgYWZ0ZXIgdGhlIGZsb2F0aW5nIHBvaW50cz0+IHRoaXMgaXMgcHJlY2lzZSBlbm91Z2ggYW5kIHN0aWxsIGhhdmUgdGhlIHNhbWUgdmFsdWVzIGZvciB0d28gZGlmZmVyZW50IGxpbmVzIG9mIHRoZSBzYW1lIGRpc3RhbmNlXG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSkgKiBNYXRoLnBvdygxMCwgMTApKSAvIE1hdGgucG93KDEwLCAxMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbFBvaW50cyhpZDEsIGlkMikge1xuICAgIHJldHVybiAoaWQxWzBdID09PSBpZDJbMF0gJiYgaWQxWzFdID09PSBpZDJbMV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxMaW5rcyhsMSwgbDIpIHtcbiAgICByZXR1cm4gKGVxdWFsUG9pbnRzKGwxLnNvdXJjZSwgbDIuc291cmNlKSAmJiBlcXVhbFBvaW50cyhsMS50YXJnZXQsIGwyLnRhcmdldCkpIHx8XG4gICAgICAgIChlcXVhbFBvaW50cyhsMS5zb3VyY2UsIGwyLnRhcmdldCkgJiYgZXF1YWxQb2ludHMobDEudGFyZ2V0LCBsMi5zb3VyY2UpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlkRXhpc3RzKG5vZGVzLCBpZCkge1xuICAgIGxldCBsZW5ndGggPSBub2Rlcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IGxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGxldCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChlcXVhbFBvaW50cyhub2RlLmlkLCBpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VOb2RlKGlkKSB7XG4gICAgcmV0dXJuIHtcImlkXCI6IGlkfTtcbn1cblxuLyoqXG4gKiBjcmVhdGUgdGhlIG1zdFxuICogQHBhcmFtIGdyYXBoOiBpbiBmb3JtIG9mIG5vZGVzIGFuZCBsaW5rc1xuICogQHJldHVybnMge3tub2RlczogKHNlbGVjdGlvbl9ub2Rlc3xub2RlcyksIGxpbmtzOiBBcnJheX19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtc3QoZ3JhcGgpIHtcbiAgICBsZXQgdmVydGljZXMgPSBncmFwaC5ub2RlcyxcbiAgICAgICAgZWRnZXMgPSBncmFwaC5saW5rcy5zbGljZSgwKSxcbiAgICAgICAgc2VsZWN0ZWRFZGdlcyA9IFtdLFxuICAgICAgICBmb3Jlc3QgPSBuZXcgRGlzam9pbnRTZXQoKTtcblxuICAgIC8vIEVhY2ggdmVydGV4IGJlZ2lucyBcImRpc2Nvbm5lY3RlZFwiIGFuZCBpc29sYXRlZCBmcm9tIGFsbCB0aGUgb3RoZXJzLlxuICAgIHZlcnRpY2VzLmZvckVhY2goKHZlcnRleCkgPT4ge1xuICAgICAgICBmb3Jlc3QubWFrZVNldCh2ZXJ0ZXguaWQpO1xuICAgIH0pO1xuXG4gICAgLy8gU29ydCBlZGdlcyBpbiBkZXNjZW5kaW5nIG9yZGVyIG9mIHdlaWdodC4gV2Ugd2lsbCBwb3AgZWRnZXMgYmVnaW5uaW5nXG4gICAgLy8gZnJvbSB0aGUgZW5kIG9mIHRoZSBhcnJheS5cbiAgICBlZGdlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiAtKGEud2VpZ2h0IC0gYi53ZWlnaHQpO1xuICAgIH0pO1xuXG4gICAgd2hpbGUgKGVkZ2VzLmxlbmd0aCAmJiBmb3Jlc3Quc2l6ZSgpID4gMSkge1xuICAgICAgICBsZXQgZWRnZSA9IGVkZ2VzLnBvcCgpO1xuXG4gICAgICAgIGlmIChmb3Jlc3QuZmluZChlZGdlLnNvdXJjZSkgIT09IGZvcmVzdC5maW5kKGVkZ2UudGFyZ2V0KSkge1xuICAgICAgICAgICAgZm9yZXN0LnVuaW9uKGVkZ2Uuc291cmNlLCBlZGdlLnRhcmdldCk7XG4gICAgICAgICAgICBzZWxlY3RlZEVkZ2VzLnB1c2goZWRnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBub2RlczogdmVydGljZXMsXG4gICAgICAgIGxpbmtzOiBzZWxlY3RlZEVkZ2VzXG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIERpc2pvaW50U2V0KCkge1xuICAgIHRoaXMuaW5kZXhfID0ge307XG59XG5cbmZ1bmN0aW9uIE5vZGUoaWQpIHtcbiAgICB0aGlzLmlkXyA9IGlkO1xuICAgIHRoaXMucGFyZW50XyA9IHRoaXM7XG4gICAgdGhpcy5yYW5rXyA9IDA7XG59XG5cbkRpc2pvaW50U2V0LnByb3RvdHlwZS5tYWtlU2V0ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgaWYgKCF0aGlzLmluZGV4X1tpZF0pIHtcbiAgICAgICAgbGV0IGNyZWF0ZWQgPSBuZXcgTm9kZShpZCk7XG4gICAgICAgIHRoaXMuaW5kZXhfW2lkXSA9IGNyZWF0ZWQ7XG4gICAgfVxufVxuXG4vLyBSZXR1cm5zIHRoZSBpZCBvZiB0aGUgcmVwcmVzZW50YXRpdmUgZWxlbWVudCBvZiB0aGlzIHNldCB0aGF0IChpZClcbi8vIGJlbG9uZ3MgdG8uXG5EaXNqb2ludFNldC5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgIGlmICh0aGlzLmluZGV4X1tpZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGxldCBjdXJyZW50ID0gdGhpcy5pbmRleF9baWRdLnBhcmVudF87XG4gICAgd2hpbGUgKGN1cnJlbnQgIT09IGN1cnJlbnQucGFyZW50Xykge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRfO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudC5pZF87XG59XG5cbkRpc2pvaW50U2V0LnByb3RvdHlwZS51bmlvbiA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgbGV0IHhSb290ID0gdGhpcy5pbmRleF9bdGhpcy5maW5kKHgpXTtcbiAgICBsZXQgeVJvb3QgPSB0aGlzLmluZGV4X1t0aGlzLmZpbmQoeSldO1xuXG4gICAgaWYgKHhSb290ID09PSB1bmRlZmluZWQgfHwgeVJvb3QgPT09IHVuZGVmaW5lZCB8fCB4Um9vdCA9PT0geVJvb3QpIHtcbiAgICAgICAgLy8geCBhbmQgeSBhbHJlYWR5IGJlbG9uZyB0byB0aGUgc2FtZSBzZXQuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoeFJvb3QucmFuayA8IHlSb290LnJhbmspIHsgLy8gTW92ZSB4IGludG8gdGhlIHNldCB5IGlzIGEgbWVtYmVyIG9mLlxuICAgICAgICB4Um9vdC5wYXJlbnRfID0geVJvb3Q7XG4gICAgfSBlbHNlIGlmICh5Um9vdC5yYW5rXyA8IHhSb290LnJhbmtfKSB7IC8vIE1vdmUgeSBpbnRvIHRoZSBzZXQgeCBpcyBhIG1lbWJlciBvZi5cbiAgICAgICAgeVJvb3QucGFyZW50XyA9IHhSb290O1xuICAgIH0gZWxzZSB7IC8vIEFyYml0cmFyaWx5IGNob29zZSB0byBtb3ZlIHkgaW50byB0aGUgc2V0IHggaXMgYSBtZW1iZXIgb2YuXG4gICAgICAgIHlSb290LnBhcmVudF8gPSB4Um9vdDtcbiAgICAgICAgeFJvb3QucmFua18rKztcbiAgICB9XG59XG5cbi8vIFJldHVybnMgdGhlIGN1cnJlbnQgbnVtYmVyIG9mIGRpc2pvaW50IHNldHMuXG5EaXNqb2ludFNldC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgdW5pcXVlSW5kaWNlcyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKHRoaXMuaW5kZXhfKS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICB1bmlxdWVJbmRpY2VzW2lkXSA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHVuaXF1ZUluZGljZXMpLmxlbmd0aDtcbn1cbiIsIi8qIEBmbG93ICovXG5cbi8qKlxuICogW1NpbXBsZSBsaW5lYXIgcmVncmVzc2lvbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TaW1wbGVfbGluZWFyX3JlZ3Jlc3Npb24pXG4gKiBpcyBhIHNpbXBsZSB3YXkgdG8gZmluZCBhIGZpdHRlZCBsaW5lXG4gKiBiZXR3ZWVuIGEgc2V0IG9mIGNvb3JkaW5hdGVzLiBUaGlzIGFsZ29yaXRobSBmaW5kcyB0aGUgc2xvcGUgYW5kIHktaW50ZXJjZXB0IG9mIGEgcmVncmVzc2lvbiBsaW5lXG4gKiB1c2luZyB0aGUgbGVhc3Qgc3VtIG9mIHNxdWFyZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZGF0YSBhbiBhcnJheSBvZiB0d28tZWxlbWVudCBvZiBhcnJheXMsXG4gKiBsaWtlIGBbWzAsIDFdLCBbMiwgM11dYFxuICogQHJldHVybnMge09iamVjdH0gb2JqZWN0IGNvbnRhaW5pbmcgc2xvcGUgYW5kIGludGVyc2VjdCBvZiByZWdyZXNzaW9uIGxpbmVcbiAqIEBleGFtcGxlXG4gKiBsaW5lYXJSZWdyZXNzaW9uKFtbMCwgMF0sIFsxLCAxXV0pOyAvLyA9PiB7IG06IDEsIGI6IDAgfVxuICovXG5mdW5jdGlvbiBsaW5lYXJSZWdyZXNzaW9uKGRhdGEvKjogQXJyYXk8QXJyYXk8bnVtYmVyPj4gKi8pLyo6IHsgbTogbnVtYmVyLCBiOiBudW1iZXIgfSAqLyB7XG5cbiAgICB2YXIgbSwgYjtcblxuICAgIC8vIFN0b3JlIGRhdGEgbGVuZ3RoIGluIGEgbG9jYWwgdmFyaWFibGUgdG8gcmVkdWNlXG4gICAgLy8gcmVwZWF0ZWQgb2JqZWN0IHByb3BlcnR5IGxvb2t1cHNcbiAgICB2YXIgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgLy9pZiB0aGVyZSdzIG9ubHkgb25lIHBvaW50LCBhcmJpdHJhcmlseSBjaG9vc2UgYSBzbG9wZSBvZiAwXG4gICAgLy9hbmQgYSB5LWludGVyY2VwdCBvZiB3aGF0ZXZlciB0aGUgeSBvZiB0aGUgaW5pdGlhbCBwb2ludCBpc1xuICAgIGlmIChkYXRhTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG0gPSAwO1xuICAgICAgICBiID0gZGF0YVswXVsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbml0aWFsaXplIG91ciBzdW1zIGFuZCBzY29wZSB0aGUgYG1gIGFuZCBgYmBcbiAgICAgICAgLy8gdmFyaWFibGVzIHRoYXQgZGVmaW5lIHRoZSBsaW5lLlxuICAgICAgICB2YXIgc3VtWCA9IDAsIHN1bVkgPSAwLFxuICAgICAgICAgICAgc3VtWFggPSAwLCBzdW1YWSA9IDA7XG5cbiAgICAgICAgLy8gVXNlIGxvY2FsIHZhcmlhYmxlcyB0byBncmFiIHBvaW50IHZhbHVlc1xuICAgICAgICAvLyB3aXRoIG1pbmltYWwgb2JqZWN0IHByb3BlcnR5IGxvb2t1cHNcbiAgICAgICAgdmFyIHBvaW50LCB4LCB5O1xuXG4gICAgICAgIC8vIEdhdGhlciB0aGUgc3VtIG9mIGFsbCB4IHZhbHVlcywgdGhlIHN1bSBvZiBhbGxcbiAgICAgICAgLy8geSB2YWx1ZXMsIGFuZCB0aGUgc3VtIG9mIHheMiBhbmQgKHgqeSkgZm9yIGVhY2hcbiAgICAgICAgLy8gdmFsdWUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEluIG1hdGggbm90YXRpb24sIHRoZXNlIHdvdWxkIGJlIFNTX3gsIFNTX3ksIFNTX3h4LCBhbmQgU1NfeHlcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHggPSBwb2ludFswXTtcbiAgICAgICAgICAgIHkgPSBwb2ludFsxXTtcblxuICAgICAgICAgICAgc3VtWCArPSB4O1xuICAgICAgICAgICAgc3VtWSArPSB5O1xuXG4gICAgICAgICAgICBzdW1YWCArPSB4ICogeDtcbiAgICAgICAgICAgIHN1bVhZICs9IHggKiB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYG1gIGlzIHRoZSBzbG9wZSBvZiB0aGUgcmVncmVzc2lvbiBsaW5lXG4gICAgICAgIG0gPSAoKGRhdGFMZW5ndGggKiBzdW1YWSkgLSAoc3VtWCAqIHN1bVkpKSAvXG4gICAgICAgICAgICAoKGRhdGFMZW5ndGggKiBzdW1YWCkgLSAoc3VtWCAqIHN1bVgpKTtcblxuICAgICAgICAvLyBgYmAgaXMgdGhlIHktaW50ZXJjZXB0IG9mIHRoZSBsaW5lLlxuICAgICAgICBiID0gKHN1bVkgLyBkYXRhTGVuZ3RoKSAtICgobSAqIHN1bVgpIC8gZGF0YUxlbmd0aCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGJvdGggdmFsdWVzIGFzIGFuIG9iamVjdC5cbiAgICByZXR1cm4ge1xuICAgICAgICBtOiBtLFxuICAgICAgICBiOiBiXG4gICAgfTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBHaXZlbiB0aGUgb3V0cHV0IG9mIGBsaW5lYXJSZWdyZXNzaW9uYDogYW4gb2JqZWN0XG4gKiB3aXRoIGBtYCBhbmQgYGJgIHZhbHVlcyBpbmRpY2F0aW5nIHNsb3BlIGFuZCBpbnRlcmNlcHQsXG4gKiByZXNwZWN0aXZlbHksIGdlbmVyYXRlIGEgbGluZSBmdW5jdGlvbiB0aGF0IHRyYW5zbGF0ZXNcbiAqIHggdmFsdWVzIGludG8geSB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG1iIG9iamVjdCB3aXRoIGBtYCBhbmQgYGJgIG1lbWJlcnMsIHJlcHJlc2VudGluZ1xuICogc2xvcGUgYW5kIGludGVyc2VjdCBvZiBkZXNpcmVkIGxpbmVcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gbWV0aG9kIHRoYXQgY29tcHV0ZXMgeS12YWx1ZSBhdCBhbnkgZ2l2ZW5cbiAqIHgtdmFsdWUgb24gdGhlIGxpbmUuXG4gKiBAZXhhbXBsZVxuICogdmFyIGwgPSBsaW5lYXJSZWdyZXNzaW9uTGluZShsaW5lYXJSZWdyZXNzaW9uKFtbMCwgMF0sIFsxLCAxXV0pKTtcbiAqIGwoMCkgLy8gPSAwXG4gKiBsKDIpIC8vID0gMlxuICogbGluZWFyUmVncmVzc2lvbkxpbmUoeyBiOiAwLCBtOiAxIH0pKDEpOyAvLyA9PiAxXG4gKiBsaW5lYXJSZWdyZXNzaW9uTGluZSh7IGI6IDEsIG06IDEgfSkoMSk7IC8vID0+IDJcbiAqL1xuZnVuY3Rpb24gbGluZWFyUmVncmVzc2lvbkxpbmUobWIvKjogeyBiOiBudW1iZXIsIG06IG51bWJlciB9Ki8pLyo6IEZ1bmN0aW9uICovIHtcbiAgICAvLyBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGNvbXB1dGVzIGEgYHlgIHZhbHVlIGZvciBlYWNoXG4gICAgLy8geCB2YWx1ZSBpdCBpcyBnaXZlbiwgYmFzZWQgb24gdGhlIHZhbHVlcyBvZiBgYmAgYW5kIGBhYFxuICAgIC8vIHRoYXQgd2UganVzdCBjb21wdXRlZC5cbiAgICByZXR1cm4gZnVuY3Rpb24oeCkge1xuICAgICAgICByZXR1cm4gbWIuYiArIChtYi5tICogeCk7XG4gICAgfTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBPdXIgZGVmYXVsdCBzdW0gaXMgdGhlIFtLYWhhbi1CYWJ1c2thIGFsZ29yaXRobV0oaHR0cHM6Ly9wZGZzLnNlbWFudGljc2Nob2xhci5vcmcvMTc2MC83ZDQ2N2NkYTFkMDI3N2FkMjcyZGViMjExMzUzMzEzMWRjMDkucGRmKS5cbiAqIFRoaXMgbWV0aG9kIGlzIGFuIGltcHJvdmVtZW50IG92ZXIgdGhlIGNsYXNzaWNhbFxuICogW0thaGFuIHN1bW1hdGlvbiBhbGdvcml0aG1dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0thaGFuX3N1bW1hdGlvbl9hbGdvcml0aG0pLlxuICogSXQgYWltcyBhdCBjb21wdXRpbmcgdGhlIHN1bSBvZiBhIGxpc3Qgb2YgbnVtYmVycyB3aGlsZSBjb3JyZWN0aW5nIGZvclxuICogZmxvYXRpbmctcG9pbnQgZXJyb3JzLiBUcmFkaXRpb25hbGx5LCBzdW1zIGFyZSBjYWxjdWxhdGVkIGFzIG1hbnlcbiAqIHN1Y2Nlc3NpdmUgYWRkaXRpb25zLCBlYWNoIG9uZSB3aXRoIGl0cyBvd24gZmxvYXRpbmctcG9pbnQgcm91bmRvZmYuIFRoZXNlXG4gKiBsb3NzZXMgaW4gcHJlY2lzaW9uIGFkZCB1cCBhcyB0aGUgbnVtYmVyIG9mIG51bWJlcnMgaW5jcmVhc2VzLiBUaGlzIGFsdGVybmF0aXZlXG4gKiBhbGdvcml0aG0gaXMgbW9yZSBhY2N1cmF0ZSB0aGFuIHRoZSBzaW1wbGUgd2F5IG9mIGNhbGN1bGF0aW5nIHN1bXMgYnkgc2ltcGxlXG4gKiBhZGRpdGlvbi5cbiAqXG4gKiBUaGlzIHJ1bnMgb24gYE8obilgLCBsaW5lYXIgdGltZSBpbiByZXNwZWN0IHRvIHRoZSBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggaW5wdXRcbiAqIEByZXR1cm4ge251bWJlcn0gc3VtIG9mIGFsbCBpbnB1dCBudW1iZXJzXG4gKiBAZXhhbXBsZVxuICogc3VtKFsxLCAyLCAzXSk7IC8vID0+IDZcbiAqL1xuZnVuY3Rpb24gc3VtKHgvKjogQXJyYXk8bnVtYmVyPiAqLykvKjogbnVtYmVyICovIHtcblxuICAgIC8vIElmIHRoZSBhcnJheSBpcyBlbXB0eSwgd2UgbmVlZG4ndCBib3RoZXIgY29tcHV0aW5nIGl0cyBzdW1cbiAgICBpZiAoeC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6aW5nIHRoZSBzdW0gYXMgdGhlIGZpcnN0IG51bWJlciBpbiB0aGUgYXJyYXlcbiAgICB2YXIgc3VtID0geFswXTtcblxuICAgIC8vIEtlZXBpbmcgdHJhY2sgb2YgdGhlIGZsb2F0aW5nLXBvaW50IGVycm9yIGNvcnJlY3Rpb25cbiAgICB2YXIgY29ycmVjdGlvbiA9IDA7XG5cbiAgICB2YXIgdHJhbnNpdGlvbjtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0cmFuc2l0aW9uID0gc3VtICsgeFtpXTtcblxuICAgICAgICAvLyBIZXJlIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBjb3JyZWN0aW9uIGluIGEgZGlmZmVyZW50IGZhc2hpb25cbiAgICAgICAgLy8gaWYgdGhlIG5ldyBhYnNvbHV0ZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIGFic29sdXRlIHN1bVxuICAgICAgICBpZiAoTWF0aC5hYnMoc3VtKSA+PSBNYXRoLmFicyh4W2ldKSkge1xuICAgICAgICAgICAgY29ycmVjdGlvbiArPSAoKHN1bSAtIHRyYW5zaXRpb24pICsgeFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb3JyZWN0aW9uICs9ICgoeFtpXSAtIHRyYW5zaXRpb24pICsgc3VtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1bSA9IHRyYW5zaXRpb247XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuaW5nIHRoZSBjb3JyZWN0ZWQgc3VtXG4gICAgcmV0dXJuIHN1bSArIGNvcnJlY3Rpb247XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIG1lYW4sIF9hbHNvIGtub3duIGFzIGF2ZXJhZ2VfLFxuICogaXMgdGhlIHN1bSBvZiBhbGwgdmFsdWVzIG92ZXIgdGhlIG51bWJlciBvZiB2YWx1ZXMuXG4gKiBUaGlzIGlzIGEgW21lYXN1cmUgb2YgY2VudHJhbCB0ZW5kZW5jeV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2VudHJhbF90ZW5kZW5jeSk6XG4gKiBhIG1ldGhvZCBvZiBmaW5kaW5nIGEgdHlwaWNhbCBvciBjZW50cmFsIHZhbHVlIG9mIGEgc2V0IG9mIG51bWJlcnMuXG4gKlxuICogVGhpcyBydW5zIG9uIGBPKG4pYCwgbGluZWFyIHRpbWUgaW4gcmVzcGVjdCB0byB0aGUgYXJyYXlcbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggc2FtcGxlIG9mIG9uZSBvciBtb3JlIGRhdGEgcG9pbnRzXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgdGhlIHRoZSBsZW5ndGggb2YgeCBpcyBsZXNzIHRoYW4gb25lXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBtZWFuXG4gKiBAZXhhbXBsZVxuICogbWVhbihbMCwgMTBdKTsgLy8gPT4gNVxuICovXG5mdW5jdGlvbiBtZWFuKHggLyo6IEFycmF5PG51bWJlcj4gKi8pLyo6IG51bWJlciAqLyB7XG4gICAgLy8gVGhlIG1lYW4gb2Ygbm8gbnVtYmVycyBpcyBudWxsXG4gICAgaWYgKHgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbWVhbiByZXF1aXJlcyBhdCBsZWFzdCBvbmUgZGF0YSBwb2ludCcpO1xuICAgIH1cblxuICAgIHJldHVybiBzdW0oeCkgLyB4Lmxlbmd0aDtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgc3VtIG9mIGRldmlhdGlvbnMgdG8gdGhlIE50aCBwb3dlci5cbiAqIFdoZW4gbj0yIGl0J3MgdGhlIHN1bSBvZiBzcXVhcmVkIGRldmlhdGlvbnMuXG4gKiBXaGVuIG49MyBpdCdzIHRoZSBzdW0gb2YgY3ViZWQgZGV2aWF0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIHBvd2VyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBzdW0gb2YgbnRoIHBvd2VyIGRldmlhdGlvbnNcbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGlucHV0ID0gWzEsIDIsIDNdO1xuICogLy8gc2luY2UgdGhlIHZhcmlhbmNlIG9mIGEgc2V0IGlzIHRoZSBtZWFuIHNxdWFyZWRcbiAqIC8vIGRldmlhdGlvbnMsIHdlIGNhbiBjYWxjdWxhdGUgdGhhdCB3aXRoIHN1bU50aFBvd2VyRGV2aWF0aW9uczpcbiAqIHN1bU50aFBvd2VyRGV2aWF0aW9ucyhpbnB1dCwgMikgLyBpbnB1dC5sZW5ndGg7XG4gKi9cbmZ1bmN0aW9uIHN1bU50aFBvd2VyRGV2aWF0aW9ucyh4Lyo6IEFycmF5PG51bWJlcj4gKi8sIG4vKjogbnVtYmVyICovKS8qOiBudW1iZXIgKi8ge1xuICAgIHZhciBtZWFuVmFsdWUgPSBtZWFuKHgpLFxuICAgICAgICBzdW0gPSAwLFxuICAgICAgICB0ZW1wVmFsdWUsXG4gICAgICAgIGk7XG5cbiAgICAvLyBUaGlzIGlzIGFuIG9wdGltaXphdGlvbjogd2hlbiBuIGlzIDIgKHdlJ3JlIGNvbXB1dGluZyBhIG51bWJlciBzcXVhcmVkKSxcbiAgICAvLyBtdWx0aXBseWluZyB0aGUgbnVtYmVyIGJ5IGl0c2VsZiBpcyBzaWduaWZpY2FudGx5IGZhc3RlciB0aGFuIHVzaW5nXG4gICAgLy8gdGhlIE1hdGgucG93IG1ldGhvZC5cbiAgICBpZiAobiA9PT0gMikge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGVtcFZhbHVlID0geFtpXSAtIG1lYW5WYWx1ZTtcbiAgICAgICAgICAgIHN1bSArPSB0ZW1wVmFsdWUgKiB0ZW1wVmFsdWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3VtICs9IE1hdGgucG93KHhbaV0gLSBtZWFuVmFsdWUsIG4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgW3ZhcmlhbmNlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhcmlhbmNlKVxuICogaXMgdGhlIHN1bSBvZiBzcXVhcmVkIGRldmlhdGlvbnMgZnJvbSB0aGUgbWVhbi5cbiAqXG4gKiBUaGlzIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIHZhcmlhbmNlLCBub3Qgc2FtcGxlIHZhcmlhbmNlOlxuICogc2VlIHRoZSBgc2FtcGxlVmFyaWFuY2VgIG1ldGhvZCBpZiB5b3Ugd2FudCBhIHNhbXBsZSBtZWFzdXJlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geCBhIHBvcHVsYXRpb24gb2Ygb25lIG9yIG1vcmUgZGF0YSBwb2ludHNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHZhcmlhbmNlOiBhIHZhbHVlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB6ZXJvLlxuICogemVybyBpbmRpY2F0ZXMgdGhhdCBhbGwgdmFsdWVzIGFyZSBpZGVudGljYWwuXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgeCdzIGxlbmd0aCBpcyAwXG4gKiBAZXhhbXBsZVxuICogdmFyaWFuY2UoWzEsIDIsIDMsIDQsIDUsIDZdKTsgLy8gPT4gMi45MTY2NjY2NjY2NjY2NjY1XG4gKi9cbmZ1bmN0aW9uIHZhcmlhbmNlKHgvKjogQXJyYXk8bnVtYmVyPiAqLykvKjpudW1iZXIqLyB7XG4gICAgLy8gVGhlIHZhcmlhbmNlIG9mIG5vIG51bWJlcnMgaXMgbnVsbFxuICAgIGlmICh4Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZhcmlhbmNlIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBkYXRhIHBvaW50Jyk7XG4gICAgfVxuXG4gICAgLy8gRmluZCB0aGUgbWVhbiBvZiBzcXVhcmVkIGRldmlhdGlvbnMgYmV0d2VlbiB0aGVcbiAgICAvLyBtZWFuIHZhbHVlIGFuZCBlYWNoIHZhbHVlLlxuICAgIHJldHVybiBzdW1OdGhQb3dlckRldmlhdGlvbnMoeCwgMikgLyB4Lmxlbmd0aDtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgW3N0YW5kYXJkIGRldmlhdGlvbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TdGFuZGFyZF9kZXZpYXRpb24pXG4gKiBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHZhcmlhbmNlLiBUaGlzIGlzIGFsc28ga25vd24gYXMgdGhlIHBvcHVsYXRpb25cbiAqIHN0YW5kYXJkIGRldmlhdGlvbi4gSXQncyB1c2VmdWwgZm9yIG1lYXN1cmluZyB0aGUgYW1vdW50XG4gKiBvZiB2YXJpYXRpb24gb3IgZGlzcGVyc2lvbiBpbiBhIHNldCBvZiB2YWx1ZXMuXG4gKlxuICogU3RhbmRhcmQgZGV2aWF0aW9uIGlzIG9ubHkgYXBwcm9wcmlhdGUgZm9yIGZ1bGwtcG9wdWxhdGlvbiBrbm93bGVkZ2U6IGZvclxuICogc2FtcGxlcyBvZiBhIHBvcHVsYXRpb24sIHtAbGluayBzYW1wbGVTdGFuZGFyZERldmlhdGlvbn0gaXNcbiAqIG1vcmUgYXBwcm9wcmlhdGUuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IGlucHV0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBzdGFuZGFyZCBkZXZpYXRpb25cbiAqIEBleGFtcGxlXG4gKiB2YXJpYW5jZShbMiwgNCwgNCwgNCwgNSwgNSwgNywgOV0pOyAvLyA9PiA0XG4gKiBzdGFuZGFyZERldmlhdGlvbihbMiwgNCwgNCwgNCwgNSwgNSwgNywgOV0pOyAvLyA9PiAyXG4gKi9cbmZ1bmN0aW9uIHN0YW5kYXJkRGV2aWF0aW9uKHggLyo6IEFycmF5PG51bWJlcj4gKi8pLyo6bnVtYmVyKi8ge1xuICAgIGlmICh4Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIHYgPSB2YXJpYW5jZSh4KTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHYpO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoZSBbUiBTcXVhcmVkXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvZWZmaWNpZW50X29mX2RldGVybWluYXRpb24pXG4gKiB2YWx1ZSBvZiBkYXRhIGNvbXBhcmVkIHdpdGggYSBmdW5jdGlvbiBgZmBcbiAqIGlzIHRoZSBzdW0gb2YgdGhlIHNxdWFyZWQgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGUgcHJlZGljdGlvblxuICogYW5kIHRoZSBhY3R1YWwgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0geCBpbnB1dCBkYXRhOiB0aGlzIHNob3VsZCBiZSBkb3VibHktbmVzdGVkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIGZ1bmN0aW9uIGNhbGxlZCBvbiBgW2ldWzBdYCB2YWx1ZXMgd2l0aGluIHRoZSBkYXRhc2V0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSByLXNxdWFyZWQgdmFsdWVcbiAqIEBleGFtcGxlXG4gKiB2YXIgc2FtcGxlcyA9IFtbMCwgMF0sIFsxLCAxXV07XG4gKiB2YXIgcmVncmVzc2lvbkxpbmUgPSBsaW5lYXJSZWdyZXNzaW9uTGluZShsaW5lYXJSZWdyZXNzaW9uKHNhbXBsZXMpKTtcbiAqIHJTcXVhcmVkKHNhbXBsZXMsIHJlZ3Jlc3Npb25MaW5lKTsgLy8gPSAxIHRoaXMgbGluZSBpcyBhIHBlcmZlY3QgZml0XG4gKi9cbmZ1bmN0aW9uIHJTcXVhcmVkKHggLyo6IEFycmF5PEFycmF5PG51bWJlcj4+ICovLCBmdW5jIC8qOiBGdW5jdGlvbiAqLykgLyo6IG51bWJlciAqLyB7XG4gICAgaWYgKHgubGVuZ3RoIDwgMikgeyByZXR1cm4gMTsgfVxuXG4gICAgLy8gQ29tcHV0ZSB0aGUgYXZlcmFnZSB5IHZhbHVlIGZvciB0aGUgYWN0dWFsXG4gICAgLy8gZGF0YSBzZXQgaW4gb3JkZXIgdG8gY29tcHV0ZSB0aGVcbiAgICAvLyBfdG90YWwgc3VtIG9mIHNxdWFyZXNfXG4gICAgdmFyIHN1bSA9IDAsIGF2ZXJhZ2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN1bSArPSB4W2ldWzFdO1xuICAgIH1cbiAgICBhdmVyYWdlID0gc3VtIC8geC5sZW5ndGg7XG5cbiAgICAvLyBDb21wdXRlIHRoZSB0b3RhbCBzdW0gb2Ygc3F1YXJlcyAtIHRoZVxuICAgIC8vIHNxdWFyZWQgZGlmZmVyZW5jZSBiZXR3ZWVuIGVhY2ggcG9pbnRcbiAgICAvLyBhbmQgdGhlIGF2ZXJhZ2Ugb2YgYWxsIHBvaW50cy5cbiAgICB2YXIgc3VtT2ZTcXVhcmVzID0gMDtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgc3VtT2ZTcXVhcmVzICs9IE1hdGgucG93KGF2ZXJhZ2UgLSB4W2pdWzFdLCAyKTtcbiAgICB9XG5cbiAgICAvLyBGaW5hbGx5IGVzdGltYXRlIHRoZSBlcnJvcjogdGhlIHNxdWFyZWRcbiAgICAvLyBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGVzdGltYXRlIGFuZCB0aGUgYWN0dWFsIGRhdGFcbiAgICAvLyB2YWx1ZSBhdCBlYWNoIHBvaW50LlxuICAgIHZhciBlcnIgPSAwO1xuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgeC5sZW5ndGg7IGsrKykge1xuICAgICAgICBlcnIgKz0gTWF0aC5wb3coeFtrXVsxXSAtIGZ1bmMoeFtrXVswXSksIDIpO1xuICAgIH1cblxuICAgIC8vIEFzIHRoZSBlcnJvciBncm93cyBsYXJnZXIsIGl0cyByYXRpbyB0byB0aGVcbiAgICAvLyBzdW0gb2Ygc3F1YXJlcyBpbmNyZWFzZXMgYW5kIHRoZSByIHNxdWFyZWRcbiAgICAvLyB2YWx1ZSBncm93cyBsb3dlci5cbiAgICByZXR1cm4gMSAtIGVyciAvIHN1bU9mU3F1YXJlcztcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgW21vZGVdKGh0dHA6Ly9iaXQubHkvVzVLNFl0KSBpcyB0aGUgbnVtYmVyIHRoYXQgYXBwZWFycyBpbiBhIGxpc3QgdGhlIGhpZ2hlc3QgbnVtYmVyIG9mIHRpbWVzLlxuICogVGhlcmUgY2FuIGJlIG11bHRpcGxlIG1vZGVzIGluIGEgbGlzdDogaW4gdGhlIGV2ZW50IG9mIGEgdGllLCB0aGlzXG4gKiBhbGdvcml0aG0gd2lsbCByZXR1cm4gdGhlIG1vc3QgcmVjZW50bHkgc2VlbiBtb2RlLlxuICpcbiAqIFRoaXMgaXMgYSBbbWVhc3VyZSBvZiBjZW50cmFsIHRlbmRlbmN5XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cmFsX3RlbmRlbmN5KTpcbiAqIGEgbWV0aG9kIG9mIGZpbmRpbmcgYSB0eXBpY2FsIG9yIGNlbnRyYWwgdmFsdWUgb2YgYSBzZXQgb2YgbnVtYmVycy5cbiAqXG4gKiBUaGlzIHJ1bnMgaW4gYE8obilgIGJlY2F1c2UgdGhlIGlucHV0IGlzIHNvcnRlZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNvcnRlZCBhIHNhbXBsZSBvZiBvbmUgb3IgbW9yZSBkYXRhIHBvaW50c1xuICogQHJldHVybnMge251bWJlcn0gbW9kZVxuICogQHRocm93cyB7RXJyb3J9IGlmIHNvcnRlZCBpcyBlbXB0eVxuICogQGV4YW1wbGVcbiAqIG1vZGVTb3J0ZWQoWzAsIDAsIDFdKTsgLy8gPT4gMFxuICovXG5mdW5jdGlvbiBtb2RlU29ydGVkKHNvcnRlZCAvKjogQXJyYXk8bnVtYmVyPiAqLykvKjpudW1iZXIqLyB7XG5cbiAgICAvLyBIYW5kbGUgZWRnZSBjYXNlczpcbiAgICAvLyBUaGUgbW9kZSBvZiBhbiBlbXB0eSBsaXN0IGlzIHVuZGVmaW5lZFxuICAgIGlmIChzb3J0ZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbW9kZSByZXF1aXJlcyBhdCBsZWFzdCBvbmUgZGF0YSBwb2ludCcpO1xuICAgIH0gZWxzZSBpZiAoc29ydGVkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc29ydGVkWzBdO1xuICAgIH1cblxuICAgIC8vIFRoaXMgYXNzdW1lcyBpdCBpcyBkZWFsaW5nIHdpdGggYW4gYXJyYXkgb2Ygc2l6ZSA+IDEsIHNpbmNlIHNpemVcbiAgICAvLyAwIGFuZCAxIGFyZSBoYW5kbGVkIGltbWVkaWF0ZWx5LiBIZW5jZSBpdCBzdGFydHMgYXQgaW5kZXggMSBpbiB0aGVcbiAgICAvLyBhcnJheS5cbiAgICB2YXIgbGFzdCA9IHNvcnRlZFswXSxcbiAgICAgICAgLy8gc3RvcmUgdGhlIG1vZGUgYXMgd2UgZmluZCBuZXcgbW9kZXNcbiAgICAgICAgdmFsdWUgPSBOYU4sXG4gICAgICAgIC8vIHN0b3JlIGhvdyBtYW55IHRpbWVzIHdlJ3ZlIHNlZW4gdGhlIG1vZGVcbiAgICAgICAgbWF4U2VlbiA9IDAsXG4gICAgICAgIC8vIGhvdyBtYW55IHRpbWVzIHRoZSBjdXJyZW50IGNhbmRpZGF0ZSBmb3IgdGhlIG1vZGVcbiAgICAgICAgLy8gaGFzIGJlZW4gc2VlblxuICAgICAgICBzZWVuVGhpcyA9IDE7XG5cbiAgICAvLyBlbmQgYXQgc29ydGVkLmxlbmd0aCArIDEgdG8gZml4IHRoZSBjYXNlIGluIHdoaWNoIHRoZSBtb2RlIGlzXG4gICAgLy8gdGhlIGhpZ2hlc3QgbnVtYmVyIHRoYXQgb2NjdXJzIGluIHRoZSBzZXF1ZW5jZS4gdGhlIGxhc3QgaXRlcmF0aW9uXG4gICAgLy8gY29tcGFyZXMgc29ydGVkW2ldLCB3aGljaCBpcyB1bmRlZmluZWQsIHRvIHRoZSBoaWdoZXN0IG51bWJlclxuICAgIC8vIGluIHRoZSBzZXJpZXNcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHNvcnRlZC5sZW5ndGggKyAxOyBpKyspIHtcbiAgICAgICAgLy8gd2UncmUgc2VlaW5nIGEgbmV3IG51bWJlciBwYXNzIGJ5XG4gICAgICAgIGlmIChzb3J0ZWRbaV0gIT09IGxhc3QpIHtcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IG51bWJlciBpcyB0aGUgbmV3IG1vZGUgc2luY2Ugd2Ugc2F3IGl0IG1vcmVcbiAgICAgICAgICAgIC8vIG9mdGVuIHRoYW4gdGhlIG9sZCBvbmVcbiAgICAgICAgICAgIGlmIChzZWVuVGhpcyA+IG1heFNlZW4pIHtcbiAgICAgICAgICAgICAgICBtYXhTZWVuID0gc2VlblRoaXM7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBsYXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VlblRoaXMgPSAxO1xuICAgICAgICAgICAgbGFzdCA9IHNvcnRlZFtpXTtcbiAgICAgICAgLy8gaWYgdGhpcyBpc24ndCBhIG5ldyBudW1iZXIsIGl0J3Mgb25lIG1vcmUgb2NjdXJyZW5jZSBvZlxuICAgICAgICAvLyB0aGUgcG90ZW50aWFsIG1vZGVcbiAgICAgICAgfSBlbHNlIHsgc2VlblRoaXMrKzsgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogU29ydCBhbiBhcnJheSBvZiBudW1iZXJzIGJ5IHRoZWlyIG51bWVyaWMgdmFsdWUsIGVuc3VyaW5nIHRoYXQgdGhlXG4gKiBhcnJheSBpcyBub3QgY2hhbmdlZCBpbiBwbGFjZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIC5zb3J0XG4gKiBpbiBKYXZhU2NyaXB0IGlzIHRvIHNvcnQgYXJyYXlzIGFzIHN0cmluZyB2YWx1ZXNcbiAqXG4gKiAgICAgWzEsIDEwLCAxMiwgMTAyLCAyMF0uc29ydCgpXG4gKiAgICAgLy8gb3V0cHV0XG4gKiAgICAgWzEsIDEwLCAxMDIsIDEyLCAyMF1cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggaW5wdXQgYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IHNvcnRlZCBhcnJheVxuICogQHByaXZhdGVcbiAqIEBleGFtcGxlXG4gKiBudW1lcmljU29ydChbMywgMiwgMV0pIC8vID0+IFsxLCAyLCAzXVxuICovXG5mdW5jdGlvbiBudW1lcmljU29ydCh4IC8qOiBBcnJheTxudW1iZXI+ICovKSAvKjogQXJyYXk8bnVtYmVyPiAqLyB7XG4gICAgcmV0dXJuIHhcbiAgICAgICAgLy8gZW5zdXJlIHRoZSBhcnJheSBpcyBub3QgY2hhbmdlZCBpbi1wbGFjZVxuICAgICAgICAuc2xpY2UoKVxuICAgICAgICAvLyBjb21wYXJhdG9yIGZ1bmN0aW9uIHRoYXQgdHJlYXRzIGlucHV0IGFzIG51bWVyaWNcbiAgICAgICAgLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEgLSBiO1xuICAgICAgICB9KTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgW21vZGVdKGh0dHA6Ly9iaXQubHkvVzVLNFl0KSBpcyB0aGUgbnVtYmVyIHRoYXQgYXBwZWFycyBpbiBhIGxpc3QgdGhlIGhpZ2hlc3QgbnVtYmVyIG9mIHRpbWVzLlxuICogVGhlcmUgY2FuIGJlIG11bHRpcGxlIG1vZGVzIGluIGEgbGlzdDogaW4gdGhlIGV2ZW50IG9mIGEgdGllLCB0aGlzXG4gKiBhbGdvcml0aG0gd2lsbCByZXR1cm4gdGhlIG1vc3QgcmVjZW50bHkgc2VlbiBtb2RlLlxuICpcbiAqIFRoaXMgaXMgYSBbbWVhc3VyZSBvZiBjZW50cmFsIHRlbmRlbmN5XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cmFsX3RlbmRlbmN5KTpcbiAqIGEgbWV0aG9kIG9mIGZpbmRpbmcgYSB0eXBpY2FsIG9yIGNlbnRyYWwgdmFsdWUgb2YgYSBzZXQgb2YgbnVtYmVycy5cbiAqXG4gKiBUaGlzIHJ1bnMgb24gYE8obmxvZyhuKSlgIGJlY2F1c2UgaXQgbmVlZHMgdG8gc29ydCB0aGUgYXJyYXkgaW50ZXJuYWxseVxuICogYmVmb3JlIHJ1bm5pbmcgYW4gYE8obilgIHNlYXJjaCB0byBmaW5kIHRoZSBtb2RlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geCBpbnB1dFxuICogQHJldHVybnMge251bWJlcn0gbW9kZVxuICogQGV4YW1wbGVcbiAqIG1vZGUoWzAsIDAsIDFdKTsgLy8gPT4gMFxuICovXG5mdW5jdGlvbiBtb2RlKHggLyo6IEFycmF5PG51bWJlcj4gKi8pLyo6bnVtYmVyKi8ge1xuICAgIC8vIFNvcnRpbmcgdGhlIGFycmF5IGxldHMgdXMgaXRlcmF0ZSB0aHJvdWdoIGl0IGJlbG93IGFuZCBiZSBzdXJlXG4gICAgLy8gdGhhdCBldmVyeSB0aW1lIHdlIHNlZSBhIG5ldyBudW1iZXIgaXQncyBuZXcgYW5kIHdlJ2xsIG5ldmVyXG4gICAgLy8gc2VlIHRoZSBzYW1lIG51bWJlciB0d2ljZVxuICAgIHJldHVybiBtb2RlU29ydGVkKG51bWVyaWNTb3J0KHgpKTtcbn1cblxuLyogQGZsb3cgKi9cbi8qIGdsb2JhbHMgTWFwOiBmYWxzZSAqL1xuXG4vKipcbiAqIFRoZSBbbW9kZV0oaHR0cDovL2JpdC5seS9XNUs0WXQpIGlzIHRoZSBudW1iZXIgdGhhdCBhcHBlYXJzIGluIGEgbGlzdCB0aGUgaGlnaGVzdCBudW1iZXIgb2YgdGltZXMuXG4gKiBUaGVyZSBjYW4gYmUgbXVsdGlwbGUgbW9kZXMgaW4gYSBsaXN0OiBpbiB0aGUgZXZlbnQgb2YgYSB0aWUsIHRoaXNcbiAqIGFsZ29yaXRobSB3aWxsIHJldHVybiB0aGUgbW9zdCByZWNlbnRseSBzZWVuIG1vZGUuXG4gKlxuICogbW9kZUZhc3QgdXNlcyBhIE1hcCBvYmplY3QgdG8ga2VlcCB0cmFjayBvZiB0aGUgbW9kZSwgaW5zdGVhZCBvZiB0aGUgYXBwcm9hY2hcbiAqIHVzZWQgd2l0aCBgbW9kZWAsIGEgc29ydGVkIGFycmF5LiBBcyBhIHJlc3VsdCwgaXQgaXMgZmFzdGVyXG4gKiB0aGFuIGBtb2RlYCBhbmQgc3VwcG9ydHMgYW55IGRhdGEgdHlwZSB0aGF0IGNhbiBiZSBjb21wYXJlZCB3aXRoIGA9PWAuXG4gKiBJdCBhbHNvIHJlcXVpcmVzIGFcbiAqIFtKYXZhU2NyaXB0IGVudmlyb25tZW50IHdpdGggc3VwcG9ydCBmb3IgTWFwXShodHRwczovL2thbmdheC5naXRodWIuaW8vY29tcGF0LXRhYmxlL2VzNi8jdGVzdC1NYXApLFxuICogYW5kIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgTWFwIGlzIG5vdCBhdmFpbGFibGUuXG4gKlxuICogVGhpcyBpcyBhIFttZWFzdXJlIG9mIGNlbnRyYWwgdGVuZGVuY3ldKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NlbnRyYWxfdGVuZGVuY3kpOlxuICogYSBtZXRob2Qgb2YgZmluZGluZyBhIHR5cGljYWwgb3IgY2VudHJhbCB2YWx1ZSBvZiBhIHNldCBvZiBudW1iZXJzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHggYSBzYW1wbGUgb2Ygb25lIG9yIG1vcmUgZGF0YSBwb2ludHNcbiAqIEByZXR1cm5zIHs/Kn0gbW9kZVxuICogQHRocm93cyB7UmVmZXJlbmNlRXJyb3J9IGlmIHRoZSBKYXZhU2NyaXB0IGVudmlyb25tZW50IGRvZXNuJ3Qgc3VwcG9ydCBNYXBcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB4IGlzIGVtcHR5XG4gKiBAZXhhbXBsZVxuICogbW9kZUZhc3QoWydyYWJiaXRzJywgJ3JhYmJpdHMnLCAnc3F1aXJyZWxzJ10pOyAvLyA9PiAncmFiYml0cydcbiAqL1xuZnVuY3Rpb24gbW9kZUZhc3QvKjo6PFQ+Ki8oeCAvKjogQXJyYXk8VD4gKi8pLyo6ID9UICovIHtcblxuICAgIC8vIFRoaXMgaW5kZXggd2lsbCByZWZsZWN0IHRoZSBpbmNpZGVuY2Ugb2YgZGlmZmVyZW50IHZhbHVlcywgaW5kZXhpbmdcbiAgICAvLyB0aGVtIGxpa2VcbiAgICAvLyB7IHZhbHVlOiBjb3VudCB9XG4gICAgdmFyIGluZGV4ID0gbmV3IE1hcCgpO1xuXG4gICAgLy8gQSBydW5uaW5nIGBtb2RlYCBhbmQgdGhlIG51bWJlciBvZiB0aW1lcyBpdCBoYXMgYmVlbiBlbmNvdW50ZXJlZC5cbiAgICB2YXIgbW9kZTtcbiAgICB2YXIgbW9kZUNvdW50ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbmV3Q291bnQgPSBpbmRleC5nZXQoeFtpXSk7XG4gICAgICAgIGlmIChuZXdDb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdDb3VudCA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdDb3VudCA+IG1vZGVDb3VudCkge1xuICAgICAgICAgICAgbW9kZSA9IHhbaV07XG4gICAgICAgICAgICBtb2RlQ291bnQgPSBuZXdDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBpbmRleC5zZXQoeFtpXSwgbmV3Q291bnQpO1xuICAgIH1cblxuICAgIGlmIChtb2RlQ291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtb2RlIHJlcXVpcmVzIGF0IGxhc3Qgb25lIGRhdGEgcG9pbnQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgbWluIGlzIHRoZSBsb3dlc3QgbnVtYmVyIGluIHRoZSBhcnJheS4gVGhpcyBydW5zIG9uIGBPKG4pYCwgbGluZWFyIHRpbWUgaW4gcmVzcGVjdCB0byB0aGUgYXJyYXlcbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggc2FtcGxlIG9mIG9uZSBvciBtb3JlIGRhdGEgcG9pbnRzXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgdGhlIHRoZSBsZW5ndGggb2YgeCBpcyBsZXNzIHRoYW4gb25lXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBtaW5pbXVtIHZhbHVlXG4gKiBAZXhhbXBsZVxuICogbWluKFsxLCA1LCAtMTAsIDEwMCwgMl0pOyAvLyA9PiAtMTBcbiAqL1xuZnVuY3Rpb24gbWluKHggLyo6IEFycmF5PG51bWJlcj4gKi8pLyo6bnVtYmVyKi8ge1xuXG4gICAgaWYgKHgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbWluIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBkYXRhIHBvaW50Jyk7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0geFswXTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gT24gdGhlIGZpcnN0IGl0ZXJhdGlvbiBvZiB0aGlzIGxvb3AsIG1pbiBpc1xuICAgICAgICAvLyB1bmRlZmluZWQgYW5kIGlzIHRodXMgbWFkZSB0aGUgbWluaW11bSBlbGVtZW50IGluIHRoZSBhcnJheVxuICAgICAgICBpZiAoeFtpXSA8IHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHhbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoaXMgY29tcHV0ZXMgdGhlIG1heGltdW0gbnVtYmVyIGluIGFuIGFycmF5LlxuICpcbiAqIFRoaXMgcnVucyBvbiBgTyhuKWAsIGxpbmVhciB0aW1lIGluIHJlc3BlY3QgdG8gdGhlIGFycmF5XG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IHNhbXBsZSBvZiBvbmUgb3IgbW9yZSBkYXRhIHBvaW50c1xuICogQHJldHVybnMge251bWJlcn0gbWF4aW11bSB2YWx1ZVxuICogQHRocm93cyB7RXJyb3J9IGlmIHRoZSB0aGUgbGVuZ3RoIG9mIHggaXMgbGVzcyB0aGFuIG9uZVxuICogQGV4YW1wbGVcbiAqIG1heChbMSwgMiwgMywgNF0pO1xuICogLy8gPT4gNFxuICovXG5mdW5jdGlvbiBtYXgoeCAvKjogQXJyYXk8bnVtYmVyPiAqLykgLyo6bnVtYmVyKi8ge1xuXG4gICAgaWYgKHgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbWF4IHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBkYXRhIHBvaW50Jyk7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0geFswXTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gT24gdGhlIGZpcnN0IGl0ZXJhdGlvbiBvZiB0aGlzIGxvb3AsIG1heCBpc1xuICAgICAgICAvLyB1bmRlZmluZWQgYW5kIGlzIHRodXMgbWFkZSB0aGUgbWF4aW11bSBlbGVtZW50IGluIHRoZSBhcnJheVxuICAgICAgICBpZiAoeFtpXSA+IHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHhbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoaXMgY29tcHV0ZXMgdGhlIG1pbmltdW0gJiBtYXhpbXVtIG51bWJlciBpbiBhbiBhcnJheS5cbiAqXG4gKiBUaGlzIHJ1bnMgb24gYE8obilgLCBsaW5lYXIgdGltZSBpbiByZXNwZWN0IHRvIHRoZSBhcnJheVxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geCBzYW1wbGUgb2Ygb25lIG9yIG1vcmUgZGF0YSBwb2ludHNcbiAqIEByZXR1cm5zIHtBcnJheTxudW1iZXI+fSBtaW5pbXVtICYgbWF4aW11bSB2YWx1ZVxuICogQHRocm93cyB7RXJyb3J9IGlmIHRoZSB0aGUgbGVuZ3RoIG9mIHggaXMgbGVzcyB0aGFuIG9uZVxuICogQGV4YW1wbGVcbiAqIGV4dGVudChbMSwgMiwgMywgNF0pO1xuICogLy8gPT4gWzEsIDRdXG4gKi9cbmZ1bmN0aW9uIGV4dGVudCh4IC8qOiBBcnJheTxudW1iZXI+ICovKSAvKjpBcnJheTxudW1iZXI+Ki8ge1xuXG4gICAgaWYgKHgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXh0ZW50IHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBkYXRhIHBvaW50Jyk7XG4gICAgfVxuXG4gICAgdmFyIG1pbiA9IHhbMF07XG4gICAgdmFyIG1heCA9IHhbMF07XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh4W2ldID4gbWF4KSB7XG4gICAgICAgICAgICBtYXggPSB4W2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4W2ldIDwgbWluKSB7XG4gICAgICAgICAgICBtaW4gPSB4W2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbbWluLCBtYXhdO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoZSBtaW5pbXVtIGlzIHRoZSBsb3dlc3QgbnVtYmVyIGluIHRoZSBhcnJheS4gV2l0aCBhIHNvcnRlZCBhcnJheSxcbiAqIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBhcnJheSBpcyBhbHdheXMgdGhlIHNtYWxsZXN0LCBzbyB0aGlzIGNhbGN1bGF0aW9uXG4gKiBjYW4gYmUgZG9uZSBpbiBvbmUgc3RlcCwgb3IgY29uc3RhbnQgdGltZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggaW5wdXRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IG1pbmltdW0gdmFsdWVcbiAqIEBleGFtcGxlXG4gKiBtaW5Tb3J0ZWQoWy0xMDAsIC0xMCwgMSwgMiwgNV0pOyAvLyA9PiAtMTAwXG4gKi9cbmZ1bmN0aW9uIG1pblNvcnRlZCh4IC8qOiBBcnJheTxudW1iZXI+ICovKS8qOiBudW1iZXIgKi8ge1xuICAgIHJldHVybiB4WzBdO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIGlzIHRoZSBoaWdoZXN0IG51bWJlciBpbiB0aGUgYXJyYXkuIFdpdGggYSBzb3J0ZWQgYXJyYXksXG4gKiB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBhcnJheSBpcyBhbHdheXMgdGhlIGxhcmdlc3QsIHNvIHRoaXMgY2FsY3VsYXRpb25cbiAqIGNhbiBiZSBkb25lIGluIG9uZSBzdGVwLCBvciBjb25zdGFudCB0aW1lLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geCBpbnB1dFxuICogQHJldHVybnMge251bWJlcn0gbWF4aW11bSB2YWx1ZVxuICogQGV4YW1wbGVcbiAqIG1heFNvcnRlZChbLTEwMCwgLTEwLCAxLCAyLCA1XSk7IC8vID0+IDVcbiAqL1xuZnVuY3Rpb24gbWF4U29ydGVkKHggLyo6IEFycmF5PG51bWJlcj4gKi8pLyo6bnVtYmVyKi8ge1xuICAgIHJldHVybiB4W3gubGVuZ3RoIC0gMV07XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIGV4dGVudCBpcyB0aGUgbG93ZXN0ICYgaGlnaGVzdCBudW1iZXIgaW4gdGhlIGFycmF5LiBXaXRoIGEgc29ydGVkIGFycmF5LFxuICogdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIGFycmF5IGlzIGFsd2F5cyB0aGUgbG93ZXN0IHdoaWxlIHRoZSBsYXN0IGVsZW1lbnQgaXMgYWx3YXlzIHRoZSBsYXJnZXN0LCBzbyB0aGlzIGNhbGN1bGF0aW9uXG4gKiBjYW4gYmUgZG9uZSBpbiBvbmUgc3RlcCwgb3IgY29uc3RhbnQgdGltZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggaW5wdXRcbiAqIEByZXR1cm5zIHtBcnJheTxudW1iZXI+fSBtaW5pbXVtICYgbWF4aW11bSB2YWx1ZVxuICogQGV4YW1wbGVcbiAqIGV4dGVudFNvcnRlZChbLTEwMCwgLTEwLCAxLCAyLCA1XSk7IC8vID0+IFstMTAwLCA1XVxuICovXG5mdW5jdGlvbiBleHRlbnRTb3J0ZWQoeCAvKjogQXJyYXk8bnVtYmVyPiAqLykvKjpBcnJheTxudW1iZXI+Ki8ge1xuICAgIHJldHVybiBbeFswXSwgeFt4Lmxlbmd0aCAtIDFdXTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgc2ltcGxlIFtzdW1dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1bW1hdGlvbikgb2YgYW4gYXJyYXlcbiAqIGlzIHRoZSByZXN1bHQgb2YgYWRkaW5nIGFsbCBudW1iZXJzIHRvZ2V0aGVyLCBzdGFydGluZyBmcm9tIHplcm8uXG4gKlxuICogVGhpcyBydW5zIG9uIGBPKG4pYCwgbGluZWFyIHRpbWUgaW4gcmVzcGVjdCB0byB0aGUgYXJyYXlcbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggaW5wdXRcbiAqIEByZXR1cm4ge251bWJlcn0gc3VtIG9mIGFsbCBpbnB1dCBudW1iZXJzXG4gKiBAZXhhbXBsZVxuICogc3VtU2ltcGxlKFsxLCAyLCAzXSk7IC8vID0+IDZcbiAqL1xuZnVuY3Rpb24gc3VtU2ltcGxlKHgvKjogQXJyYXk8bnVtYmVyPiAqLykvKjogbnVtYmVyICovIHtcbiAgICB2YXIgdmFsdWUgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSArPSB4W2ldO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFtwcm9kdWN0XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Qcm9kdWN0XyhtYXRoZW1hdGljcykpIG9mIGFuIGFycmF5XG4gKiBpcyB0aGUgcmVzdWx0IG9mIG11bHRpcGx5aW5nIGFsbCBudW1iZXJzIHRvZ2V0aGVyLCBzdGFydGluZyB1c2luZyBvbmUgYXMgdGhlIG11bHRpcGxpY2F0aXZlIGlkZW50aXR5LlxuICpcbiAqIFRoaXMgcnVucyBvbiBgTyhuKWAsIGxpbmVhciB0aW1lIGluIHJlc3BlY3QgdG8gdGhlIGFycmF5XG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IGlucHV0XG4gKiBAcmV0dXJuIHtudW1iZXJ9IHByb2R1Y3Qgb2YgYWxsIGlucHV0IG51bWJlcnNcbiAqIEBleGFtcGxlXG4gKiBwcm9kdWN0KFsxLCAyLCAzLCA0XSk7IC8vID0+IDI0XG4gKi9cbmZ1bmN0aW9uIHByb2R1Y3QoeC8qOiBBcnJheTxudW1iZXI+ICovKS8qOiBudW1iZXIgKi8ge1xuICAgIHZhciB2YWx1ZSA9IDE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlICo9IHhbaV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBxdWFudGlsZXM6IHdoZW4geW91IGtub3dcbiAqIHRoYXQgdGhlIG9yZGVyIGlzIHNvcnRlZCwgeW91IGRvbid0IG5lZWQgdG8gcmUtc29ydCBpdCwgYW5kIHRoZSBjb21wdXRhdGlvbnNcbiAqIGFyZSBmYXN0ZXIuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IHNhbXBsZSBvZiBvbmUgb3IgbW9yZSBkYXRhIHBvaW50c1xuICogQHBhcmFtIHtudW1iZXJ9IHAgZGVzaXJlZCBxdWFudGlsZTogYSBudW1iZXIgYmV0d2VlbiAwIHRvIDEsIGluY2x1c2l2ZVxuICogQHJldHVybnMge251bWJlcn0gcXVhbnRpbGUgdmFsdWVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBwIGl4IG91dHNpZGUgb2YgdGhlIHJhbmdlIGZyb20gMCB0byAxXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgeCBpcyBlbXB0eVxuICogQGV4YW1wbGVcbiAqIHF1YW50aWxlU29ydGVkKFszLCA2LCA3LCA4LCA4LCA5LCAxMCwgMTMsIDE1LCAxNiwgMjBdLCAwLjUpOyAvLyA9PiA5XG4gKi9cbmZ1bmN0aW9uIHF1YW50aWxlU29ydGVkKHggLyo6IEFycmF5PG51bWJlcj4gKi8sIHAgLyo6IG51bWJlciAqLykvKjogbnVtYmVyICovIHtcbiAgICB2YXIgaWR4ID0geC5sZW5ndGggKiBwO1xuICAgIGlmICh4Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3F1YW50aWxlIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBkYXRhIHBvaW50LicpO1xuICAgIH0gZWxzZSBpZiAocCA8IDAgfHwgcCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdxdWFudGlsZXMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEnKTtcbiAgICB9IGVsc2UgaWYgKHAgPT09IDEpIHtcbiAgICAgICAgLy8gSWYgcCBpcyAxLCBkaXJlY3RseSByZXR1cm4gdGhlIGxhc3QgZWxlbWVudFxuICAgICAgICByZXR1cm4geFt4Lmxlbmd0aCAtIDFdO1xuICAgIH0gZWxzZSBpZiAocCA9PT0gMCkge1xuICAgICAgICAvLyBJZiBwIGlzIDAsIGRpcmVjdGx5IHJldHVybiB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAgICByZXR1cm4geFswXTtcbiAgICB9IGVsc2UgaWYgKGlkeCAlIDEgIT09IDApIHtcbiAgICAgICAgLy8gSWYgcCBpcyBub3QgaW50ZWdlciwgcmV0dXJuIHRoZSBuZXh0IGVsZW1lbnQgaW4gYXJyYXlcbiAgICAgICAgcmV0dXJuIHhbTWF0aC5jZWlsKGlkeCkgLSAxXTtcbiAgICB9IGVsc2UgaWYgKHgubGVuZ3RoICUgMiA9PT0gMCkge1xuICAgICAgICAvLyBJZiB0aGUgbGlzdCBoYXMgZXZlbi1sZW5ndGgsIHdlJ2xsIHRha2UgdGhlIGF2ZXJhZ2Ugb2YgdGhpcyBudW1iZXJcbiAgICAgICAgLy8gYW5kIHRoZSBuZXh0IHZhbHVlLCBpZiB0aGVyZSBpcyBvbmVcbiAgICAgICAgcmV0dXJuICh4W2lkeCAtIDFdICsgeFtpZHhdKSAvIDI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmluYWxseSwgaW4gdGhlIHNpbXBsZSBjYXNlIG9mIGFuIGludGVnZXIgdmFsdWVcbiAgICAgICAgLy8gd2l0aCBhbiBvZGQtbGVuZ3RoIGxpc3QsIHJldHVybiB0aGUgeCB2YWx1ZSBhdCB0aGUgaW5kZXguXG4gICAgICAgIHJldHVybiB4W2lkeF07XG4gICAgfVxufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFJlYXJyYW5nZSBpdGVtcyBpbiBgYXJyYCBzbyB0aGF0IGFsbCBpdGVtcyBpbiBgW2xlZnQsIGtdYCByYW5nZSBhcmUgdGhlIHNtYWxsZXN0LlxuICogVGhlIGBrYC10aCBlbGVtZW50IHdpbGwgaGF2ZSB0aGUgYChrIC0gbGVmdCArIDEpYC10aCBzbWFsbGVzdCB2YWx1ZSBpbiBgW2xlZnQsIHJpZ2h0XWAuXG4gKlxuICogSW1wbGVtZW50cyBGbG95ZC1SaXZlc3Qgc2VsZWN0aW9uIGFsZ29yaXRobSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GbG95ZC1SaXZlc3RfYWxnb3JpdGhtXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhcnIgaW5wdXQgYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBrIHBpdm90IGluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW2xlZnRdIGxlZnQgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcmlnaHRdIHJpZ2h0IGluZGV4XG4gKiBAcmV0dXJucyB7dm9pZH0gbXV0YXRlcyBpbnB1dCBhcnJheVxuICogQGV4YW1wbGVcbiAqIHZhciBhcnIgPSBbNjUsIDI4LCA1OSwgMzMsIDIxLCA1NiwgMjIsIDk1LCA1MCwgMTIsIDkwLCA1MywgMjgsIDc3LCAzOV07XG4gKiBxdWlja3NlbGVjdChhcnIsIDgpO1xuICogLy8gPSBbMzksIDI4LCAyOCwgMzMsIDIxLCAxMiwgMjIsIDUwLCA1MywgNTYsIDU5LCA2NSwgOTAsIDc3LCA5NV1cbiAqL1xuZnVuY3Rpb24gcXVpY2tzZWxlY3QoYXJyLyo6IEFycmF5PG51bWJlcj4gKi8sIGsvKjogbnVtYmVyICovLCBsZWZ0Lyo6ID9udW1iZXIgKi8sIHJpZ2h0Lyo6ID9udW1iZXIgKi8pLyo6IHZvaWQgKi8ge1xuICAgIGxlZnQgPSBsZWZ0IHx8IDA7XG4gICAgcmlnaHQgPSByaWdodCB8fCAoYXJyLmxlbmd0aCAtIDEpO1xuXG4gICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkge1xuICAgICAgICAvLyA2MDAgYW5kIDAuNSBhcmUgYXJiaXRyYXJ5IGNvbnN0YW50cyBjaG9zZW4gaW4gdGhlIG9yaWdpbmFsIHBhcGVyIHRvIG1pbmltaXplIGV4ZWN1dGlvbiB0aW1lXG4gICAgICAgIGlmIChyaWdodCAtIGxlZnQgPiA2MDApIHtcbiAgICAgICAgICAgIHZhciBuID0gcmlnaHQgLSBsZWZ0ICsgMTtcbiAgICAgICAgICAgIHZhciBtID0gayAtIGxlZnQgKyAxO1xuICAgICAgICAgICAgdmFyIHogPSBNYXRoLmxvZyhuKTtcbiAgICAgICAgICAgIHZhciBzID0gMC41ICogTWF0aC5leHAoMiAqIHogLyAzKTtcbiAgICAgICAgICAgIHZhciBzZCA9IDAuNSAqIE1hdGguc3FydCh6ICogcyAqIChuIC0gcykgLyBuKTtcbiAgICAgICAgICAgIGlmIChtIC0gbiAvIDIgPCAwKSBzZCAqPSAtMTtcbiAgICAgICAgICAgIHZhciBuZXdMZWZ0ID0gTWF0aC5tYXgobGVmdCwgTWF0aC5mbG9vcihrIC0gbSAqIHMgLyBuICsgc2QpKTtcbiAgICAgICAgICAgIHZhciBuZXdSaWdodCA9IE1hdGgubWluKHJpZ2h0LCBNYXRoLmZsb29yKGsgKyAobiAtIG0pICogcyAvIG4gKyBzZCkpO1xuICAgICAgICAgICAgcXVpY2tzZWxlY3QoYXJyLCBrLCBuZXdMZWZ0LCBuZXdSaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdCA9IGFycltrXTtcbiAgICAgICAgdmFyIGkgPSBsZWZ0O1xuICAgICAgICB2YXIgaiA9IHJpZ2h0O1xuXG4gICAgICAgIHN3YXAoYXJyLCBsZWZ0LCBrKTtcbiAgICAgICAgaWYgKGFycltyaWdodF0gPiB0KSBzd2FwKGFyciwgbGVmdCwgcmlnaHQpO1xuXG4gICAgICAgIHdoaWxlIChpIDwgaikge1xuICAgICAgICAgICAgc3dhcChhcnIsIGksIGopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgd2hpbGUgKGFycltpXSA8IHQpIGkrKztcbiAgICAgICAgICAgIHdoaWxlIChhcnJbal0gPiB0KSBqLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJyW2xlZnRdID09PSB0KSBzd2FwKGFyciwgbGVmdCwgaik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgc3dhcChhcnIsIGosIHJpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqIDw9IGspIGxlZnQgPSBqICsgMTtcbiAgICAgICAgaWYgKGsgPD0gaikgcmlnaHQgPSBqIC0gMTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN3YXAoYXJyLCBpLCBqKSB7XG4gICAgdmFyIHRtcCA9IGFycltpXTtcbiAgICBhcnJbaV0gPSBhcnJbal07XG4gICAgYXJyW2pdID0gdG1wO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoZSBbcXVhbnRpbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1F1YW50aWxlKTpcbiAqIHRoaXMgaXMgYSBwb3B1bGF0aW9uIHF1YW50aWxlLCBzaW5jZSB3ZSBhc3N1bWUgdG8ga25vdyB0aGUgZW50aXJlXG4gKiBkYXRhc2V0IGluIHRoaXMgbGlicmFyeS4gVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGVcbiAqIFtRdWFudGlsZXMgb2YgYSBQb3B1bGF0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1F1YW50aWxlI1F1YW50aWxlc19vZl9hX3BvcHVsYXRpb24pXG4gKiBhbGdvcml0aG0gZnJvbSB3aWtpcGVkaWEuXG4gKlxuICogU2FtcGxlIGlzIGEgb25lLWRpbWVuc2lvbmFsIGFycmF5IG9mIG51bWJlcnMsXG4gKiBhbmQgcCBpcyBlaXRoZXIgYSBkZWNpbWFsIG51bWJlciBmcm9tIDAgdG8gMSBvciBhbiBhcnJheSBvZiBkZWNpbWFsXG4gKiBudW1iZXJzIGZyb20gMCB0byAxLlxuICogSW4gdGVybXMgb2YgYSBrL3EgcXVhbnRpbGUsIHAgPSBrL3EgLSBpdCdzIGp1c3QgZGVhbGluZyB3aXRoIGZyYWN0aW9ucyBvciBkZWFsaW5nXG4gKiB3aXRoIGRlY2ltYWwgdmFsdWVzLlxuICogV2hlbiBwIGlzIGFuIGFycmF5LCB0aGUgcmVzdWx0IG9mIHRoZSBmdW5jdGlvbiBpcyBhbHNvIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGFwcHJvcHJpYXRlXG4gKiBxdWFudGlsZXMgaW4gaW5wdXQgb3JkZXJcbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggc2FtcGxlIG9mIG9uZSBvciBtb3JlIG51bWJlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPiB8IG51bWJlcn0gcCB0aGUgZGVzaXJlZCBxdWFudGlsZSwgYXMgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBxdWFudGlsZVxuICogQGV4YW1wbGVcbiAqIHF1YW50aWxlKFszLCA2LCA3LCA4LCA4LCA5LCAxMCwgMTMsIDE1LCAxNiwgMjBdLCAwLjUpOyAvLyA9PiA5XG4gKi9cbmZ1bmN0aW9uIHF1YW50aWxlKHgvKjogQXJyYXk8bnVtYmVyPiAqLywgcC8qOiBBcnJheTxudW1iZXI+IHwgbnVtYmVyICovKS8qOiBBcnJheTxudW1iZXI+IHwgbnVtYmVyICovIHtcbiAgICB2YXIgY29weSA9IHguc2xpY2UoKTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHApKSB7XG4gICAgICAgIC8vIHJlYXJyYW5nZSBlbGVtZW50cyBzbyB0aGF0IGVhY2ggZWxlbWVudCBjb3JyZXNwb25kaW5nIHRvIGEgcmVxdWVzdGVkXG4gICAgICAgIC8vIHF1YW50aWxlIGlzIG9uIGEgcGxhY2UgaXQgd291bGQgYmUgaWYgdGhlIGFycmF5IHdhcyBmdWxseSBzb3J0ZWRcbiAgICAgICAgbXVsdGlRdWFudGlsZVNlbGVjdChjb3B5LCBwKTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgcmVzdWx0IGFycmF5XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIC8vIEZvciBlYWNoIHJlcXVlc3RlZCBxdWFudGlsZVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdHNbaV0gPSBxdWFudGlsZVNvcnRlZChjb3B5LCBwW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaWR4ID0gcXVhbnRpbGVJbmRleChjb3B5Lmxlbmd0aCwgcCk7XG4gICAgICAgIHF1YW50aWxlU2VsZWN0KGNvcHksIGlkeCwgMCwgY29weS5sZW5ndGggLSAxKTtcbiAgICAgICAgcmV0dXJuIHF1YW50aWxlU29ydGVkKGNvcHksIHApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcXVhbnRpbGVTZWxlY3QoYXJyLCBrLCBsZWZ0LCByaWdodCkge1xuICAgIGlmIChrICUgMSA9PT0gMCkge1xuICAgICAgICBxdWlja3NlbGVjdChhcnIsIGssIGxlZnQsIHJpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBrID0gTWF0aC5mbG9vcihrKTtcbiAgICAgICAgcXVpY2tzZWxlY3QoYXJyLCBrLCBsZWZ0LCByaWdodCk7XG4gICAgICAgIHF1aWNrc2VsZWN0KGFyciwgayArIDEsIGsgKyAxLCByaWdodCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtdWx0aVF1YW50aWxlU2VsZWN0KGFyciwgcCkge1xuICAgIHZhciBpbmRpY2VzID0gWzBdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbmRpY2VzLnB1c2gocXVhbnRpbGVJbmRleChhcnIubGVuZ3RoLCBwW2ldKSk7XG4gICAgfVxuICAgIGluZGljZXMucHVzaChhcnIubGVuZ3RoIC0gMSk7XG4gICAgaW5kaWNlcy5zb3J0KGNvbXBhcmUpO1xuXG4gICAgdmFyIHN0YWNrID0gWzAsIGluZGljZXMubGVuZ3RoIC0gMV07XG5cbiAgICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG4gICAgICAgIHZhciByID0gTWF0aC5jZWlsKHN0YWNrLnBvcCgpKTtcbiAgICAgICAgdmFyIGwgPSBNYXRoLmZsb29yKHN0YWNrLnBvcCgpKTtcbiAgICAgICAgaWYgKHIgLSBsIDw9IDEpIGNvbnRpbnVlO1xuXG4gICAgICAgIHZhciBtID0gTWF0aC5mbG9vcigobCArIHIpIC8gMik7XG4gICAgICAgIHF1YW50aWxlU2VsZWN0KGFyciwgaW5kaWNlc1ttXSwgaW5kaWNlc1tsXSwgaW5kaWNlc1tyXSk7XG5cbiAgICAgICAgc3RhY2sucHVzaChsLCBtLCBtLCByKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmUoYSwgYikge1xuICAgIHJldHVybiBhIC0gYjtcbn1cblxuZnVuY3Rpb24gcXVhbnRpbGVJbmRleChsZW4gLyo6IG51bWJlciAqLywgcCAvKjogbnVtYmVyICovKS8qOm51bWJlciovIHtcbiAgICB2YXIgaWR4ID0gbGVuICogcDtcbiAgICBpZiAocCA9PT0gMSkge1xuICAgICAgICAvLyBJZiBwIGlzIDEsIGRpcmVjdGx5IHJldHVybiB0aGUgbGFzdCBpbmRleFxuICAgICAgICByZXR1cm4gbGVuIC0gMTtcbiAgICB9IGVsc2UgaWYgKHAgPT09IDApIHtcbiAgICAgICAgLy8gSWYgcCBpcyAwLCBkaXJlY3RseSByZXR1cm4gdGhlIGZpcnN0IGluZGV4XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSBpZiAoaWR4ICUgMSAhPT0gMCkge1xuICAgICAgICAvLyBJZiBpbmRleCBpcyBub3QgaW50ZWdlciwgcmV0dXJuIHRoZSBuZXh0IGluZGV4IGluIGFycmF5XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoaWR4KSAtIDE7XG4gICAgfSBlbHNlIGlmIChsZW4gJSAyID09PSAwKSB7XG4gICAgICAgIC8vIElmIHRoZSBsaXN0IGhhcyBldmVuLWxlbmd0aCwgd2UnbGwgcmV0dXJuIHRoZSBtaWRkbGUgb2YgdHdvIGluZGljZXNcbiAgICAgICAgLy8gYXJvdW5kIHF1YW50aWxlIHRvIGluZGljYXRlIHRoYXQgd2UgbmVlZCBhbiBhdmVyYWdlIHZhbHVlIG9mIHRoZSB0d29cbiAgICAgICAgcmV0dXJuIGlkeCAtIDAuNTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaW5hbGx5LCBpbiB0aGUgc2ltcGxlIGNhc2Ugb2YgYW4gaW50ZWdlciBpbmRleFxuICAgICAgICAvLyB3aXRoIGFuIG9kZC1sZW5ndGggbGlzdCwgcmV0dXJuIHRoZSBpbmRleFxuICAgICAgICByZXR1cm4gaWR4O1xuICAgIH1cbn1cblxuLyogQGZsb3cgKi9cbi8qIGVzbGludCBuby1iaXR3aXNlOiAwICovXG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBxdWFudGlsZSBpbiB3aGljaCBvbmUgd291bGQgZmluZCB0aGUgZ2l2ZW4gdmFsdWUgaW5cbiAqIHRoZSBnaXZlbiBhcnJheS4gV2l0aCBhIHNvcnRlZCBhcnJheSwgbGV2ZXJhZ2luZyBiaW5hcnkgc2VhcmNoLCB3ZSBjYW4gZmluZFxuICogdGhpcyBpbmZvcm1hdGlvbiBpbiBsb2dhcml0aG1pYyB0aW1lLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geCBpbnB1dFxuICogQHJldHVybnMge251bWJlcn0gdmFsdWUgdmFsdWVcbiAqIEBleGFtcGxlXG4gKiBxdWFudGlsZVJhbmtTb3J0ZWQoWzEsIDIsIDMsIDRdLCAzKTsgLy8gPT4gMC43NVxuICogcXVhbnRpbGVSYW5rU29ydGVkKFsxLCAyLCAzLCAzLCA0XSwgMyk7IC8vID0+IDAuN1xuICogcXVhbnRpbGVSYW5rU29ydGVkKFsxLCAyLCAzLCA0XSwgNik7IC8vID0+IDFcbiAqIHF1YW50aWxlUmFua1NvcnRlZChbMSwgMiwgMywgMywgNV0sIDQpOyAvLyA9PiAwLjhcbiAqL1xuZnVuY3Rpb24gcXVhbnRpbGVSYW5rU29ydGVkKFxuICAgIHggLyo6IEFycmF5PG51bWJlcj4gKi8sXG4gICAgdmFsdWUgLyo6IG51bWJlciAqLykvKjogbnVtYmVyICovIHtcblxuICAgIC8vIFZhbHVlIGlzIGxlc3NlciB0aGFuIGFueSB2YWx1ZSBpbiB0aGUgYXJyYXlcbiAgICBpZiAodmFsdWUgPCB4WzBdKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIFZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBhbnkgdmFsdWUgaW4gdGhlIGFycmF5XG4gICAgaWYgKHZhbHVlID4geFt4Lmxlbmd0aCAtIDFdKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHZhciBsID0gbG93ZXJCb3VuZCh4LCB2YWx1ZSk7XG5cbiAgICAvLyBWYWx1ZSBpcyBub3QgaW4gdGhlIGFycmF5XG4gICAgaWYgKHhbbF0gIT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBsIC8geC5sZW5ndGg7XG4gICAgfVxuXG4gICAgbCsrO1xuXG4gICAgdmFyIHUgPSB1cHBlckJvdW5kKHgsIHZhbHVlKTtcblxuICAgIC8vIFRoZSB2YWx1ZSBleGlzdHMgb25seSBvbmNlIGluIHRoZSBhcnJheVxuICAgIGlmICh1ID09PSBsKSB7XG4gICAgICAgIHJldHVybiBsIC8geC5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gSGVyZSwgd2UgYXJlIGJhc2ljYWxseSBjb21wdXRpbmcgdGhlIG1lYW4gb2YgdGhlIHJhbmdlIG9mIGluZGljZXNcbiAgICAvLyBjb250YWluaW5nIG91ciBzZWFyY2hlZCB2YWx1ZS4gQnV0LCBpbnN0ZWFkLCBvZiBpbml0aWFsaXppbmcgYW5cbiAgICAvLyBhcnJheSBhbmQgbG9vcGluZyBvdmVyIGl0LCB0aGVyZSBpcyBhIGRlZGljYXRlZCBtYXRoIGZvcm11bGEgdGhhdFxuICAgIC8vIHdlIGFwcGx5IGJlbG93IHRvIGdldCB0aGUgcmVzdWx0LlxuICAgIHZhciByID0gdSAtIGwgKyAxO1xuICAgIHZhciBzdW0gPSAociAqICh1ICsgbCkpIC8gMjtcbiAgICB2YXIgbWVhbiA9IHN1bSAvIHI7XG5cbiAgICByZXR1cm4gbWVhbiAvIHgubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBsb3dlckJvdW5kKHgsIHZhbHVlKSB7XG4gICAgdmFyIG1pZCA9IDA7XG4gICAgdmFyIGxvID0gMDtcbiAgICB2YXIgaGkgPSB4Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsbyA8IGhpKSB7XG4gICAgICAgIG1pZCA9IChsbyArIGhpKSA+Pj4gMTtcblxuICAgICAgICBpZiAodmFsdWUgPD0geFttaWRdKSB7XG4gICAgICAgICAgICBoaSA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvID0gLX5taWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbG87XG59XG5cbmZ1bmN0aW9uIHVwcGVyQm91bmQoeCwgdmFsdWUpIHtcbiAgICB2YXIgbWlkID0gMDtcbiAgICB2YXIgbG8gPSAwO1xuICAgIHZhciBoaSA9IHgubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxvIDwgaGkpIHtcbiAgICAgICAgbWlkID0gKGxvICsgaGkpID4+PiAxO1xuXG4gICAgICAgIGlmICh2YWx1ZSA+PSB4W21pZF0pIHtcbiAgICAgICAgICAgIGxvID0gLX5taWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoaSA9IG1pZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsbztcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHF1YW50aWxlIGluIHdoaWNoIG9uZSB3b3VsZCBmaW5kIHRoZSBnaXZlbiB2YWx1ZSBpblxuICogdGhlIGdpdmVuIGFycmF5LiBJdCB3aWxsIHJlcXVpcmUgdG8gY29weSBhbmQgc29ydCB5b3VyIGFycmF5IGJlZm9yZWhhbmQsIHNvXG4gKiBpZiB5b3Uga25vdyB5b3VyIGFycmF5IGlzIGFscmVhZHkgc29ydGVkLCB5b3Ugd291bGQgcmF0aGVyIHVzZVxuICogYHF1YW50aWxlUmFua1NvcnRlZGAuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IGlucHV0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSB2YWx1ZSB2YWx1ZVxuICogQGV4YW1wbGVcbiAqIHF1YW50aWxlUmFuayhbNCwgMywgMSwgMl0sIDMpOyAvLyA9PiAwLjc1XG4gKiBxdWFudGlsZVJhbmsoWzQsIDMsIDIsIDMsIDFdLCAzKTsgLy8gPT4gMC43XG4gKiBxdWFudGlsZVJhbmsoWzIsIDQsIDEsIDNdLCA2KTsgLy8gPT4gMVxuICogcXVhbnRpbGVSYW5rKFs1LCAzLCAxLCAyLCAzXSwgNCk7IC8vID0+IDAuOFxuICovXG5mdW5jdGlvbiBxdWFudGlsZVJhbmsoXG4gICAgeCAvKjogQXJyYXk8bnVtYmVyPiAqLyxcbiAgICB2YWx1ZSAvKjogbnVtYmVyICovKS8qOiBudW1iZXIgKi8ge1xuXG4gICAgLy8gQ2xvbmluZyBhbmQgc29ydGluZyB0aGUgYXJyYXlcbiAgICB2YXIgc29ydGVkQ29weSA9IG51bWVyaWNTb3J0KHgpO1xuXG4gICAgcmV0dXJuIHF1YW50aWxlUmFua1NvcnRlZChzb3J0ZWRDb3B5LCB2YWx1ZSk7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFtJbnRlcnF1YXJ0aWxlIHJhbmdlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0ludGVycXVhcnRpbGVfcmFuZ2UpIGlzXG4gKiBhIG1lYXN1cmUgb2Ygc3RhdGlzdGljYWwgZGlzcGVyc2lvbiwgb3IgaG93IHNjYXR0ZXJlZCwgc3ByZWFkLCBvclxuICogY29uY2VudHJhdGVkIGEgZGlzdHJpYnV0aW9uIGlzLiBJdCdzIGNvbXB1dGVkIGFzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cbiAqIHRoZSB0aGlyZCBxdWFydGlsZSBhbmQgZmlyc3QgcXVhcnRpbGUuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IHNhbXBsZSBvZiBvbmUgb3IgbW9yZSBudW1iZXJzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBpbnRlcnF1YXJ0aWxlIHJhbmdlOiB0aGUgc3BhbiBiZXR3ZWVuIGxvd2VyIGFuZCB1cHBlciBxdWFydGlsZSxcbiAqIDAuMjUgYW5kIDAuNzVcbiAqIEBleGFtcGxlXG4gKiBpbnRlcnF1YXJ0aWxlUmFuZ2UoWzAsIDEsIDIsIDNdKTsgLy8gPT4gMlxuICovXG5mdW5jdGlvbiBpbnRlcnF1YXJ0aWxlUmFuZ2UoeC8qOiBBcnJheTxudW1iZXI+ICovKSB7XG4gICAgLy8gSW50ZXJxdWFydGlsZSByYW5nZSBpcyB0aGUgc3BhbiBiZXR3ZWVuIHRoZSB1cHBlciBxdWFydGlsZSxcbiAgICAvLyBhdCBgMC43NWAsIGFuZCBsb3dlciBxdWFydGlsZSwgYDAuMjVgXG4gICAgdmFyIHExID0gcXVhbnRpbGUoeCwgMC43NSksXG4gICAgICAgIHEyID0gcXVhbnRpbGUoeCwgMC4yNSk7XG5cbiAgICBpZiAodHlwZW9mIHExID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgcTIgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBxMSAtIHEyO1xuICAgIH1cbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgW21lZGlhbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NZWRpYW4pIGlzXG4gKiB0aGUgbWlkZGxlIG51bWJlciBvZiBhIGxpc3QuIFRoaXMgaXMgb2Z0ZW4gYSBnb29kIGluZGljYXRvciBvZiAndGhlIG1pZGRsZSdcbiAqIHdoZW4gdGhlcmUgYXJlIG91dGxpZXJzIHRoYXQgc2tldyB0aGUgYG1lYW4oKWAgdmFsdWUuXG4gKiBUaGlzIGlzIGEgW21lYXN1cmUgb2YgY2VudHJhbCB0ZW5kZW5jeV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2VudHJhbF90ZW5kZW5jeSk6XG4gKiBhIG1ldGhvZCBvZiBmaW5kaW5nIGEgdHlwaWNhbCBvciBjZW50cmFsIHZhbHVlIG9mIGEgc2V0IG9mIG51bWJlcnMuXG4gKlxuICogVGhlIG1lZGlhbiBpc24ndCBuZWNlc3NhcmlseSBvbmUgb2YgdGhlIGVsZW1lbnRzIGluIHRoZSBsaXN0OiB0aGUgdmFsdWVcbiAqIGNhbiBiZSB0aGUgYXZlcmFnZSBvZiB0d28gZWxlbWVudHMgaWYgdGhlIGxpc3QgaGFzIGFuIGV2ZW4gbGVuZ3RoXG4gKiBhbmQgdGhlIHR3byBjZW50cmFsIHZhbHVlcyBhcmUgZGlmZmVyZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geCBpbnB1dFxuICogQHJldHVybnMge251bWJlcn0gbWVkaWFuIHZhbHVlXG4gKiBAZXhhbXBsZVxuICogbWVkaWFuKFsxMCwgMiwgNSwgMTAwLCAyLCAxXSk7IC8vID0+IDMuNVxuICovXG5mdW5jdGlvbiBtZWRpYW4oeCAvKjogQXJyYXk8bnVtYmVyPiAqLykvKjogbnVtYmVyICovIHtcbiAgICByZXR1cm4gK3F1YW50aWxlKHgsIDAuNSk7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFtNZWRpYW4gQWJzb2x1dGUgRGV2aWF0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01lZGlhbl9hYnNvbHV0ZV9kZXZpYXRpb24pIGlzXG4gKiBhIHJvYnVzdCBtZWFzdXJlIG9mIHN0YXRpc3RpY2FsXG4gKiBkaXNwZXJzaW9uLiBJdCBpcyBtb3JlIHJlc2lsaWVudCB0byBvdXRsaWVycyB0aGFuIHRoZSBzdGFuZGFyZCBkZXZpYXRpb24uXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IGlucHV0IGFycmF5XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBtZWRpYW4gYWJzb2x1dGUgZGV2aWF0aW9uXG4gKiBAZXhhbXBsZVxuICogbWVkaWFuQWJzb2x1dGVEZXZpYXRpb24oWzEsIDEsIDIsIDIsIDQsIDYsIDldKTsgLy8gPT4gMVxuICovXG5mdW5jdGlvbiBtZWRpYW5BYnNvbHV0ZURldmlhdGlvbih4Lyo6IEFycmF5PG51bWJlcj4gKi8pLyo6IG51bWJlciAqLyB7XG4gICAgLy8gVGhlIG1hZCBvZiBub3RoaW5nIGlzIG51bGxcbiAgICB2YXIgbWVkaWFuVmFsdWUgPSBtZWRpYW4oeCksXG4gICAgICAgIG1lZGlhbkFic29sdXRlRGV2aWF0aW9ucyA9IFtdO1xuXG4gICAgLy8gTWFrZSBhIGxpc3Qgb2YgYWJzb2x1dGUgZGV2aWF0aW9ucyBmcm9tIHRoZSBtZWRpYW5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbWVkaWFuQWJzb2x1dGVEZXZpYXRpb25zLnB1c2goTWF0aC5hYnMoeFtpXSAtIG1lZGlhblZhbHVlKSk7XG4gICAgfVxuXG4gICAgLy8gRmluZCB0aGUgbWVkaWFuIHZhbHVlIG9mIHRoYXQgbGlzdFxuICAgIHJldHVybiBtZWRpYW4obWVkaWFuQWJzb2x1dGVEZXZpYXRpb25zKTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBTcGxpdCBhbiBhcnJheSBpbnRvIGNodW5rcyBvZiBhIHNwZWNpZmllZCBzaXplLiBUaGlzIGZ1bmN0aW9uXG4gKiBoYXMgdGhlIHNhbWUgYmVoYXZpb3IgYXMgW1BIUCdzIGFycmF5X2NodW5rXShodHRwOi8vcGhwLm5ldC9tYW51YWwvZW4vZnVuY3Rpb24uYXJyYXktY2h1bmsucGhwKVxuICogZnVuY3Rpb24sIGFuZCB0aHVzIHdpbGwgaW5zZXJ0IHNtYWxsZXItc2l6ZWQgY2h1bmtzIGF0IHRoZSBlbmQgaWZcbiAqIHRoZSBpbnB1dCBzaXplIGlzIG5vdCBkaXZpc2libGUgYnkgdGhlIGNodW5rIHNpemUuXG4gKlxuICogYHhgIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5LCBhbmQgYGNodW5rU2l6ZWAgYSBudW1iZXIuXG4gKiBUaGUgYHhgIGFycmF5IGNhbiBjb250YWluIGFueSBraW5kIG9mIGRhdGEuXG4gKlxuICogQHBhcmFtIHtBcnJheX0geCBhIHNhbXBsZVxuICogQHBhcmFtIHtudW1iZXJ9IGNodW5rU2l6ZSBzaXplIG9mIGVhY2ggb3V0cHV0IGFycmF5LiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlclxuICogQHJldHVybnMge0FycmF5PEFycmF5Pn0gYSBjaHVua2VkIGFycmF5XG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgY2h1bmsgc2l6ZSBpcyBsZXNzIHRoYW4gMSBvciBub3QgYW4gaW50ZWdlclxuICogQGV4YW1wbGVcbiAqIGNodW5rKFsxLCAyLCAzLCA0LCA1LCA2XSwgMik7XG4gKiAvLyA9PiBbWzEsIDJdLCBbMywgNF0sIFs1LCA2XV1cbiAqL1xuZnVuY3Rpb24gY2h1bmsoeC8qOkFycmF5PGFueT4qLywgY2h1bmtTaXplLyo6bnVtYmVyKi8pLyo6P0FycmF5PEFycmF5PGFueT4+Ki8ge1xuXG4gICAgLy8gYSBsaXN0IG9mIHJlc3VsdCBjaHVua3MsIGFzIGFycmF5cyBpbiBhbiBhcnJheVxuICAgIHZhciBvdXRwdXQgPSBbXTtcblxuICAgIC8vIGBjaHVua1NpemVgIG11c3QgYmUgemVybyBvciBoaWdoZXIgLSBvdGhlcndpc2UgdGhlIGxvb3AgYmVsb3csXG4gICAgLy8gaW4gd2hpY2ggd2UgY2FsbCBgc3RhcnQgKz0gY2h1bmtTaXplYCwgd2lsbCBsb29wIGluZmluaXRlbHkuXG4gICAgLy8gU28sIHdlJ2xsIGRldGVjdCBhbmQgdGhyb3cgaW4gdGhhdCBjYXNlIHRvIGluZGljYXRlXG4gICAgLy8gaW52YWxpZCBpbnB1dC5cbiAgICBpZiAoY2h1bmtTaXplIDwgMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NodW5rIHNpemUgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICAgIH1cblxuICAgIGlmIChNYXRoLmZsb29yKGNodW5rU2l6ZSkgIT09IGNodW5rU2l6ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NodW5rIHNpemUgbXVzdCBiZSBhbiBpbnRlZ2VyJyk7XG4gICAgfVxuXG4gICAgLy8gYHN0YXJ0YCBpcyB0aGUgaW5kZXggYXQgd2hpY2ggYC5zbGljZWAgd2lsbCBzdGFydCBzZWxlY3RpbmdcbiAgICAvLyBuZXcgYXJyYXkgZWxlbWVudHNcbiAgICBmb3IgKHZhciBzdGFydCA9IDA7IHN0YXJ0IDwgeC5sZW5ndGg7IHN0YXJ0ICs9IGNodW5rU2l6ZSkge1xuXG4gICAgICAgIC8vIGZvciBlYWNoIGNodW5rLCBzbGljZSB0aGF0IHBhcnQgb2YgdGhlIGFycmF5IGFuZCBhZGQgaXRcbiAgICAgICAgLy8gdG8gdGhlIG91dHB1dC4gVGhlIGAuc2xpY2VgIGZ1bmN0aW9uIGRvZXMgbm90IGNoYW5nZVxuICAgICAgICAvLyB0aGUgb3JpZ2luYWwgYXJyYXkuXG4gICAgICAgIG91dHB1dC5wdXNoKHguc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgY2h1bmtTaXplKSk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogU2FtcGxpbmcgd2l0aCByZXBsYWNlbWVudCBpcyBhIHR5cGUgb2Ygc2FtcGxpbmcgdGhhdCBhbGxvd3MgdGhlIHNhbWVcbiAqIGl0ZW0gdG8gYmUgcGlja2VkIG91dCBvZiBhIHBvcHVsYXRpb24gbW9yZSB0aGFuIG9uY2UuXG4gKlxuICogQHBhcmFtIHtBcnJheTwqPn0geCBhbiBhcnJheSBvZiBhbnkga2luZCBvZiB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gY291bnQgb2YgaG93IG1hbnkgZWxlbWVudHMgdG8gdGFrZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3JhbmRvbVNvdXJjZT1NYXRoLnJhbmRvbV0gYW4gb3B0aW9uYWwgZW50cm9weSBzb3VyY2UgdGhhdFxuICogcmV0dXJucyBudW1iZXJzIGJldHdlZW4gMCBpbmNsdXNpdmUgYW5kIDEgZXhjbHVzaXZlOiB0aGUgcmFuZ2UgWzAsIDEpXG4gKiBAcmV0dXJuIHtBcnJheX0gbiBzYW1wbGVkIGl0ZW1zIGZyb20gdGhlIHBvcHVsYXRpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgdmFsdWVzID0gWzEsIDIsIDMsIDRdO1xuICogc2FtcGxlV2l0aFJlcGxhY2VtZW50KHZhbHVlcywgMik7IC8vIHJldHVybnMgMiByYW5kb20gdmFsdWVzLCBsaWtlIFsyLCA0XTtcbiAqL1xuZnVuY3Rpb24gc2FtcGxlV2l0aFJlcGxhY2VtZW50Lyo6OjxUPiovKFxuICAgIHgvKjogQXJyYXk8VD4gKi8sXG4gICAgbi8qOiBudW1iZXIgKi8sXG4gICAgcmFuZG9tU291cmNlLyo6ID9GdW5jdGlvbiAqLykge1xuXG4gICAgaWYgKHgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvLyBhIGN1c3RvbSByYW5kb20gbnVtYmVyIHNvdXJjZSBjYW4gYmUgcHJvdmlkZWQgaWYgeW91IHdhbnQgdG8gdXNlXG4gICAgLy8gYSBmaXhlZCBzZWVkIG9yIGFub3RoZXIgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IsIGxpa2VcbiAgICAvLyBbcmFuZG9tLWpzXShodHRwczovL3d3dy5ucG1qcy5vcmcvcGFja2FnZS9yYW5kb20tanMpXG4gICAgcmFuZG9tU291cmNlID0gcmFuZG9tU291cmNlIHx8IE1hdGgucmFuZG9tO1xuXG4gICAgdmFyIGxlbmd0aCA9IHgubGVuZ3RoO1xuICAgIHZhciBzYW1wbGUgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IocmFuZG9tU291cmNlKCkgKiBsZW5ndGgpO1xuXG4gICAgICAgIHNhbXBsZS5wdXNoKHhbaW5kZXhdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2FtcGxlO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIEEgW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlciVFMiU4MCU5M1lhdGVzX3NodWZmbGUpXG4gKiBpbi1wbGFjZSAtIHdoaWNoIG1lYW5zIHRoYXQgaXQgKip3aWxsIGNoYW5nZSB0aGUgb3JkZXIgb2YgdGhlIG9yaWdpbmFsXG4gKiBhcnJheSBieSByZWZlcmVuY2UqKi5cbiAqXG4gKiBUaGlzIGlzIGFuIGFsZ29yaXRobSB0aGF0IGdlbmVyYXRlcyBhIHJhbmRvbSBbcGVybXV0YXRpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Blcm11dGF0aW9uKVxuICogb2YgYSBzZXQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0geCBzYW1wbGUgb2Ygb25lIG9yIG1vcmUgbnVtYmVyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW3JhbmRvbVNvdXJjZT1NYXRoLnJhbmRvbV0gYW4gb3B0aW9uYWwgZW50cm9weSBzb3VyY2UgdGhhdFxuICogcmV0dXJucyBudW1iZXJzIGJldHdlZW4gMCBpbmNsdXNpdmUgYW5kIDEgZXhjbHVzaXZlOiB0aGUgcmFuZ2UgWzAsIDEpXG4gKiBAcmV0dXJucyB7QXJyYXl9IHhcbiAqIEBleGFtcGxlXG4gKiB2YXIgeCA9IFsxLCAyLCAzLCA0XTtcbiAqIHNodWZmbGVJblBsYWNlKHgpO1xuICogLy8geCBpcyBzaHVmZmxlZCB0byBhIHZhbHVlIGxpa2UgWzIsIDEsIDQsIDNdXG4gKi9cbmZ1bmN0aW9uIHNodWZmbGVJblBsYWNlKHgvKjogQXJyYXk8YW55PiAqLywgcmFuZG9tU291cmNlLyo6ID9GdW5jdGlvbiAqLykvKjogQXJyYXk8YW55PiAqLyB7XG5cbiAgICAvLyBhIGN1c3RvbSByYW5kb20gbnVtYmVyIHNvdXJjZSBjYW4gYmUgcHJvdmlkZWQgaWYgeW91IHdhbnQgdG8gdXNlXG4gICAgLy8gYSBmaXhlZCBzZWVkIG9yIGFub3RoZXIgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IsIGxpa2VcbiAgICAvLyBbcmFuZG9tLWpzXShodHRwczovL3d3dy5ucG1qcy5vcmcvcGFja2FnZS9yYW5kb20tanMpXG4gICAgcmFuZG9tU291cmNlID0gcmFuZG9tU291cmNlIHx8IE1hdGgucmFuZG9tO1xuXG4gICAgLy8gc3RvcmUgdGhlIGN1cnJlbnQgbGVuZ3RoIG9mIHRoZSB4IHRvIGRldGVybWluZVxuICAgIC8vIHdoZW4gbm8gZWxlbWVudHMgcmVtYWluIHRvIHNodWZmbGUuXG4gICAgdmFyIGxlbmd0aCA9IHgubGVuZ3RoO1xuXG4gICAgLy8gdGVtcG9yYXJ5IGlzIHVzZWQgdG8gaG9sZCBhbiBpdGVtIHdoZW4gaXQgaXMgYmVpbmdcbiAgICAvLyBzd2FwcGVkIGJldHdlZW4gaW5kaWNlcy5cbiAgICB2YXIgdGVtcG9yYXJ5O1xuXG4gICAgLy8gVGhlIGluZGV4IHRvIHN3YXAgYXQgZWFjaCBzdGFnZS5cbiAgICB2YXIgaW5kZXg7XG5cbiAgICAvLyBXaGlsZSB0aGVyZSBhcmUgc3RpbGwgaXRlbXMgdG8gc2h1ZmZsZVxuICAgIHdoaWxlIChsZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIGNob3NlIGEgcmFuZG9tIGluZGV4IHdpdGhpbiB0aGUgc3Vic2V0IG9mIHRoZSBhcnJheVxuICAgICAgICAvLyB0aGF0IGlzIG5vdCB5ZXQgc2h1ZmZsZWRcbiAgICAgICAgaW5kZXggPSBNYXRoLmZsb29yKHJhbmRvbVNvdXJjZSgpICogbGVuZ3RoLS0pO1xuXG4gICAgICAgIC8vIHN0b3JlIHRoZSB2YWx1ZSB0aGF0IHdlJ2xsIG1vdmUgdGVtcG9yYXJpbHlcbiAgICAgICAgdGVtcG9yYXJ5ID0geFtsZW5ndGhdO1xuXG4gICAgICAgIC8vIHN3YXAgdGhlIHZhbHVlIGF0IGB4W2xlbmd0aF1gIHdpdGggYHhbaW5kZXhdYFxuICAgICAgICB4W2xlbmd0aF0gPSB4W2luZGV4XTtcbiAgICAgICAgeFtpbmRleF0gPSB0ZW1wb3Jhcnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHg7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogQSBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyJUUyJTgwJTkzWWF0ZXNfc2h1ZmZsZSlcbiAqIGlzIGEgZmFzdCB3YXkgdG8gY3JlYXRlIGEgcmFuZG9tIHBlcm11dGF0aW9uIG9mIGEgZmluaXRlIHNldC4gVGhpcyBpc1xuICogYSBmdW5jdGlvbiBhcm91bmQgYHNodWZmbGVfaW5fcGxhY2VgIHRoYXQgYWRkcyB0aGUgZ3VhcmFudGVlIHRoYXRcbiAqIGl0IHdpbGwgbm90IG1vZGlmeSBpdHMgaW5wdXQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0geCBzYW1wbGUgb2YgMCBvciBtb3JlIG51bWJlcnNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyYW5kb21Tb3VyY2U9TWF0aC5yYW5kb21dIGFuIG9wdGlvbmFsIGVudHJvcHkgc291cmNlIHRoYXRcbiAqIHJldHVybnMgbnVtYmVycyBiZXR3ZWVuIDAgaW5jbHVzaXZlIGFuZCAxIGV4Y2x1c2l2ZTogdGhlIHJhbmdlIFswLCAxKVxuICogQHJldHVybiB7QXJyYXl9IHNodWZmbGVkIHZlcnNpb24gb2YgaW5wdXRcbiAqIEBleGFtcGxlXG4gKiB2YXIgc2h1ZmZsZWQgPSBzaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gKiBzaHVmZmxlZDsgLy8gPSBbMiwgMywgMSwgNF0gb3IgYW55IG90aGVyIHJhbmRvbSBwZXJtdXRhdGlvblxuICovXG5mdW5jdGlvbiBzaHVmZmxlLyo6OjxUPiovKHgvKjogQXJyYXk8VD4gKi8sIHJhbmRvbVNvdXJjZS8qOiA/RnVuY3Rpb24gKi8pIHtcbiAgICAvLyBzbGljZSB0aGUgb3JpZ2luYWwgYXJyYXkgc28gdGhhdCBpdCBpcyBub3QgbW9kaWZpZWRcbiAgICB2YXIgc2FtcGxlID0geC5zbGljZSgpO1xuXG4gICAgLy8gYW5kIHRoZW4gc2h1ZmZsZSB0aGF0IHNoYWxsb3ctY29waWVkIGFycmF5LCBpbiBwbGFjZVxuICAgIHJldHVybiBzaHVmZmxlSW5QbGFjZShzYW1wbGUuc2xpY2UoKSwgcmFuZG9tU291cmNlKTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBbc2ltcGxlIHJhbmRvbSBzYW1wbGVdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2ltcGxlX3JhbmRvbV9zYW1wbGUpXG4gKiBmcm9tIGEgZ2l2ZW4gYXJyYXkgb2YgYG5gIGVsZW1lbnRzLlxuICpcbiAqIFRoZSBzYW1wbGVkIHZhbHVlcyB3aWxsIGJlIGluIGFueSBvcmRlciwgbm90IG5lY2Vzc2FyaWx5IHRoZSBvcmRlclxuICogdGhleSBhcHBlYXIgaW4gdGhlIGlucHV0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0geCBpbnB1dCBhcnJheS4gY2FuIGNvbnRhaW4gYW55IHR5cGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIGNvdW50IG9mIGhvdyBtYW55IGVsZW1lbnRzIHRvIHRha2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyYW5kb21Tb3VyY2U9TWF0aC5yYW5kb21dIGFuIG9wdGlvbmFsIGVudHJvcHkgc291cmNlIHRoYXRcbiAqIHJldHVybnMgbnVtYmVycyBiZXR3ZWVuIDAgaW5jbHVzaXZlIGFuZCAxIGV4Y2x1c2l2ZTogdGhlIHJhbmdlIFswLCAxKVxuICogQHJldHVybiB7QXJyYXl9IHN1YnNldCBvZiBuIGVsZW1lbnRzIGluIG9yaWdpbmFsIGFycmF5XG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciB2YWx1ZXMgPSBbMSwgMiwgNCwgNSwgNiwgNywgOCwgOV07XG4gKiBzYW1wbGUodmFsdWVzLCAzKTsgLy8gcmV0dXJucyAzIHJhbmRvbSB2YWx1ZXMsIGxpa2UgWzIsIDUsIDhdO1xuICovXG5mdW5jdGlvbiBzYW1wbGUvKjo6IDxUPiAqLyhcbiAgICB4IC8qOiBBcnJheTxUPiAqLyxcbiAgICBuIC8qOiBudW1iZXIgKi8sXG4gICAgcmFuZG9tU291cmNlIC8qOiA/RnVuY3Rpb24gKi8pIC8qOiBBcnJheTxUPiAqLyB7XG4gICAgLy8gc2h1ZmZsZSB0aGUgb3JpZ2luYWwgYXJyYXkgdXNpbmcgYSBmaXNoZXIteWF0ZXMgc2h1ZmZsZVxuICAgIHZhciBzaHVmZmxlZCA9IHNodWZmbGUoeCwgcmFuZG9tU291cmNlKTtcblxuICAgIC8vIGFuZCB0aGVuIHJldHVybiBhIHN1YnNldCBvZiBpdCAtIHRoZSBmaXJzdCBgbmAgZWxlbWVudHMuXG4gICAgcmV0dXJuIHNodWZmbGVkLnNsaWNlKDAsIG4pO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIEZvciBhIHNvcnRlZCBpbnB1dCwgY291bnRpbmcgdGhlIG51bWJlciBvZiB1bmlxdWUgdmFsdWVzXG4gKiBpcyBwb3NzaWJsZSBpbiBjb25zdGFudCB0aW1lIGFuZCBjb25zdGFudCBtZW1vcnkuIFRoaXMgaXNcbiAqIGEgc2ltcGxlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBhbGdvcml0aG0uXG4gKlxuICogVmFsdWVzIGFyZSBjb21wYXJlZCB3aXRoIGA9PT1gLCBzbyBvYmplY3RzIGFuZCBub24tcHJpbWl0aXZlIG9iamVjdHNcbiAqIGFyZSBub3QgaGFuZGxlZCBpbiBhbnkgc3BlY2lhbCB3YXkuXG4gKlxuICogQHBhcmFtIHtBcnJheTwqPn0geCBhbiBhcnJheSBvZiBhbnkga2luZCBvZiB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn0gY291bnQgb2YgdW5pcXVlIHZhbHVlc1xuICogQGV4YW1wbGVcbiAqIHVuaXF1ZUNvdW50U29ydGVkKFsxLCAyLCAzXSk7IC8vID0+IDNcbiAqIHVuaXF1ZUNvdW50U29ydGVkKFsxLCAxLCAxXSk7IC8vID0+IDFcbiAqL1xuZnVuY3Rpb24gdW5pcXVlQ291bnRTb3J0ZWQoeC8qOiBBcnJheTxhbnk+Ki8pLyo6IG51bWJlciAqLyB7XG4gICAgdmFyIHVuaXF1ZVZhbHVlQ291bnQgPSAwLFxuICAgICAgICBsYXN0U2VlblZhbHVlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA9PT0gMCB8fCB4W2ldICE9PSBsYXN0U2VlblZhbHVlKSB7XG4gICAgICAgICAgICBsYXN0U2VlblZhbHVlID0geFtpXTtcbiAgICAgICAgICAgIHVuaXF1ZVZhbHVlQ291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5pcXVlVmFsdWVDb3VudDtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY29sdW1uIHggcm93IG1hdHJpeC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSByb3dzXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gbWF0cml4XG4gKiBAZXhhbXBsZVxuICogbWFrZU1hdHJpeCgxMCwgMTApO1xuICovXG5mdW5jdGlvbiBtYWtlTWF0cml4KGNvbHVtbnMsIHJvd3MpIHtcbiAgICB2YXIgbWF0cml4ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2x1bW5zOyBpKyspIHtcbiAgICAgICAgdmFyIGNvbHVtbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJvd3M7IGorKykge1xuICAgICAgICAgICAgY29sdW1uLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgbWF0cml4LnB1c2goY29sdW1uKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdHJpeDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgaW5jcmVtZW50YWxseSBjb21wdXRlZCB2YWx1ZXMgYmFzZWQgb24gdGhlIHN1bXMgYW5kIHN1bXMgb2ZcbiAqIHNxdWFyZXMgZm9yIHRoZSBkYXRhIGFycmF5XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBqXG4gKiBAcGFyYW0ge251bWJlcn0gaVxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzdW1zXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHN1bXNPZlNxdWFyZXNcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqIEBleGFtcGxlXG4gKiBzc3EoMCwgMSwgWy0xLCAwLCAyXSwgWzEsIDEsIDVdKTtcbiAqL1xuZnVuY3Rpb24gc3NxKGosIGksIHN1bXMsIHN1bXNPZlNxdWFyZXMpIHtcbiAgICB2YXIgc2ppOyAvLyBzKGosIGkpXG4gICAgaWYgKGogPiAwKSB7XG4gICAgICAgIHZhciBtdWppID0gKHN1bXNbaV0gLSBzdW1zW2ogLSAxXSkgLyAoaSAtIGogKyAxKTsgLy8gbXUoaiwgaSlcbiAgICAgICAgc2ppID0gc3Vtc09mU3F1YXJlc1tpXSAtIHN1bXNPZlNxdWFyZXNbaiAtIDFdIC0gKGkgLSBqICsgMSkgKiBtdWppICogbXVqaTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzamkgPSBzdW1zT2ZTcXVhcmVzW2ldIC0gc3Vtc1tpXSAqIHN1bXNbaV0gLyAoaSArIDEpO1xuICAgIH1cbiAgICBpZiAoc2ppIDwgMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIHNqaTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IHJlY3Vyc2l2ZWx5IGRpdmlkZXMgYW5kIGNvbnF1ZXJzIGNvbXB1dGF0aW9uc1xuICogZm9yIGNsdXN0ZXIgalxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gaU1pbiBNaW5pbXVtIGluZGV4IGluIGNsdXN0ZXIgdG8gYmUgY29tcHV0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpTWF4IE1heGltdW0gaW5kZXggaW4gY2x1c3RlciB0byBiZSBjb21wdXRlZFxuICogQHBhcmFtIHtudW1iZXJ9IGNsdXN0ZXIgSW5kZXggb2YgdGhlIGNsdXN0ZXIgY3VycmVudGx5IGJlaW5nIGNvbXB1dGVkXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBtYXRyaXhcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGJhY2t0cmFja01hdHJpeFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzdW1zXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHN1bXNPZlNxdWFyZXNcbiAqL1xuZnVuY3Rpb24gZmlsbE1hdHJpeENvbHVtbihpTWluLCBpTWF4LCBjbHVzdGVyLCBtYXRyaXgsIGJhY2t0cmFja01hdHJpeCwgc3Vtcywgc3Vtc09mU3F1YXJlcykge1xuICAgIGlmIChpTWluID4gaU1heCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU3RhcnQgYXQgbWlkcG9pbnQgYmV0d2VlbiBpTWluIGFuZCBpTWF4XG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKChpTWluICsgaU1heCkgLyAyKTtcblxuICAgIG1hdHJpeFtjbHVzdGVyXVtpXSA9IG1hdHJpeFtjbHVzdGVyIC0gMV1baSAtIDFdO1xuICAgIGJhY2t0cmFja01hdHJpeFtjbHVzdGVyXVtpXSA9IGk7XG5cbiAgICB2YXIgamxvdyA9IGNsdXN0ZXI7IC8vIHRoZSBsb3dlciBlbmQgZm9yIGpcblxuICAgIGlmIChpTWluID4gY2x1c3Rlcikge1xuICAgICAgICBqbG93ID0gTWF0aC5tYXgoamxvdywgYmFja3RyYWNrTWF0cml4W2NsdXN0ZXJdW2lNaW4gLSAxXSB8fCAwKTtcbiAgICB9XG4gICAgamxvdyA9IE1hdGgubWF4KGpsb3csIGJhY2t0cmFja01hdHJpeFtjbHVzdGVyIC0gMV1baV0gfHwgMCk7XG5cbiAgICB2YXIgamhpZ2ggPSBpIC0gMTsgLy8gdGhlIHVwcGVyIGVuZCBmb3IgalxuICAgIGlmIChpTWF4IDwgbWF0cml4Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgamhpZ2ggPSBNYXRoLm1pbihqaGlnaCwgYmFja3RyYWNrTWF0cml4W2NsdXN0ZXJdW2lNYXggKyAxXSB8fCAwKTtcbiAgICB9XG5cbiAgICB2YXIgc2ppO1xuICAgIHZhciBzamxvd2k7XG4gICAgdmFyIHNzcWpsb3c7XG4gICAgdmFyIHNzcWo7XG4gICAgZm9yICh2YXIgaiA9IGpoaWdoOyBqID49IGpsb3c7IC0taikge1xuICAgICAgICBzamkgPSBzc3EoaiwgaSwgc3Vtcywgc3Vtc09mU3F1YXJlcyk7XG5cbiAgICAgICAgaWYgKHNqaSArIG1hdHJpeFtjbHVzdGVyIC0gMV1bamxvdyAtIDFdID49IG1hdHJpeFtjbHVzdGVyXVtpXSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeGFtaW5lIHRoZSBsb3dlciBib3VuZCBvZiB0aGUgY2x1c3RlciBib3JkZXJcbiAgICAgICAgc2psb3dpID0gc3NxKGpsb3csIGksIHN1bXMsIHN1bXNPZlNxdWFyZXMpO1xuXG4gICAgICAgIHNzcWpsb3cgPSBzamxvd2kgKyBtYXRyaXhbY2x1c3RlciAtIDFdW2psb3cgLSAxXTtcblxuICAgICAgICBpZiAoc3NxamxvdyA8IG1hdHJpeFtjbHVzdGVyXVtpXSkge1xuICAgICAgICAgICAgLy8gU2hyaW5rIHRoZSBsb3dlciBib3VuZFxuICAgICAgICAgICAgbWF0cml4W2NsdXN0ZXJdW2ldID0gc3NxamxvdztcbiAgICAgICAgICAgIGJhY2t0cmFja01hdHJpeFtjbHVzdGVyXVtpXSA9IGpsb3c7XG4gICAgICAgIH1cbiAgICAgICAgamxvdysrO1xuXG4gICAgICAgIHNzcWogPSBzamkgKyBtYXRyaXhbY2x1c3RlciAtIDFdW2ogLSAxXTtcbiAgICAgICAgaWYgKHNzcWogPCBtYXRyaXhbY2x1c3Rlcl1baV0pIHtcbiAgICAgICAgICAgIG1hdHJpeFtjbHVzdGVyXVtpXSA9IHNzcWo7XG4gICAgICAgICAgICBiYWNrdHJhY2tNYXRyaXhbY2x1c3Rlcl1baV0gPSBqO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmlsbE1hdHJpeENvbHVtbihpTWluLCBpIC0gMSwgY2x1c3RlciwgbWF0cml4LCBiYWNrdHJhY2tNYXRyaXgsIHN1bXMsIHN1bXNPZlNxdWFyZXMpO1xuICAgIGZpbGxNYXRyaXhDb2x1bW4oaSArIDEsIGlNYXgsIGNsdXN0ZXIsIG1hdHJpeCwgYmFja3RyYWNrTWF0cml4LCBzdW1zLCBzdW1zT2ZTcXVhcmVzKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgbWFpbiBtYXRyaWNlcyB1c2VkIGluIENrbWVhbnMgYW5kIGtpY2tzXG4gKiBvZmYgdGhlIGRpdmlkZSBhbmQgY29ucXVlciBjbHVzdGVyIGNvbXB1dGF0aW9uIHN0cmF0ZWd5XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZGF0YSBzb3J0ZWQgYXJyYXkgb2YgdmFsdWVzXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBtYXRyaXhcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGJhY2t0cmFja01hdHJpeFxuICovXG5mdW5jdGlvbiBmaWxsTWF0cmljZXMoZGF0YSwgbWF0cml4LCBiYWNrdHJhY2tNYXRyaXgpIHtcbiAgICB2YXIgblZhbHVlcyA9IG1hdHJpeFswXS5sZW5ndGg7XG5cbiAgICAvLyBTaGlmdCB2YWx1ZXMgYnkgdGhlIG1lZGlhbiB0byBpbXByb3ZlIG51bWVyaWMgc3RhYmlsaXR5XG4gICAgdmFyIHNoaWZ0ID0gZGF0YVtNYXRoLmZsb29yKG5WYWx1ZXMgLyAyKV07XG5cbiAgICAvLyBDdW11bGF0aXZlIHN1bSBhbmQgY3VtdWxhdGl2ZSBzdW0gb2Ygc3F1YXJlcyBmb3IgYWxsIHZhbHVlcyBpbiBkYXRhIGFycmF5XG4gICAgdmFyIHN1bXMgPSBbXTtcbiAgICB2YXIgc3Vtc09mU3F1YXJlcyA9IFtdO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBmaXJzdCBjb2x1bW4gaW4gbWF0cml4ICYgYmFja3RyYWNrTWF0cml4XG4gICAgZm9yICh2YXIgaSA9IDAsIHNoaWZ0ZWRWYWx1ZTsgaSA8IG5WYWx1ZXM7ICsraSkge1xuICAgICAgICBzaGlmdGVkVmFsdWUgPSBkYXRhW2ldIC0gc2hpZnQ7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBzdW1zLnB1c2goc2hpZnRlZFZhbHVlKTtcbiAgICAgICAgICAgIHN1bXNPZlNxdWFyZXMucHVzaChzaGlmdGVkVmFsdWUgKiBzaGlmdGVkVmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3Vtcy5wdXNoKHN1bXNbaSAtIDFdICsgc2hpZnRlZFZhbHVlKTtcbiAgICAgICAgICAgIHN1bXNPZlNxdWFyZXMucHVzaChzdW1zT2ZTcXVhcmVzW2kgLSAxXSArIHNoaWZ0ZWRWYWx1ZSAqIHNoaWZ0ZWRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbml0aWFsaXplIGZvciBjbHVzdGVyID0gMFxuICAgICAgICBtYXRyaXhbMF1baV0gPSBzc3EoMCwgaSwgc3Vtcywgc3Vtc09mU3F1YXJlcyk7XG4gICAgICAgIGJhY2t0cmFja01hdHJpeFswXVtpXSA9IDA7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgcmVzdCBvZiB0aGUgY29sdW1uc1xuICAgIHZhciBpTWluO1xuICAgIGZvciAodmFyIGNsdXN0ZXIgPSAxOyBjbHVzdGVyIDwgbWF0cml4Lmxlbmd0aDsgKytjbHVzdGVyKSB7XG4gICAgICAgIGlmIChjbHVzdGVyIDwgbWF0cml4Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGlNaW4gPSBjbHVzdGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBjb21wdXRlIG1hdHJpeFtLLTFdWzBdIC4uLiBtYXRyaXhbSy0xXVtOLTJdXG4gICAgICAgICAgICBpTWluID0gblZhbHVlcyAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICBmaWxsTWF0cml4Q29sdW1uKGlNaW4sIG5WYWx1ZXMgLSAxLCBjbHVzdGVyLCBtYXRyaXgsIGJhY2t0cmFja01hdHJpeCwgc3Vtcywgc3Vtc09mU3F1YXJlcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIENrbWVhbnMgY2x1c3RlcmluZyBpcyBhbiBpbXByb3ZlbWVudCBvbiBoZXVyaXN0aWMtYmFzZWQgY2x1c3RlcmluZ1xuICogYXBwcm9hY2hlcyBsaWtlIEplbmtzLiBUaGUgYWxnb3JpdGhtIHdhcyBkZXZlbG9wZWQgaW5cbiAqIFtIYWl6aG91IFdhbmcgYW5kIE1pbmd6aG91IFNvbmddKGh0dHA6Ly9qb3VybmFsLnItcHJvamVjdC5vcmcvYXJjaGl2ZS8yMDExLTIvUkpvdXJuYWxfMjAxMS0yX1dhbmcrU29uZy5wZGYpXG4gKiBhcyBhIFtkeW5hbWljIHByb2dyYW1taW5nXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EeW5hbWljX3Byb2dyYW1taW5nKSBhcHByb2FjaFxuICogdG8gdGhlIHByb2JsZW0gb2YgY2x1c3RlcmluZyBudW1lcmljIGRhdGEgaW50byBncm91cHMgd2l0aCB0aGUgbGVhc3RcbiAqIHdpdGhpbi1ncm91cCBzdW0tb2Ytc3F1YXJlZC1kZXZpYXRpb25zLlxuICpcbiAqIE1pbmltaXppbmcgdGhlIGRpZmZlcmVuY2Ugd2l0aGluIGdyb3VwcyAtIHdoYXQgV2FuZyAmIFNvbmcgcmVmZXIgdG8gYXNcbiAqIGB3aXRoaW5zc2AsIG9yIHdpdGhpbiBzdW0tb2Ytc3F1YXJlcywgbWVhbnMgdGhhdCBncm91cHMgYXJlIG9wdGltYWxseVxuICogaG9tb2dlbm91cyB3aXRoaW4gYW5kIHRoZSBkYXRhIGlzIHNwbGl0IGludG8gcmVwcmVzZW50YXRpdmUgZ3JvdXBzLlxuICogVGhpcyBpcyB2ZXJ5IHVzZWZ1bCBmb3IgdmlzdWFsaXphdGlvbiwgd2hlcmUgeW91IG1heSB3YW50IHRvIHJlcHJlc2VudFxuICogYSBjb250aW51b3VzIHZhcmlhYmxlIGluIGRpc2NyZXRlIGNvbG9yIG9yIHN0eWxlIGdyb3Vwcy4gVGhpcyBmdW5jdGlvblxuICogY2FuIHByb3ZpZGUgZ3JvdXBzIHRoYXQgZW1waGFzaXplIGRpZmZlcmVuY2VzIGJldHdlZW4gZGF0YS5cbiAqXG4gKiBCZWluZyBhIGR5bmFtaWMgYXBwcm9hY2gsIHRoaXMgYWxnb3JpdGhtIGlzIGJhc2VkIG9uIHR3byBtYXRyaWNlcyB0aGF0XG4gKiBzdG9yZSBpbmNyZW1lbnRhbGx5LWNvbXB1dGVkIHZhbHVlcyBmb3Igc3F1YXJlZCBkZXZpYXRpb25zIGFuZCBiYWNrdHJhY2tpbmdcbiAqIGluZGV4ZXMuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBvbiBDa21lYW5zIDMuNC42LCB3aGljaCBpbnRyb2R1Y2VkIGEgbmV3IGRpdmlkZVxuICogYW5kIGNvbnF1ZXIgYXBwcm9hY2ggdGhhdCBpbXByb3ZlZCBydW50aW1lIGZyb20gTyhrbl4yKSB0byBPKGtuIGxvZyhuKSkuXG4gKlxuICogVW5saWtlIHRoZSBbb3JpZ2luYWwgaW1wbGVtZW50YXRpb25dKGh0dHBzOi8vY3Jhbi5yLXByb2plY3Qub3JnL3dlYi9wYWNrYWdlcy9Da21lYW5zLjFkLmRwL2luZGV4Lmh0bWwpLFxuICogdGhpcyBpbXBsZW1lbnRhdGlvbiBkb2VzIG5vdCBpbmNsdWRlIGFueSBjb2RlIHRvIGF1dG9tYXRpY2FsbHkgZGV0ZXJtaW5lXG4gKiB0aGUgb3B0aW1hbCBudW1iZXIgb2YgY2x1c3RlcnM6IHRoaXMgaW5mb3JtYXRpb24gbmVlZHMgdG8gYmUgZXhwbGljaXRseVxuICogcHJvdmlkZWQuXG4gKlxuICogIyMjIFJlZmVyZW5jZXNcbiAqIF9Da21lYW5zLjFkLmRwOiBPcHRpbWFsIGstbWVhbnMgQ2x1c3RlcmluZyBpbiBPbmUgRGltZW5zaW9uIGJ5IER5bmFtaWNcbiAqIFByb2dyYW1taW5nXyBIYWl6aG91IFdhbmcgYW5kIE1pbmd6aG91IFNvbmcgSVNTTiAyMDczLTQ4NTlcbiAqXG4gKiBmcm9tIFRoZSBSIEpvdXJuYWwgVm9sLiAzLzIsIERlY2VtYmVyIDIwMTFcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geCBpbnB1dCBkYXRhLCBhcyBhbiBhcnJheSBvZiBudW1iZXIgdmFsdWVzXG4gKiBAcGFyYW0ge251bWJlcn0gbkNsdXN0ZXJzIG51bWJlciBvZiBkZXNpcmVkIGNsYXNzZXMuIFRoaXMgY2Fubm90IGJlXG4gKiBncmVhdGVyIHRoYW4gdGhlIG51bWJlciBvZiB2YWx1ZXMgaW4gdGhlIGRhdGEgYXJyYXkuXG4gKiBAcmV0dXJucyB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNsdXN0ZXJlZCBpbnB1dFxuICogQHRocm93cyB7RXJyb3J9IGlmIHRoZSBudW1iZXIgb2YgcmVxdWVzdGVkIGNsdXN0ZXJzIGlzIGhpZ2hlciB0aGFuIHRoZSBzaXplIG9mIHRoZSBkYXRhXG4gKiBAZXhhbXBsZVxuICogY2ttZWFucyhbLTEsIDIsIC0xLCAyLCA0LCA1LCA2LCAtMSwgMiwgLTFdLCAzKTtcbiAqIC8vIFRoZSBpbnB1dCwgY2x1c3RlcmVkIGludG8gZ3JvdXBzIG9mIHNpbWlsYXIgbnVtYmVycy5cbiAqIC8vPSBbWy0xLCAtMSwgLTEsIC0xXSwgWzIsIDIsIDJdLCBbNCwgNSwgNl1dKTtcbiAqL1xuZnVuY3Rpb24gY2ttZWFucyhcbiAgICB4Lyo6IEFycmF5PG51bWJlcj4gKi8sXG4gICAgbkNsdXN0ZXJzLyo6IG51bWJlciAqLykvKjogQXJyYXk8QXJyYXk8bnVtYmVyPj4gKi8ge1xuXG4gICAgaWYgKG5DbHVzdGVycyA+IHgubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IGdlbmVyYXRlIG1vcmUgY2xhc3NlcyB0aGFuIHRoZXJlIGFyZSBkYXRhIHZhbHVlcycpO1xuICAgIH1cblxuICAgIHZhciBzb3J0ZWQgPSBudW1lcmljU29ydCh4KSxcbiAgICAgICAgLy8gd2UnbGwgdXNlIHRoaXMgYXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGNsdXN0ZXJzXG4gICAgICAgIHVuaXF1ZUNvdW50ID0gdW5pcXVlQ291bnRTb3J0ZWQoc29ydGVkKTtcblxuICAgIC8vIGlmIGFsbCBvZiB0aGUgaW5wdXQgdmFsdWVzIGFyZSBpZGVudGljYWwsIHRoZXJlJ3Mgb25lIGNsdXN0ZXJcbiAgICAvLyB3aXRoIGFsbCBvZiB0aGUgaW5wdXQgaW4gaXQuXG4gICAgaWYgKHVuaXF1ZUNvdW50ID09PSAxKSB7XG4gICAgICAgIHJldHVybiBbc29ydGVkXTtcbiAgICB9XG5cbiAgICAvLyBuYW1lZCAnUycgb3JpZ2luYWxseVxuICAgIHZhciBtYXRyaXggPSBtYWtlTWF0cml4KG5DbHVzdGVycywgc29ydGVkLmxlbmd0aCksXG4gICAgICAgIC8vIG5hbWVkICdKJyBvcmlnaW5hbGx5XG4gICAgICAgIGJhY2t0cmFja01hdHJpeCA9IG1ha2VNYXRyaXgobkNsdXN0ZXJzLCBzb3J0ZWQubGVuZ3RoKTtcblxuICAgIC8vIFRoaXMgaXMgYSBkeW5hbWljIHByb2dyYW1taW5nIHdheSB0byBzb2x2ZSB0aGUgcHJvYmxlbSBvZiBtaW5pbWl6aW5nXG4gICAgLy8gd2l0aGluLWNsdXN0ZXIgc3VtIG9mIHNxdWFyZXMuIEl0J3Mgc2ltaWxhciB0byBsaW5lYXIgcmVncmVzc2lvblxuICAgIC8vIGluIHRoaXMgd2F5LCBhbmQgdGhpcyBjYWxjdWxhdGlvbiBpbmNyZW1lbnRhbGx5IGNvbXB1dGVzIHRoZVxuICAgIC8vIHN1bSBvZiBzcXVhcmVzIHRoYXQgYXJlIGxhdGVyIHJlYWQuXG4gICAgZmlsbE1hdHJpY2VzKHNvcnRlZCwgbWF0cml4LCBiYWNrdHJhY2tNYXRyaXgpO1xuXG4gICAgLy8gVGhlIHJlYWwgd29yayBvZiBDa21lYW5zIGNsdXN0ZXJpbmcgaGFwcGVucyBpbiB0aGUgbWF0cml4IGdlbmVyYXRpb246XG4gICAgLy8gdGhlIGdlbmVyYXRlZCBtYXRyaWNlcyBlbmNvZGUgYWxsIHBvc3NpYmxlIGNsdXN0ZXJpbmcgY29tYmluYXRpb25zLCBhbmRcbiAgICAvLyBvbmNlIHRoZXkncmUgZ2VuZXJhdGVkIHdlIGNhbiBzb2x2ZSBmb3IgdGhlIGJlc3QgY2x1c3RlcmluZyBncm91cHNcbiAgICAvLyB2ZXJ5IHF1aWNrbHkuXG4gICAgdmFyIGNsdXN0ZXJzID0gW10sXG4gICAgICAgIGNsdXN0ZXJSaWdodCA9IGJhY2t0cmFja01hdHJpeFswXS5sZW5ndGggLSAxO1xuXG4gICAgLy8gQmFja3RyYWNrIHRoZSBjbHVzdGVycyBmcm9tIHRoZSBkeW5hbWljIHByb2dyYW1taW5nIG1hdHJpeC4gVGhpc1xuICAgIC8vIHN0YXJ0cyBhdCB0aGUgYm90dG9tLXJpZ2h0IGNvcm5lciBvZiB0aGUgbWF0cml4IChpZiB0aGUgdG9wLWxlZnQgaXMgMCwgMCksXG4gICAgLy8gYW5kIG1vdmVzIHRoZSBjbHVzdGVyIHRhcmdldCB3aXRoIHRoZSBsb29wLlxuICAgIGZvciAodmFyIGNsdXN0ZXIgPSBiYWNrdHJhY2tNYXRyaXgubGVuZ3RoIC0gMTsgY2x1c3RlciA+PSAwOyBjbHVzdGVyLS0pIHtcblxuICAgICAgICB2YXIgY2x1c3RlckxlZnQgPSBiYWNrdHJhY2tNYXRyaXhbY2x1c3Rlcl1bY2x1c3RlclJpZ2h0XTtcblxuICAgICAgICAvLyBmaWxsIHRoZSBjbHVzdGVyIGZyb20gdGhlIHNvcnRlZCBpbnB1dCBieSB0YWtpbmcgYSBzbGljZSBvZiB0aGVcbiAgICAgICAgLy8gYXJyYXkuIHRoZSBiYWNrdHJhY2sgbWF0cml4IG1ha2VzIHRoaXMgZWFzeSAtIGl0IHN0b3JlcyB0aGVcbiAgICAgICAgLy8gaW5kZXhlcyB3aGVyZSB0aGUgY2x1c3RlciBzaG91bGQgc3RhcnQgYW5kIGVuZC5cbiAgICAgICAgY2x1c3RlcnNbY2x1c3Rlcl0gPSBzb3J0ZWQuc2xpY2UoY2x1c3RlckxlZnQsIGNsdXN0ZXJSaWdodCArIDEpO1xuXG4gICAgICAgIGlmIChjbHVzdGVyID4gMCkge1xuICAgICAgICAgICAgY2x1c3RlclJpZ2h0ID0gY2x1c3RlckxlZnQgLSAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsdXN0ZXJzO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIHgsIHRoaXMgd2lsbCBmaW5kIHRoZSBleHRlbnQgb2YgdGhlXG4gKiB4IGFuZCByZXR1cm4gYW4gYXJyYXkgb2YgYnJlYWtzIHRoYXQgY2FuIGJlIHVzZWRcbiAqIHRvIGNhdGVnb3JpemUgdGhlIHggaW50byBhIG51bWJlciBvZiBjbGFzc2VzLiBUaGVcbiAqIHJldHVybmVkIGFycmF5IHdpbGwgYWx3YXlzIGJlIDEgbG9uZ2VyIHRoYW4gdGhlIG51bWJlciBvZlxuICogY2xhc3NlcyBiZWNhdXNlIGl0IGluY2x1ZGVzIHRoZSBtaW5pbXVtIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geCBhbiBhcnJheSBvZiBudW1iZXIgdmFsdWVzXG4gKiBAcGFyYW0ge251bWJlcn0gbkNsYXNzZXMgbnVtYmVyIG9mIGRlc2lyZWQgY2xhc3Nlc1xuICogQHJldHVybnMge0FycmF5PG51bWJlcj59IGFycmF5IG9mIGNsYXNzIGJyZWFrIHBvc2l0aW9uc1xuICogQGV4YW1wbGVcbiAqIGVxdWFsSW50ZXJ2YWxCcmVha3MoWzEsIDIsIDMsIDQsIDUsIDZdLCA0KTsgLy8gPT4gWzEsIDIuMjUsIDMuNSwgNC43NSwgNl1cbiAqL1xuZnVuY3Rpb24gZXF1YWxJbnRlcnZhbEJyZWFrcyh4Lyo6IEFycmF5PG51bWJlcj4gKi8sIG5DbGFzc2VzLyo6bnVtYmVyKi8pLyo6IEFycmF5PG51bWJlcj4gKi8ge1xuXG4gICAgaWYgKHgubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9XG5cbiAgICB2YXIgdGhlTWluID0gbWluKHgpO1xuICAgIHZhciB0aGVNYXggPSBtYXgoeCk7XG5cbiAgICAvLyB0aGUgZmlyc3QgYnJlYWsgd2lsbCBhbHdheXMgYmUgdGhlIG1pbmltdW0gdmFsdWVcbiAgICAvLyBpbiB0aGUgeHNldFxuICAgIHZhciBicmVha3MgPSBbdGhlTWluXTtcblxuICAgIC8vIFRoZSBzaXplIG9mIGVhY2ggYnJlYWsgaXMgdGhlIGZ1bGwgcmFuZ2Ugb2YgdGhlIHhcbiAgICAvLyBkaXZpZGVkIGJ5IHRoZSBudW1iZXIgb2YgY2xhc3NlcyByZXF1ZXN0ZWRcbiAgICB2YXIgYnJlYWtTaXplID0gKHRoZU1heCAtIHRoZU1pbikgLyBuQ2xhc3NlcztcblxuICAgIC8vIEluIHRoZSBjYXNlIG9mIG5DbGFzc2VzID0gMSwgdGhpcyBsb29wIHdvbid0IHJ1blxuICAgIC8vIGFuZCB0aGUgcmV0dXJuZWQgYnJlYWtzIHdpbGwgYmUgW21pbiwgbWF4XVxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbkNsYXNzZXM7IGkrKykge1xuICAgICAgICBicmVha3MucHVzaChicmVha3NbMF0gKyBicmVha1NpemUgKiBpKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgbGFzdCBicmVhayB3aWxsIGFsd2F5cyBiZSB0aGVcbiAgICAvLyBtYXhpbXVtLlxuICAgIGJyZWFrcy5wdXNoKHRoZU1heCk7XG5cbiAgICByZXR1cm4gYnJlYWtzO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFtTYW1wbGUgY292YXJpYW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2FtcGxlX21lYW5fYW5kX3NhbXBsZUNvdmFyaWFuY2UpIG9mIHR3byBkYXRhc2V0czpcbiAqIGhvdyBtdWNoIGRvIHRoZSB0d28gZGF0YXNldHMgbW92ZSB0b2dldGhlcj9cbiAqIHggYW5kIHkgYXJlIHR3byBkYXRhc2V0cywgcmVwcmVzZW50ZWQgYXMgYXJyYXlzIG9mIG51bWJlcnMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IGEgc2FtcGxlIG9mIHR3byBvciBtb3JlIGRhdGEgcG9pbnRzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHkgYSBzYW1wbGUgb2YgdHdvIG9yIG1vcmUgZGF0YSBwb2ludHNcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB4IGFuZCB5IGRvIG5vdCBoYXZlIGVxdWFsIGxlbmd0aHNcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB4IG9yIHkgaGF2ZSBsZW5ndGggb2Ygb25lIG9yIGxlc3NcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHNhbXBsZSBjb3ZhcmlhbmNlXG4gKiBAZXhhbXBsZVxuICogc2FtcGxlQ292YXJpYW5jZShbMSwgMiwgMywgNCwgNSwgNl0sIFs2LCA1LCA0LCAzLCAyLCAxXSk7IC8vID0+IC0zLjVcbiAqL1xuZnVuY3Rpb24gc2FtcGxlQ292YXJpYW5jZSh4IC8qOkFycmF5PG51bWJlcj4qLywgeSAvKjpBcnJheTxudW1iZXI+Ki8pLyo6bnVtYmVyKi8ge1xuXG4gICAgLy8gVGhlIHR3byBkYXRhc2V0cyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoIHdoaWNoIG11c3QgYmUgbW9yZSB0aGFuIDFcbiAgICBpZiAoeC5sZW5ndGggIT09IHkubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2FtcGxlQ292YXJpYW5jZSByZXF1aXJlcyBzYW1wbGVzIHdpdGggZXF1YWwgbGVuZ3RocycpO1xuICAgIH1cblxuICAgIGlmICh4Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzYW1wbGVDb3ZhcmlhbmNlIHJlcXVpcmVzIGF0IGxlYXN0IHR3byBkYXRhIHBvaW50cyBpbiBlYWNoIHNhbXBsZScpO1xuICAgIH1cblxuICAgIC8vIGRldGVybWluZSB0aGUgbWVhbiBvZiBlYWNoIGRhdGFzZXQgc28gdGhhdCB3ZSBjYW4ganVkZ2UgZWFjaFxuICAgIC8vIHZhbHVlIG9mIHRoZSBkYXRhc2V0IGZhaXJseSBhcyB0aGUgZGlmZmVyZW5jZSBmcm9tIHRoZSBtZWFuLiB0aGlzXG4gICAgLy8gd2F5LCBpZiBvbmUgZGF0YXNldCBpcyBbMSwgMiwgM10gYW5kIFsyLCAzLCA0XSwgdGhlaXIgY292YXJpYW5jZVxuICAgIC8vIGRvZXMgbm90IHN1ZmZlciBiZWNhdXNlIG9mIHRoZSBkaWZmZXJlbmNlIGluIGFic29sdXRlIHZhbHVlc1xuICAgIHZhciB4bWVhbiA9IG1lYW4oeCksXG4gICAgICAgIHltZWFuID0gbWVhbih5KSxcbiAgICAgICAgc3VtID0gMDtcblxuICAgIC8vIGZvciBlYWNoIHBhaXIgb2YgdmFsdWVzLCB0aGUgY292YXJpYW5jZSBpbmNyZWFzZXMgd2hlbiB0aGVpclxuICAgIC8vIGRpZmZlcmVuY2UgZnJvbSB0aGUgbWVhbiBpcyBhc3NvY2lhdGVkIC0gaWYgYm90aCBhcmUgd2VsbCBhYm92ZVxuICAgIC8vIG9yIGlmIGJvdGggYXJlIHdlbGwgYmVsb3dcbiAgICAvLyB0aGUgbWVhbiwgdGhlIGNvdmFyaWFuY2UgaW5jcmVhc2VzIHNpZ25pZmljYW50bHkuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN1bSArPSAoeFtpXSAtIHhtZWFuKSAqICh5W2ldIC0geW1lYW4pO1xuICAgIH1cblxuICAgIC8vIHRoaXMgaXMgQmVzc2VscycgQ29ycmVjdGlvbjogYW4gYWRqdXN0bWVudCBtYWRlIHRvIHNhbXBsZSBzdGF0aXN0aWNzXG4gICAgLy8gdGhhdCBhbGxvd3MgZm9yIHRoZSByZWR1Y2VkIGRlZ3JlZSBvZiBmcmVlZG9tIGVudGFpbGVkIGluIGNhbGN1bGF0aW5nXG4gICAgLy8gdmFsdWVzIGZyb20gc2FtcGxlcyByYXRoZXIgdGhhbiBjb21wbGV0ZSBwb3B1bGF0aW9ucy5cbiAgICB2YXIgYmVzc2Vsc0NvcnJlY3Rpb24gPSB4Lmxlbmd0aCAtIDE7XG5cbiAgICAvLyB0aGUgY292YXJpYW5jZSBpcyB3ZWlnaHRlZCBieSB0aGUgbGVuZ3RoIG9mIHRoZSBkYXRhc2V0cy5cbiAgICByZXR1cm4gc3VtIC8gYmVzc2Vsc0NvcnJlY3Rpb247XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFtzYW1wbGUgdmFyaWFuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhcmlhbmNlI1NhbXBsZV92YXJpYW5jZSlcbiAqIGlzIHRoZSBzdW0gb2Ygc3F1YXJlZCBkZXZpYXRpb25zIGZyb20gdGhlIG1lYW4uIFRoZSBzYW1wbGUgdmFyaWFuY2VcbiAqIGlzIGRpc3Rpbmd1aXNoZWQgZnJvbSB0aGUgdmFyaWFuY2UgYnkgdGhlIHVzYWdlIG9mIFtCZXNzZWwncyBDb3JyZWN0aW9uXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CZXNzZWwnc19jb3JyZWN0aW9uKTpcbiAqIGluc3RlYWQgb2YgZGl2aWRpbmcgdGhlIHN1bSBvZiBzcXVhcmVkIGRldmlhdGlvbnMgYnkgdGhlIGxlbmd0aCBvZiB0aGUgaW5wdXQsXG4gKiBpdCBpcyBkaXZpZGVkIGJ5IHRoZSBsZW5ndGggbWludXMgb25lLiBUaGlzIGNvcnJlY3RzIHRoZSBiaWFzIGluIGVzdGltYXRpbmdcbiAqIGEgdmFsdWUgZnJvbSBhIHNldCB0aGF0IHlvdSBkb24ndCBrbm93IGlmIGZ1bGwuXG4gKlxuICogUmVmZXJlbmNlczpcbiAqICogW1dvbGZyYW0gTWF0aFdvcmxkIG9uIFNhbXBsZSBWYXJpYW5jZV0oaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9TYW1wbGVWYXJpYW5jZS5odG1sKVxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geCBhIHNhbXBsZSBvZiB0d28gb3IgbW9yZSBkYXRhIHBvaW50c1xuICogQHRocm93cyB7RXJyb3J9IGlmIHRoZSBsZW5ndGggb2YgeCBpcyBsZXNzIHRoYW4gMlxuICogQHJldHVybiB7bnVtYmVyfSBzYW1wbGUgdmFyaWFuY2VcbiAqIEBleGFtcGxlXG4gKiBzYW1wbGVWYXJpYW5jZShbMSwgMiwgMywgNCwgNV0pOyAvLyA9PiAyLjVcbiAqL1xuZnVuY3Rpb24gc2FtcGxlVmFyaWFuY2UoeCAvKjogQXJyYXk8bnVtYmVyPiAqLykvKjpudW1iZXIqLyB7XG4gICAgLy8gVGhlIHZhcmlhbmNlIG9mIG5vIG51bWJlcnMgaXMgbnVsbFxuICAgIGlmICh4Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzYW1wbGVWYXJpYW5jZSByZXF1aXJlcyBhdCBsZWFzdCB0d28gZGF0YSBwb2ludHMnKTtcbiAgICB9XG5cbiAgICB2YXIgc3VtU3F1YXJlZERldmlhdGlvbnNWYWx1ZSA9IHN1bU50aFBvd2VyRGV2aWF0aW9ucyh4LCAyKTtcblxuICAgIC8vIHRoaXMgaXMgQmVzc2VscycgQ29ycmVjdGlvbjogYW4gYWRqdXN0bWVudCBtYWRlIHRvIHNhbXBsZSBzdGF0aXN0aWNzXG4gICAgLy8gdGhhdCBhbGxvd3MgZm9yIHRoZSByZWR1Y2VkIGRlZ3JlZSBvZiBmcmVlZG9tIGVudGFpbGVkIGluIGNhbGN1bGF0aW5nXG4gICAgLy8gdmFsdWVzIGZyb20gc2FtcGxlcyByYXRoZXIgdGhhbiBjb21wbGV0ZSBwb3B1bGF0aW9ucy5cbiAgICB2YXIgYmVzc2Vsc0NvcnJlY3Rpb24gPSB4Lmxlbmd0aCAtIDE7XG5cbiAgICAvLyBGaW5kIHRoZSBtZWFuIHZhbHVlIG9mIHRoYXQgbGlzdFxuICAgIHJldHVybiBzdW1TcXVhcmVkRGV2aWF0aW9uc1ZhbHVlIC8gYmVzc2Vsc0NvcnJlY3Rpb247XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFtzYW1wbGUgc3RhbmRhcmQgZGV2aWF0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N0YW5kYXJkX2RldmlhdGlvbiNTYW1wbGVfc3RhbmRhcmRfZGV2aWF0aW9uKVxuICogaXMgdGhlIHNxdWFyZSByb290IG9mIHRoZSBzYW1wbGUgdmFyaWFuY2UuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IGlucHV0IGFycmF5XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBzYW1wbGUgc3RhbmRhcmQgZGV2aWF0aW9uXG4gKiBAZXhhbXBsZVxuICogc2FtcGxlU3RhbmRhcmREZXZpYXRpb24oWzIsIDQsIDQsIDQsIDUsIDUsIDcsIDldKS50b0ZpeGVkKDIpO1xuICogLy8gPT4gJzIuMTQnXG4gKi9cbmZ1bmN0aW9uIHNhbXBsZVN0YW5kYXJkRGV2aWF0aW9uKHgvKjpBcnJheTxudW1iZXI+Ki8pLyo6bnVtYmVyKi8ge1xuICAgIC8vIFRoZSBzdGFuZGFyZCBkZXZpYXRpb24gb2Ygbm8gbnVtYmVycyBpcyBudWxsXG4gICAgdmFyIHNhbXBsZVZhcmlhbmNlWCA9IHNhbXBsZVZhcmlhbmNlKHgpO1xuICAgIHJldHVybiBNYXRoLnNxcnQoc2FtcGxlVmFyaWFuY2VYKTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgW2NvcnJlbGF0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvcnJlbGF0aW9uX2FuZF9kZXBlbmRlbmNlKSBpc1xuICogYSBtZWFzdXJlIG9mIGhvdyBjb3JyZWxhdGVkIHR3byBkYXRhc2V0cyBhcmUsIGJldHdlZW4gLTEgYW5kIDFcbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggZmlyc3QgaW5wdXRcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geSBzZWNvbmQgaW5wdXRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHNhbXBsZSBjb3JyZWxhdGlvblxuICogQGV4YW1wbGVcbiAqIHNhbXBsZUNvcnJlbGF0aW9uKFsxLCAyLCAzLCA0LCA1LCA2XSwgWzIsIDIsIDMsIDQsIDUsIDYwXSkudG9GaXhlZCgyKTtcbiAqIC8vID0+ICcwLjY5J1xuICovXG5mdW5jdGlvbiBzYW1wbGVDb3JyZWxhdGlvbih4Lyo6IEFycmF5PG51bWJlcj4gKi8sIHkvKjogQXJyYXk8bnVtYmVyPiAqLykvKjpudW1iZXIqLyB7XG4gICAgdmFyIGNvdiA9IHNhbXBsZUNvdmFyaWFuY2UoeCwgeSksXG4gICAgICAgIHhzdGQgPSBzYW1wbGVTdGFuZGFyZERldmlhdGlvbih4KSxcbiAgICAgICAgeXN0ZCA9IHNhbXBsZVN0YW5kYXJkRGV2aWF0aW9uKHkpO1xuXG4gICAgcmV0dXJuIGNvdiAvIHhzdGQgLyB5c3RkO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFtTa2V3bmVzc10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Ta2V3bmVzcykgaXNcbiAqIGEgbWVhc3VyZSBvZiB0aGUgZXh0ZW50IHRvIHdoaWNoIGEgcHJvYmFiaWxpdHkgZGlzdHJpYnV0aW9uIG9mIGFcbiAqIHJlYWwtdmFsdWVkIHJhbmRvbSB2YXJpYWJsZSBcImxlYW5zXCIgdG8gb25lIHNpZGUgb2YgdGhlIG1lYW4uXG4gKiBUaGUgc2tld25lc3MgdmFsdWUgY2FuIGJlIHBvc2l0aXZlIG9yIG5lZ2F0aXZlLCBvciBldmVuIHVuZGVmaW5lZC5cbiAqXG4gKiBJbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBvbiB0aGUgYWRqdXN0ZWQgRmlzaGVyLVBlYXJzb24gc3RhbmRhcmRpemVkXG4gKiBtb21lbnQgY29lZmZpY2llbnQsIHdoaWNoIGlzIHRoZSB2ZXJzaW9uIGZvdW5kIGluIEV4Y2VsIGFuZCBzZXZlcmFsXG4gKiBzdGF0aXN0aWNhbCBwYWNrYWdlcyBpbmNsdWRpbmcgTWluaXRhYiwgU0FTIGFuZCBTUFNTLlxuICpcbiAqIEBzaW5jZSA0LjEuMFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IGEgc2FtcGxlIG9mIDMgb3IgbW9yZSBkYXRhIHBvaW50c1xuICogQHJldHVybnMge251bWJlcn0gc2FtcGxlIHNrZXduZXNzXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgeCBoYXMgbGVuZ3RoIGxlc3MgdGhhbiAzXG4gKiBAZXhhbXBsZVxuICogc2FtcGxlU2tld25lc3MoWzIsIDQsIDYsIDMsIDFdKTsgLy8gPT4gMC41OTAxMjg2NTYzODQzNjVcbiAqL1xuZnVuY3Rpb24gc2FtcGxlU2tld25lc3MoeCAvKjogQXJyYXk8bnVtYmVyPiAqLykvKjpudW1iZXIqLyB7XG5cbiAgICBpZiAoeC5sZW5ndGggPCAzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2FtcGxlU2tld25lc3MgcmVxdWlyZXMgYXQgbGVhc3QgdGhyZWUgZGF0YSBwb2ludHMnKTtcbiAgICB9XG5cbiAgICB2YXIgbWVhblZhbHVlID0gbWVhbih4KTtcbiAgICB2YXIgdGVtcFZhbHVlO1xuICAgIHZhciBzdW1TcXVhcmVkRGV2aWF0aW9ucyA9IDA7XG4gICAgdmFyIHN1bUN1YmVkRGV2aWF0aW9ucyA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGVtcFZhbHVlID0geFtpXSAtIG1lYW5WYWx1ZTtcbiAgICAgICAgc3VtU3F1YXJlZERldmlhdGlvbnMgKz0gdGVtcFZhbHVlICogdGVtcFZhbHVlO1xuICAgICAgICBzdW1DdWJlZERldmlhdGlvbnMgKz0gdGVtcFZhbHVlICogdGVtcFZhbHVlICogdGVtcFZhbHVlO1xuICAgIH1cblxuICAgIC8vIHRoaXMgaXMgQmVzc2VscycgQ29ycmVjdGlvbjogYW4gYWRqdXN0bWVudCBtYWRlIHRvIHNhbXBsZSBzdGF0aXN0aWNzXG4gICAgLy8gdGhhdCBhbGxvd3MgZm9yIHRoZSByZWR1Y2VkIGRlZ3JlZSBvZiBmcmVlZG9tIGVudGFpbGVkIGluIGNhbGN1bGF0aW5nXG4gICAgLy8gdmFsdWVzIGZyb20gc2FtcGxlcyByYXRoZXIgdGhhbiBjb21wbGV0ZSBwb3B1bGF0aW9ucy5cbiAgICB2YXIgYmVzc2Vsc0NvcnJlY3Rpb24gPSB4Lmxlbmd0aCAtIDE7XG5cbiAgICAvLyBGaW5kIHRoZSBtZWFuIHZhbHVlIG9mIHRoYXQgbGlzdFxuICAgIHZhciB0aGVTYW1wbGVTdGFuZGFyZERldmlhdGlvbiA9IE1hdGguc3FydChzdW1TcXVhcmVkRGV2aWF0aW9ucyAvIGJlc3NlbHNDb3JyZWN0aW9uKTtcblxuICAgIHZhciBuID0geC5sZW5ndGgsXG4gICAgICAgIGN1YmVkUyA9IE1hdGgucG93KHRoZVNhbXBsZVN0YW5kYXJkRGV2aWF0aW9uLCAzKTtcblxuICAgIHJldHVybiBuICogc3VtQ3ViZWREZXZpYXRpb25zIC8gKChuIC0gMSkgKiAobiAtIDIpICogY3ViZWRTKTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBbS3VydG9zaXNdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvS3VydG9zaXMpIGlzXG4gKiBhIG1lYXN1cmUgb2YgdGhlIGhlYXZpbmVzcyBvZiBhIGRpc3RyaWJ1dGlvbidzIHRhaWxzIHJlbGF0aXZlIHRvIGl0c1xuICogdmFyaWFuY2UuIFRoZSBrdXJ0b3NpcyB2YWx1ZSBjYW4gYmUgcG9zaXRpdmUgb3IgbmVnYXRpdmUsIG9yIGV2ZW4gdW5kZWZpbmVkLlxuICpcbiAqIEltcGxlbWVudGF0aW9uIGlzIGJhc2VkIG9uIEZpc2hlcidzIGV4Y2VzcyBrdXJ0b3NpcyBkZWZpbml0aW9uIGFuZCB1c2VzXG4gKiB1bmJpYXNlZCBtb21lbnQgZXN0aW1hdG9ycy4gVGhpcyBpcyB0aGUgdmVyc2lvbiBmb3VuZCBpbiBFeGNlbCBhbmQgYXZhaWxhYmxlXG4gKiBpbiBzZXZlcmFsIHN0YXRpc3RpY2FsIHBhY2thZ2VzLCBpbmNsdWRpbmcgU0FTIGFuZCBTY2lQeS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggYSBzYW1wbGUgb2YgNCBvciBtb3JlIGRhdGEgcG9pbnRzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBzYW1wbGUga3VydG9zaXNcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB4IGhhcyBsZW5ndGggbGVzcyB0aGFuIDRcbiAqIEBleGFtcGxlXG4gKiBzYW1wbGVLdXJ0b3NpcyhbMSwgMiwgMiwgMywgNV0pOyAvLyA9PiAxLjQ1NTU3NjU1OTU0NjMxMjJcbiAqL1xuZnVuY3Rpb24gc2FtcGxlS3VydG9zaXMoeCAvKjogQXJyYXk8bnVtYmVyPiAqLykvKjpudW1iZXIqLyB7XG5cbiAgICB2YXIgbiA9IHgubGVuZ3RoO1xuXG4gICAgaWYgKG4gPCA0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2FtcGxlS3VydG9zaXMgcmVxdWlyZXMgYXQgbGVhc3QgZm91ciBkYXRhIHBvaW50cycpO1xuICAgIH1cblxuICAgIHZhciBtZWFuVmFsdWUgPSBtZWFuKHgpO1xuICAgIHZhciB0ZW1wVmFsdWU7XG4gICAgdmFyIHNlY29uZENlbnRyYWxNb21lbnQgPSAwO1xuICAgIHZhciBmb3VydGhDZW50cmFsTW9tZW50ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHRlbXBWYWx1ZSA9IHhbaV0gLSBtZWFuVmFsdWU7XG4gICAgICAgIHNlY29uZENlbnRyYWxNb21lbnQgKz0gdGVtcFZhbHVlICogdGVtcFZhbHVlO1xuICAgICAgICBmb3VydGhDZW50cmFsTW9tZW50ICs9IHRlbXBWYWx1ZSAqIHRlbXBWYWx1ZSAqIHRlbXBWYWx1ZSAqIHRlbXBWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKG4gLSAxKSAvICgobiAtIDIpICogKG4gLSAzKSkgKlxuICAgICAgICAobiAqIChuICsgMSkgKiBmb3VydGhDZW50cmFsTW9tZW50IC8gKHNlY29uZENlbnRyYWxNb21lbnQgKiBzZWNvbmRDZW50cmFsTW9tZW50KSAtIDMgKiAobiAtIDEpKTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBbSGVhcCdzIEFsZ29yaXRobV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGVhcCUyN3NfYWxnb3JpdGhtKVxuICogZm9yIGdlbmVyYXRpbmcgcGVybXV0YXRpb25zLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnRzIGFueSB0eXBlIG9mIGRhdGFcbiAqIEByZXR1cm5zIHtBcnJheTxBcnJheT59IGFycmF5IG9mIHBlcm11dGF0aW9uc1xuICovXG5mdW5jdGlvbiBwZXJtdXRhdGlvbnNIZWFwLyo6OiA8VD4gKi8oZWxlbWVudHMgLyo6IEFycmF5PFQ+ICovKS8qOiBBcnJheTxBcnJheTxUPj4gKi8ge1xuICAgIHZhciBpbmRleGVzID0gbmV3IEFycmF5KGVsZW1lbnRzLmxlbmd0aCk7XG4gICAgdmFyIHBlcm11dGF0aW9ucyA9IFtlbGVtZW50cy5zbGljZSgpXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5kZXhlc1tpXSA9IDA7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDspIHtcbiAgICAgICAgaWYgKGluZGV4ZXNbaV0gPCBpKSB7XG5cbiAgICAgICAgICAgIC8vIEF0IG9kZCBpbmRleGVzLCBzd2FwIGZyb20gaW5kZXhlc1tpXSBpbnN0ZWFkXG4gICAgICAgICAgICAvLyBvZiBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XG4gICAgICAgICAgICB2YXIgc3dhcEZyb20gPSAwO1xuICAgICAgICAgICAgaWYgKGkgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgc3dhcEZyb20gPSBpbmRleGVzW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzd2FwIGJldHdlZW4gc3dhcEZyb20gYW5kIGksIHVzaW5nXG4gICAgICAgICAgICAvLyBhIHRlbXBvcmFyeSB2YXJpYWJsZSBhcyBzdG9yYWdlLlxuICAgICAgICAgICAgdmFyIHRlbXAgPSBlbGVtZW50c1tzd2FwRnJvbV07XG4gICAgICAgICAgICBlbGVtZW50c1tzd2FwRnJvbV0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldID0gdGVtcDtcblxuICAgICAgICAgICAgcGVybXV0YXRpb25zLnB1c2goZWxlbWVudHMuc2xpY2UoKSk7XG4gICAgICAgICAgICBpbmRleGVzW2ldKys7XG4gICAgICAgICAgICBpID0gMDtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXhlc1tpXSA9IDA7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcGVybXV0YXRpb25zO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIENvbWJpbmF0aW9uc1xuICogQ29tYmluYXRpb25zIGFyZSB1bmlxdWUgc3Vic2V0cyBvZiBhIGNvbGxlY3Rpb24gLSBpbiB0aGlzIGNhc2UsIGsgeCBmcm9tIGEgY29sbGVjdGlvbiBhdCBhIHRpbWUuXG4gKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5hdGlvblxuICogQHBhcmFtIHtBcnJheX0geCBhbnkgdHlwZSBvZiBkYXRhXG4gKiBAcGFyYW0ge2ludH0gayB0aGUgbnVtYmVyIG9mIG9iamVjdHMgaW4gZWFjaCBncm91cCAod2l0aG91dCByZXBsYWNlbWVudClcbiAqIEByZXR1cm5zIHtBcnJheTxBcnJheT59IGFycmF5IG9mIHBlcm11dGF0aW9uc1xuICogQGV4YW1wbGVcbiAqIGNvbWJpbmF0aW9ucyhbMSwgMiwgM10sIDIpOyAvLyA9PiBbWzEsMl0sIFsxLDNdLCBbMiwzXV1cbiAqL1xuXG5mdW5jdGlvbiBjb21iaW5hdGlvbnMoXG4gICAgeC8qOiBBcnJheTxhbnk+ICovLFxuICAgIGsvKjogbnVtYmVyICovKS8qOiBBcnJheTxBcnJheTxhbnk+PiAqLyB7XG4gICAgdmFyIGk7XG4gICAgdmFyIHN1Ykk7XG4gICAgdmFyIGNvbWJpbmF0aW9uTGlzdCA9IFtdO1xuICAgIHZhciBzdWJzZXRDb21iaW5hdGlvbnM7XG4gICAgdmFyIG5leHQ7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoayA9PT0gMSkge1xuICAgICAgICAgICAgY29tYmluYXRpb25MaXN0LnB1c2goW3hbaV1dKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNldENvbWJpbmF0aW9ucyA9IGNvbWJpbmF0aW9ucyh4LnNsaWNlKCBpICsgMSwgeC5sZW5ndGggKSwgayAtIDEpO1xuICAgICAgICAgICAgZm9yIChzdWJJID0gMDsgc3ViSSA8IHN1YnNldENvbWJpbmF0aW9ucy5sZW5ndGg7IHN1YkkrKykge1xuICAgICAgICAgICAgICAgIG5leHQgPSBzdWJzZXRDb21iaW5hdGlvbnNbc3ViSV07XG4gICAgICAgICAgICAgICAgbmV4dC51bnNoaWZ0KHhbaV0pO1xuICAgICAgICAgICAgICAgIGNvbWJpbmF0aW9uTGlzdC5wdXNoKG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21iaW5hdGlvbkxpc3Q7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogSW1wbGVtZW50YXRpb24gb2YgW0NvbWJpbmF0aW9uc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluYXRpb24pIHdpdGggcmVwbGFjZW1lbnRcbiAqIENvbWJpbmF0aW9ucyBhcmUgdW5pcXVlIHN1YnNldHMgb2YgYSBjb2xsZWN0aW9uIC0gaW4gdGhpcyBjYXNlLCBrIHggZnJvbSBhIGNvbGxlY3Rpb24gYXQgYSB0aW1lLlxuICogJ1dpdGggcmVwbGFjZW1lbnQnIG1lYW5zIHRoYXQgYSBnaXZlbiBlbGVtZW50IGNhbiBiZSBjaG9zZW4gbXVsdGlwbGUgdGltZXMuXG4gKiBVbmxpa2UgcGVybXV0YXRpb24sIG9yZGVyIGRvZXNuJ3QgbWF0dGVyIGZvciBjb21iaW5hdGlvbnMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0geCBhbnkgdHlwZSBvZiBkYXRhXG4gKiBAcGFyYW0ge2ludH0gayB0aGUgbnVtYmVyIG9mIG9iamVjdHMgaW4gZWFjaCBncm91cCAod2l0aG91dCByZXBsYWNlbWVudClcbiAqIEByZXR1cm5zIHtBcnJheTxBcnJheT59IGFycmF5IG9mIHBlcm11dGF0aW9uc1xuICogQGV4YW1wbGVcbiAqIGNvbWJpbmF0aW9uc1JlcGxhY2VtZW50KFsxLCAyXSwgMik7IC8vID0+IFtbMSwgMV0sIFsxLCAyXSwgWzIsIDJdXVxuICovXG5mdW5jdGlvbiBjb21iaW5hdGlvbnNSZXBsYWNlbWVudChcbiAgICB4IC8qOiBBcnJheTxhbnk+ICovLFxuICAgIGsgLyo6IG51bWJlciAqLykvKjogQXJyYXk8QXJyYXk8YW55Pj4gKi8ge1xuXG4gICAgdmFyIGNvbWJpbmF0aW9uTGlzdCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChrID09PSAxKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSByZXF1ZXN0ZWQgdG8gZmluZCBvbmx5IG9uZSBlbGVtZW50LCB3ZSBkb24ndCBuZWVkXG4gICAgICAgICAgICAvLyB0byByZWN1cnNlOiBqdXN0IHB1c2ggYHhbaV1gIG9udG8gdGhlIGxpc3Qgb2YgY29tYmluYXRpb25zLlxuICAgICAgICAgICAgY29tYmluYXRpb25MaXN0LnB1c2goW3hbaV1dKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgcmVjdXJzaXZlbHkgZmluZCBjb21iaW5hdGlvbnMsIGdpdmVuIGBrIC0gMWAuIE5vdGUgdGhhdFxuICAgICAgICAgICAgLy8gd2UgcmVxdWVzdCBgayAtIDFgLCBzbyBpZiB5b3Ugd2VyZSBsb29raW5nIGZvciBrPTMgY29tYmluYXRpb25zLCB3ZSdyZVxuICAgICAgICAgICAgLy8gcmVxdWVzdGluZyBrPTIuIFRoaXMgLTEgZ2V0cyByZXZlcnNlZCBpbiB0aGUgZm9yIGxvb3AgcmlnaHQgYWZ0ZXIgdGhpc1xuICAgICAgICAgICAgLy8gY29kZSwgc2luY2Ugd2UgY29uY2F0ZW5hdGUgYHhbaV1gIG9udG8gdGhlIHNlbGVjdGVkIGNvbWJpbmF0aW9ucyxcbiAgICAgICAgICAgIC8vIGJyaW5naW5nIGBrYCBiYWNrIHVwIHRvIHlvdXIgcmVxdWVzdGVkIGxldmVsLlxuICAgICAgICAgICAgLy8gVGhpcyByZWN1cnNpb24gbWF5IGdvIG1hbnkgbGV2ZWxzIGRlZXAsIHNpbmNlIGl0IG9ubHkgc3RvcHMgb25jZVxuICAgICAgICAgICAgLy8gaz0xLlxuICAgICAgICAgICAgdmFyIHN1YnNldENvbWJpbmF0aW9ucyA9IGNvbWJpbmF0aW9uc1JlcGxhY2VtZW50KFxuICAgICAgICAgICAgICAgIHguc2xpY2UoaSwgeC5sZW5ndGgpLFxuICAgICAgICAgICAgICAgIGsgLSAxKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdWJzZXRDb21iaW5hdGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb21iaW5hdGlvbkxpc3QucHVzaChbeFtpXV1cbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChzdWJzZXRDb21iaW5hdGlvbnNbal0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21iaW5hdGlvbkxpc3Q7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogV2hlbiBhZGRpbmcgYSBuZXcgdmFsdWUgdG8gYSBsaXN0LCBvbmUgZG9lcyBub3QgaGF2ZSB0byBuZWNlc3NhcnlcbiAqIHJlY29tcHV0ZSB0aGUgbWVhbiBvZiB0aGUgbGlzdCBpbiBsaW5lYXIgdGltZS4gVGhleSBjYW4gaW5zdGVhZCB1c2VcbiAqIHRoaXMgZnVuY3Rpb24gdG8gY29tcHV0ZSB0aGUgbmV3IG1lYW4gYnkgcHJvdmlkaW5nIHRoZSBjdXJyZW50IG1lYW4sXG4gKiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBsaXN0IHRoYXQgcHJvZHVjZWQgaXQgYW5kIHRoZSBuZXdcbiAqIHZhbHVlIHRvIGFkZC5cbiAqXG4gKiBAc2luY2UgMi41LjBcbiAqIEBwYXJhbSB7bnVtYmVyfSBtZWFuIGN1cnJlbnQgbWVhblxuICogQHBhcmFtIHtudW1iZXJ9IG4gbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBsaXN0XG4gKiBAcGFyYW0ge251bWJlcn0gbmV3VmFsdWUgdGhlIGFkZGVkIHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgbmV3IG1lYW5cbiAqXG4gKiBAZXhhbXBsZVxuICogYWRkVG9NZWFuKDE0LCA1LCA1Myk7IC8vID0+IDIwLjVcbiAqL1xuZnVuY3Rpb24gYWRkVG9NZWFuKG1lYW4gLyo6IG51bWJlciovLCBuLyo6IG51bWJlciAqLywgbmV3VmFsdWUvKjogbnVtYmVyICovKS8qOiBudW1iZXIgKi8ge1xuICAgIHJldHVybiBtZWFuICsgKChuZXdWYWx1ZSAtIG1lYW4pIC8gKG4gKyAxKSk7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogV2hlbiBjb21iaW5pbmcgdHdvIGxpc3RzIG9mIHZhbHVlcyBmb3Igd2hpY2ggb25lIGFscmVhZHkga25vd3MgdGhlIG1lYW5zLFxuICogb25lIGRvZXMgbm90IGhhdmUgdG8gbmVjZXNzYXJ5IHJlY29tcHV0ZSB0aGUgbWVhbiBvZiB0aGUgY29tYmluZWQgbGlzdHMgaW5cbiAqIGxpbmVhciB0aW1lLiBUaGV5IGNhbiBpbnN0ZWFkIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGNvbXB1dGUgdGhlIGNvbWJpbmVkXG4gKiBtZWFuIGJ5IHByb3ZpZGluZyB0aGUgbWVhbiAmIG51bWJlciBvZiB2YWx1ZXMgb2YgdGhlIGZpcnN0IGxpc3QgYW5kIHRoZSBtZWFuXG4gKiAmIG51bWJlciBvZiB2YWx1ZXMgb2YgdGhlIHNlY29uZCBsaXN0LlxuICpcbiAqIEBzaW5jZSAzLjAuMFxuICogQHBhcmFtIHtudW1iZXJ9IG1lYW4xIG1lYW4gb2YgdGhlIGZpcnN0IGxpc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMSBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIGZpcnN0IGxpc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBtZWFuMiBtZWFuIG9mIHRoZSBzZWNvbmQgbGlzdFxuICogQHBhcmFtIHtudW1iZXJ9IG4yIG51bWJlciBvZiBpdGVtcyBpbiB0aGUgc2Vjb25kIGxpc3RcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBjb21iaW5lZCBtZWFuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbWJpbmVNZWFucyg1LCAzLCA0LCAzKTsgLy8gPT4gNC41XG4gKi9cbmZ1bmN0aW9uIGNvbWJpbmVNZWFucyhtZWFuMSAvKjogbnVtYmVyKi8sIG4xLyo6IG51bWJlciAqLywgbWVhbjIgLyo6IG51bWJlciovLCBuMi8qOiBudW1iZXIgKi8pLyo6IG51bWJlciAqLyB7XG4gICAgcmV0dXJuIChtZWFuMSAqIG4xICsgbWVhbjIgKiBuMikgLyAobjEgKyBuMik7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogV2hlbiBjb21iaW5pbmcgdHdvIGxpc3RzIG9mIHZhbHVlcyBmb3Igd2hpY2ggb25lIGFscmVhZHkga25vd3MgdGhlIHZhcmlhbmNlcyxcbiAqIG9uZSBkb2VzIG5vdCBoYXZlIHRvIG5lY2Vzc2FyeSByZWNvbXB1dGUgdGhlIHZhcmlhbmNlIG9mIHRoZSBjb21iaW5lZCBsaXN0c1xuICogaW4gbGluZWFyIHRpbWUuIFRoZXkgY2FuIGluc3RlYWQgdXNlIHRoaXMgZnVuY3Rpb24gdG8gY29tcHV0ZSB0aGUgY29tYmluZWRcbiAqIHZhcmlhbmNlIGJ5IHByb3ZpZGluZyB0aGUgdmFyaWFuY2UsIG1lYW4gJiBudW1iZXIgb2YgdmFsdWVzIG9mIHRoZSBmaXJzdCBsaXN0XG4gKiBhbmQgdGhlIHZhcmlhbmNlLCBtZWFuICYgbnVtYmVyIG9mIHZhbHVlcyBvZiB0aGUgc2Vjb25kIGxpc3QuXG4gKlxuICogQHNpbmNlIDMuMC4wXG4gKiBAcGFyYW0ge251bWJlcn0gdmFyaWFuY2UxIHZhcmlhbmNlIG9mIHRoZSBmaXJzdCBsaXN0XG4gKiBAcGFyYW0ge251bWJlcn0gbWVhbjEgbWVhbiBvZiB0aGUgZmlyc3QgbGlzdFxuICogQHBhcmFtIHtudW1iZXJ9IG4xIG51bWJlciBvZiBpdGVtcyBpbiB0aGUgZmlyc3QgbGlzdFxuICogQHBhcmFtIHtudW1iZXJ9IHZhcmlhbmNlMiB2YXJpYW5jZSBvZiB0aGUgc2Vjb25kIGxpc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBtZWFuMiBtZWFuIG9mIHRoZSBzZWNvbmQgbGlzdFxuICogQHBhcmFtIHtudW1iZXJ9IG4yIG51bWJlciBvZiBpdGVtcyBpbiB0aGUgc2Vjb25kIGxpc3RcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBjb21iaW5lZCBtZWFuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbWJpbmVWYXJpYW5jZXMoMTQgLyAzLCA1LCAzLCA4IC8gMywgNCwgMyk7IC8vID0+IDQ3IC8gMTJcbiAqL1xuZnVuY3Rpb24gY29tYmluZVZhcmlhbmNlcyhcbiAgICB2YXJpYW5jZTEgLyo6IG51bWJlciovLFxuICAgIG1lYW4xIC8qOiBudW1iZXIqLyxcbiAgICBuMS8qOiBudW1iZXIgKi8sXG4gICAgdmFyaWFuY2UyIC8qOiBudW1iZXIqLyxcbiAgICBtZWFuMiAvKjogbnVtYmVyKi8sXG4gICAgbjIvKjogbnVtYmVyICovKS8qOiBudW1iZXIgKi8ge1xuXG4gICAgdmFyIG5ld01lYW4gPSBjb21iaW5lTWVhbnMobWVhbjEsIG4xLCBtZWFuMiwgbjIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgbjEgKiAodmFyaWFuY2UxICsgTWF0aC5wb3cobWVhbjEgLSBuZXdNZWFuLCAyKSkgK1xuICAgICAgICBuMiAqICh2YXJpYW5jZTIgKyBNYXRoLnBvdyhtZWFuMiAtIG5ld01lYW4sIDIpKVxuICAgICkgLyAobjEgKyBuMik7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFtHZW9tZXRyaWMgTWVhbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2VvbWV0cmljX21lYW4pIGlzXG4gKiBhIG1lYW4gZnVuY3Rpb24gdGhhdCBpcyBtb3JlIHVzZWZ1bCBmb3IgbnVtYmVycyBpbiBkaWZmZXJlbnRcbiAqIHJhbmdlcy5cbiAqXG4gKiBUaGlzIGlzIHRoZSBudGggcm9vdCBvZiB0aGUgaW5wdXQgbnVtYmVycyBtdWx0aXBsaWVkIGJ5IGVhY2ggb3RoZXIuXG4gKlxuICogVGhlIGdlb21ldHJpYyBtZWFuIGlzIG9mdGVuIHVzZWZ1bCBmb3JcbiAqICoqW3Byb3BvcnRpb25hbCBncm93dGhdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dlb21ldHJpY19tZWFuI1Byb3BvcnRpb25hbF9ncm93dGgpKio6IGdpdmVuXG4gKiBncm93dGggcmF0ZXMgZm9yIG11bHRpcGxlIHllYXJzLCBsaWtlIF84MCUsIDE2LjY2JSBhbmQgNDIuODUlXywgYSBzaW1wbGVcbiAqIG1lYW4gd2lsbCBpbmNvcnJlY3RseSBlc3RpbWF0ZSBhbiBhdmVyYWdlIGdyb3d0aCByYXRlLCB3aGVyZWFzIGEgZ2VvbWV0cmljXG4gKiBtZWFuIHdpbGwgY29ycmVjdGx5IGVzdGltYXRlIGEgZ3Jvd3RoIHJhdGUgdGhhdCwgb3ZlciB0aG9zZSB5ZWFycyxcbiAqIHdpbGwgeWllbGQgdGhlIHNhbWUgZW5kIHZhbHVlLlxuICpcbiAqIFRoaXMgcnVucyBvbiBgTyhuKWAsIGxpbmVhciB0aW1lIGluIHJlc3BlY3QgdG8gdGhlIGFycmF5XG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IHNhbXBsZSBvZiBvbmUgb3IgbW9yZSBkYXRhIHBvaW50c1xuICogQHJldHVybnMge251bWJlcn0gZ2VvbWV0cmljIG1lYW5cbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB4IGlzIGVtcHR5XG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgeCBjb250YWlucyBhIG5lZ2F0aXZlIG51bWJlclxuICogQGV4YW1wbGVcbiAqIHZhciBncm93dGhSYXRlcyA9IFsxLjgwLCAxLjE2NjY2NiwgMS40Mjg1NzFdO1xuICogdmFyIGF2ZXJhZ2VHcm93dGggPSBzcy5nZW9tZXRyaWNNZWFuKGdyb3d0aFJhdGVzKTtcbiAqIHZhciBhdmVyYWdlR3Jvd3RoUmF0ZXMgPSBbYXZlcmFnZUdyb3d0aCwgYXZlcmFnZUdyb3d0aCwgYXZlcmFnZUdyb3d0aF07XG4gKiB2YXIgc3RhcnRpbmdWYWx1ZSA9IDEwO1xuICogdmFyIHN0YXJ0aW5nVmFsdWVNZWFuID0gMTA7XG4gKiBncm93dGhSYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHJhdGUpIHtcbiAqICAgc3RhcnRpbmdWYWx1ZSAqPSByYXRlO1xuICogfSk7XG4gKiBhdmVyYWdlR3Jvd3RoUmF0ZXMuZm9yRWFjaChmdW5jdGlvbihyYXRlKSB7XG4gKiAgIHN0YXJ0aW5nVmFsdWVNZWFuICo9IHJhdGU7XG4gKiB9KTtcbiAqIHN0YXJ0aW5nVmFsdWVNZWFuID09PSBzdGFydGluZ1ZhbHVlO1xuICovXG5mdW5jdGlvbiBnZW9tZXRyaWNNZWFuKHggLyo6IEFycmF5PG51bWJlcj4gKi8pLyo6IG51bWJlciAqLyB7XG4gICAgLy8gVGhlIG1lYW4gb2Ygbm8gbnVtYmVycyBpcyBudWxsXG4gICAgaWYgKHgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZ2VvbWV0cmljTWVhbiByZXF1aXJlcyBhdCBsZWFzdCBvbmUgZGF0YSBwb2ludCcpO1xuICAgIH1cblxuICAgIC8vIHRoZSBzdGFydGluZyB2YWx1ZS5cbiAgICB2YXIgdmFsdWUgPSAxO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIHRoZSBnZW9tZXRyaWMgbWVhbiBpcyBvbmx5IHZhbGlkIGZvciBwb3NpdGl2ZSBudW1iZXJzXG4gICAgICAgIGlmICh4W2ldIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2VvbWV0cmljTWVhbiByZXF1aXJlcyBvbmx5IHBvc2l0aXZlIG51bWJlcnMgYXMgaW5wdXQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlcGVhdGVkbHkgbXVsdGlwbHkgdGhlIHZhbHVlIGJ5IGVhY2ggbnVtYmVyXG4gICAgICAgIHZhbHVlICo9IHhbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGgucG93KHZhbHVlLCAxIC8geC5sZW5ndGgpO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoZSBbSGFybW9uaWMgTWVhbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGFybW9uaWNfbWVhbikgaXNcbiAqIGEgbWVhbiBmdW5jdGlvbiB0eXBpY2FsbHkgdXNlZCB0byBmaW5kIHRoZSBhdmVyYWdlIG9mIHJhdGVzLlxuICogVGhpcyBtZWFuIGlzIGNhbGN1bGF0ZWQgYnkgdGFraW5nIHRoZSByZWNpcHJvY2FsIG9mIHRoZSBhcml0aG1ldGljIG1lYW5cbiAqIG9mIHRoZSByZWNpcHJvY2FscyBvZiB0aGUgaW5wdXQgbnVtYmVycy5cbiAqXG4gKiBUaGlzIGlzIGEgW21lYXN1cmUgb2YgY2VudHJhbCB0ZW5kZW5jeV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2VudHJhbF90ZW5kZW5jeSk6XG4gKiBhIG1ldGhvZCBvZiBmaW5kaW5nIGEgdHlwaWNhbCBvciBjZW50cmFsIHZhbHVlIG9mIGEgc2V0IG9mIG51bWJlcnMuXG4gKlxuICogVGhpcyBydW5zIG9uIGBPKG4pYCwgbGluZWFyIHRpbWUgaW4gcmVzcGVjdCB0byB0aGUgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4IHNhbXBsZSBvZiBvbmUgb3IgbW9yZSBkYXRhIHBvaW50c1xuICogQHJldHVybnMge251bWJlcn0gaGFybW9uaWMgbWVhblxuICogQHRocm93cyB7RXJyb3J9IGlmIHggaXMgZW1wdHlcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB4IGNvbnRhaW5zIGEgbmVnYXRpdmUgbnVtYmVyXG4gKiBAZXhhbXBsZVxuICogaGFybW9uaWNNZWFuKFsyLCAzXSkudG9GaXhlZCgyKSAvLyA9PiAnMi40MCdcbiAqL1xuZnVuY3Rpb24gaGFybW9uaWNNZWFuKHggLyo6IEFycmF5PG51bWJlcj4gKi8pLyo6IG51bWJlciAqLyB7XG4gICAgLy8gVGhlIG1lYW4gb2Ygbm8gbnVtYmVycyBpcyBudWxsXG4gICAgaWYgKHgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGFybW9uaWNNZWFuIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBkYXRhIHBvaW50Jyk7XG4gICAgfVxuXG4gICAgdmFyIHJlY2lwcm9jYWxTdW0gPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIHRoZSBoYXJtb25pYyBtZWFuIGlzIG9ubHkgdmFsaWQgZm9yIHBvc2l0aXZlIG51bWJlcnNcbiAgICAgICAgaWYgKHhbaV0gPD0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoYXJtb25pY01lYW4gcmVxdWlyZXMgb25seSBwb3NpdGl2ZSBudW1iZXJzIGFzIGlucHV0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZWNpcHJvY2FsU3VtICs9IDEgLyB4W2ldO1xuICAgIH1cblxuICAgIC8vIGRpdmlkZSBuIGJ5IHRoZSB0aGUgcmVjaXByb2NhbCBzdW1cbiAgICByZXR1cm4geC5sZW5ndGggLyByZWNpcHJvY2FsU3VtO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoZSBbbWVkaWFuXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01lZGlhbikgaXNcbiAqIHRoZSBtaWRkbGUgbnVtYmVyIG9mIGEgbGlzdC4gVGhpcyBpcyBvZnRlbiBhIGdvb2QgaW5kaWNhdG9yIG9mICd0aGUgbWlkZGxlJ1xuICogd2hlbiB0aGVyZSBhcmUgb3V0bGllcnMgdGhhdCBza2V3IHRoZSBgbWVhbigpYCB2YWx1ZS5cbiAqIFRoaXMgaXMgYSBbbWVhc3VyZSBvZiBjZW50cmFsIHRlbmRlbmN5XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cmFsX3RlbmRlbmN5KTpcbiAqIGEgbWV0aG9kIG9mIGZpbmRpbmcgYSB0eXBpY2FsIG9yIGNlbnRyYWwgdmFsdWUgb2YgYSBzZXQgb2YgbnVtYmVycy5cbiAqXG4gKiBUaGUgbWVkaWFuIGlzbid0IG5lY2Vzc2FyaWx5IG9uZSBvZiB0aGUgZWxlbWVudHMgaW4gdGhlIGxpc3Q6IHRoZSB2YWx1ZVxuICogY2FuIGJlIHRoZSBhdmVyYWdlIG9mIHR3byBlbGVtZW50cyBpZiB0aGUgbGlzdCBoYXMgYW4gZXZlbiBsZW5ndGhcbiAqIGFuZCB0aGUgdHdvIGNlbnRyYWwgdmFsdWVzIGFyZSBkaWZmZXJlbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzb3J0ZWQgaW5wdXRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IG1lZGlhbiB2YWx1ZVxuICogQGV4YW1wbGVcbiAqIG1lZGlhblNvcnRlZChbMTAsIDIsIDUsIDEwMCwgMiwgMV0pOyAvLyA9PiA1Mi41XG4gKi9cbmZ1bmN0aW9uIG1lZGlhblNvcnRlZChzb3J0ZWQgLyo6IEFycmF5PG51bWJlcj4gKi8pLyo6bnVtYmVyKi8ge1xuICAgIHJldHVybiBxdWFudGlsZVNvcnRlZChzb3J0ZWQsIDAuNSk7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogV2hlbiByZW1vdmluZyBhIHZhbHVlIGZyb20gYSBsaXN0LCBvbmUgZG9lcyBub3QgaGF2ZSB0byBuZWNlc3NhcnlcbiAqIHJlY29tcHV0ZSB0aGUgbWVhbiBvZiB0aGUgbGlzdCBpbiBsaW5lYXIgdGltZS4gVGhleSBjYW4gaW5zdGVhZCB1c2VcbiAqIHRoaXMgZnVuY3Rpb24gdG8gY29tcHV0ZSB0aGUgbmV3IG1lYW4gYnkgcHJvdmlkaW5nIHRoZSBjdXJyZW50IG1lYW4sXG4gKiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBsaXN0IHRoYXQgcHJvZHVjZWQgaXQgYW5kIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKlxuICogQHNpbmNlIDMuMC4wXG4gKiBAcGFyYW0ge251bWJlcn0gbWVhbiBjdXJyZW50IG1lYW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIG51bWJlciBvZiBpdGVtcyBpbiB0aGUgbGlzdFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIHRoZSB2YWx1ZSB0byByZW1vdmVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBuZXcgbWVhblxuICpcbiAqIEBleGFtcGxlXG4gKiBzdWJ0cmFjdEZyb21NZWFuKDIwLjUsIDYsIDUzKTsgLy8gPT4gMTRcbiAqL1xuZnVuY3Rpb24gc3VidHJhY3RGcm9tTWVhbihtZWFuIC8qOiBudW1iZXIqLywgbi8qOiBudW1iZXIgKi8sIHZhbHVlLyo6IG51bWJlciAqLykvKjogbnVtYmVyICovIHtcbiAgICByZXR1cm4gKChtZWFuICogbikgLSB2YWx1ZSkgLyAobiAtIDEpO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoZSBSb290IE1lYW4gU3F1YXJlIChSTVMpIGlzXG4gKiBhIG1lYW4gZnVuY3Rpb24gdXNlZCBhcyBhIG1lYXN1cmUgb2YgdGhlIG1hZ25pdHVkZSBvZiBhIHNldFxuICogb2YgbnVtYmVycywgcmVnYXJkbGVzcyBvZiB0aGVpciBzaWduLlxuICogVGhpcyBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIG1lYW4gb2YgdGhlIHNxdWFyZXMgb2YgdGhlXG4gKiBpbnB1dCBudW1iZXJzLlxuICogVGhpcyBydW5zIG9uIGBPKG4pYCwgbGluZWFyIHRpbWUgaW4gcmVzcGVjdCB0byB0aGUgYXJyYXlcbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggYSBzYW1wbGUgb2Ygb25lIG9yIG1vcmUgZGF0YSBwb2ludHNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHJvb3QgbWVhbiBzcXVhcmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB4IGlzIGVtcHR5XG4gKiBAZXhhbXBsZVxuICogcm9vdE1lYW5TcXVhcmUoWy0xLCAxLCAtMSwgMV0pOyAvLyA9PiAxXG4gKi9cbmZ1bmN0aW9uIHJvb3RNZWFuU3F1YXJlKHggLyo6IEFycmF5PG51bWJlcj4gKi8pLyo6bnVtYmVyKi8ge1xuICAgIGlmICh4Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jvb3RNZWFuU3F1YXJlIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBkYXRhIHBvaW50Jyk7XG4gICAgfVxuXG4gICAgdmFyIHN1bU9mU3F1YXJlcyA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN1bU9mU3F1YXJlcyArPSBNYXRoLnBvdyh4W2ldLCAyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KHN1bU9mU3F1YXJlcyAvIHgubGVuZ3RoKTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRvIGNvbXB1dGUgW2Egb25lLXNhbXBsZSB0LXRlc3RdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N0dWRlbnQlMjdzX3QtdGVzdCNPbmUtc2FtcGxlX3QtdGVzdCksIGNvbXBhcmluZyB0aGUgbWVhblxuICogb2YgYSBzYW1wbGUgdG8gYSBrbm93biB2YWx1ZSwgeC5cbiAqXG4gKiBpbiB0aGlzIGNhc2UsIHdlJ3JlIHRyeWluZyB0byBkZXRlcm1pbmUgd2hldGhlciB0aGVcbiAqIHBvcHVsYXRpb24gbWVhbiBpcyBlcXVhbCB0byB0aGUgdmFsdWUgdGhhdCB3ZSBrbm93LCB3aGljaCBpcyBgeGBcbiAqIGhlcmUuIHVzdWFsbHkgdGhlIHJlc3VsdHMgaGVyZSBhcmUgdXNlZCB0byBsb29rIHVwIGFcbiAqIFtwLXZhbHVlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1AtdmFsdWUpLCB3aGljaCwgZm9yXG4gKiBhIGNlcnRhaW4gbGV2ZWwgb2Ygc2lnbmlmaWNhbmNlLCB3aWxsIGxldCB5b3UgZGV0ZXJtaW5lIHRoYXQgdGhlXG4gKiBudWxsIGh5cG90aGVzaXMgY2FuIG9yIGNhbm5vdCBiZSByZWplY3RlZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHggc2FtcGxlIG9mIG9uZSBvciBtb3JlIG51bWJlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBleHBlY3RlZFZhbHVlIGV4cGVjdGVkIHZhbHVlIG9mIHRoZSBwb3B1bGF0aW9uIG1lYW5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IHZhbHVlXG4gKiBAZXhhbXBsZVxuICogdFRlc3QoWzEsIDIsIDMsIDQsIDUsIDZdLCAzLjM4NSkudG9GaXhlZCgyKTsgLy8gPT4gJzAuMTYnXG4gKi9cbmZ1bmN0aW9uIHRUZXN0KHgvKjogQXJyYXk8bnVtYmVyPiAqLywgZXhwZWN0ZWRWYWx1ZS8qOiBudW1iZXIgKi8pLyo6bnVtYmVyKi8ge1xuICAgIC8vIFRoZSBtZWFuIG9mIHRoZSBzYW1wbGVcbiAgICB2YXIgc2FtcGxlTWVhbiA9IG1lYW4oeCk7XG5cbiAgICAvLyBUaGUgc3RhbmRhcmQgZGV2aWF0aW9uIG9mIHRoZSBzYW1wbGVcbiAgICB2YXIgc2QgPSBzdGFuZGFyZERldmlhdGlvbih4KTtcblxuICAgIC8vIFNxdWFyZSByb290IHRoZSBsZW5ndGggb2YgdGhlIHNhbXBsZVxuICAgIHZhciByb290TiA9IE1hdGguc3FydCh4Lmxlbmd0aCk7XG5cbiAgICAvLyByZXR1cm5pbmcgdGhlIHQgdmFsdWVcbiAgICByZXR1cm4gKHNhbXBsZU1lYW4gLSBleHBlY3RlZFZhbHVlKSAvIChzZCAvIHJvb3ROKTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRvIGNvbXB1dGUgW3R3byBzYW1wbGUgdC10ZXN0XShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N0dWRlbnQnc190LXRlc3QpLlxuICogVGVzdHMgd2hldGhlciBcIm1lYW4oWCktbWVhbihZKSA9IGRpZmZlcmVuY2VcIiwgKFxuICogaW4gdGhlIG1vc3QgY29tbW9uIGNhc2UsIHdlIG9mdGVuIGhhdmUgYGRpZmZlcmVuY2UgPT0gMGAgdG8gdGVzdCBpZiB0d28gc2FtcGxlc1xuICogYXJlIGxpa2VseSB0byBiZSB0YWtlbiBmcm9tIHBvcHVsYXRpb25zIHdpdGggdGhlIHNhbWUgbWVhbiB2YWx1ZSkgd2l0aFxuICogbm8gcHJpb3Iga25vd2xlZGdlIG9uIHN0YW5kYXJkIGRldmlhdGlvbnMgb2YgYm90aCBzYW1wbGVzXG4gKiBvdGhlciB0aGFuIHRoZSBmYWN0IHRoYXQgdGhleSBoYXZlIHRoZSBzYW1lIHN0YW5kYXJkIGRldmlhdGlvbi5cbiAqXG4gKiBVc3VhbGx5IHRoZSByZXN1bHRzIGhlcmUgYXJlIHVzZWQgdG8gbG9vayB1cCBhXG4gKiBbcC12YWx1ZV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QLXZhbHVlKSwgd2hpY2gsIGZvclxuICogYSBjZXJ0YWluIGxldmVsIG9mIHNpZ25pZmljYW5jZSwgd2lsbCBsZXQgeW91IGRldGVybWluZSB0aGF0IHRoZVxuICogbnVsbCBoeXBvdGhlc2lzIGNhbiBvciBjYW5ub3QgYmUgcmVqZWN0ZWQuXG4gKlxuICogYGRpZmZgIGNhbiBiZSBvbWl0dGVkIGlmIGl0IGVxdWFscyAwLlxuICpcbiAqIFtUaGlzIGlzIHVzZWQgdG8gY29uZmlybSBvciBkZW55XShodHRwOi8vd3d3Lm1vbmFyY2hsYWIub3JnL0xhYi9SZXNlYXJjaC9TdGF0cy8yU2FtcGxlVC5hc3B4KVxuICogYSBudWxsIGh5cG90aGVzaXMgdGhhdCB0aGUgdHdvIHBvcHVsYXRpb25zIHRoYXQgaGF2ZSBiZWVuIHNhbXBsZWQgaW50b1xuICogYHNhbXBsZVhgIGFuZCBgc2FtcGxlWWAgYXJlIGVxdWFsIHRvIGVhY2ggb3RoZXIuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzYW1wbGVYIGEgc2FtcGxlIGFzIGFuIGFycmF5IG9mIG51bWJlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2FtcGxlWSBhIHNhbXBsZSBhcyBhbiBhcnJheSBvZiBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW2RpZmZlcmVuY2U9MF1cbiAqIEByZXR1cm5zIHtudW1iZXJ8bnVsbH0gdGVzdCByZXN1bHRcbiAqXG4gKiBAZXhhbXBsZVxuICogdFRlc3RUd29TYW1wbGUoWzEsIDIsIDMsIDRdLCBbMywgNCwgNSwgNl0sIDApOyAvLyA9PiAtMi4xOTA4OTAyMzAwMjA2NjQzXG4gKi9cbmZ1bmN0aW9uIHRUZXN0VHdvU2FtcGxlKFxuICAgIHNhbXBsZVgvKjogQXJyYXk8bnVtYmVyPiAqLyxcbiAgICBzYW1wbGVZLyo6IEFycmF5PG51bWJlcj4gKi8sXG4gICAgZGlmZmVyZW5jZS8qOiA/bnVtYmVyICovKS8qOiA/bnVtYmVyICovIHtcbiAgICB2YXIgbiA9IHNhbXBsZVgubGVuZ3RoLFxuICAgICAgICBtID0gc2FtcGxlWS5sZW5ndGg7XG5cbiAgICAvLyBJZiBlaXRoZXIgc2FtcGxlIGRvZXNuJ3QgYWN0dWFsbHkgaGF2ZSBhbnkgdmFsdWVzLCB3ZSBjYW4ndFxuICAgIC8vIGNvbXB1dGUgdGhpcyBhdCBhbGwsIHNvIHdlIHJldHVybiBgbnVsbGAuXG4gICAgaWYgKCFuIHx8ICFtKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICAvLyBkZWZhdWx0IGRpZmZlcmVuY2UgKG11KSBpcyB6ZXJvXG4gICAgaWYgKCFkaWZmZXJlbmNlKSB7XG4gICAgICAgIGRpZmZlcmVuY2UgPSAwO1xuICAgIH1cblxuICAgIHZhciBtZWFuWCA9IG1lYW4oc2FtcGxlWCksXG4gICAgICAgIG1lYW5ZID0gbWVhbihzYW1wbGVZKSxcbiAgICAgICAgc2FtcGxlVmFyaWFuY2VYID0gc2FtcGxlVmFyaWFuY2Uoc2FtcGxlWCksXG4gICAgICAgIHNhbXBsZVZhcmlhbmNlWSA9IHNhbXBsZVZhcmlhbmNlKHNhbXBsZVkpO1xuXG4gICAgaWYgKHR5cGVvZiBtZWFuWCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdHlwZW9mIG1lYW5ZID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2Ygc2FtcGxlVmFyaWFuY2VYID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2Ygc2FtcGxlVmFyaWFuY2VZID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgd2VpZ2h0ZWRWYXJpYW5jZSA9ICgobiAtIDEpICogc2FtcGxlVmFyaWFuY2VYICtcbiAgICAgICAgICAgIChtIC0gMSkgKiBzYW1wbGVWYXJpYW5jZVkpIC8gKG4gKyBtIC0gMik7XG5cbiAgICAgICAgcmV0dXJuIChtZWFuWCAtIG1lYW5ZIC0gZGlmZmVyZW5jZSkgL1xuICAgICAgICAgICAgTWF0aC5zcXJ0KHdlaWdodGVkVmFyaWFuY2UgKiAoMSAvIG4gKyAxIC8gbSkpO1xuICAgIH1cbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBbQmF5ZXNpYW4gQ2xhc3NpZmllcl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9OYWl2ZV9CYXllc19jbGFzc2lmaWVyKVxuICpcbiAqIFRoaXMgaXMgYSBuYcOvdmUgYmF5ZXNpYW4gY2xhc3NpZmllciB0aGF0IHRha2VzXG4gKiBzaW5nbHktbmVzdGVkIG9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXhhbXBsZVxuICogdmFyIGJheWVzID0gbmV3IEJheWVzaWFuQ2xhc3NpZmllcigpO1xuICogYmF5ZXMudHJhaW4oe1xuICogICBzcGVjaWVzOiAnQ2F0J1xuICogfSwgJ2FuaW1hbCcpO1xuICogdmFyIHJlc3VsdCA9IGJheWVzLnNjb3JlKHtcbiAqICAgc3BlY2llczogJ0NhdCdcbiAqIH0pXG4gKiAvLyByZXN1bHRcbiAqIC8vIHtcbiAqIC8vICAgYW5pbWFsOiAxXG4gKiAvLyB9XG4gKi9cbmZ1bmN0aW9uIEJheWVzaWFuQ2xhc3NpZmllcigpIHtcbiAgICAvLyBUaGUgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgYXJlIGN1cnJlbnRseVxuICAgIC8vIGNsYXNzaWZpZWQgaW4gdGhlIG1vZGVsXG4gICAgdGhpcy50b3RhbENvdW50ID0gMDtcbiAgICAvLyBFdmVyeSBpdGVtIGNsYXNzaWZpZWQgaW4gdGhlIG1vZGVsXG4gICAgdGhpcy5kYXRhID0ge307XG59XG5cbi8qKlxuICogVHJhaW4gdGhlIGNsYXNzaWZpZXIgd2l0aCBhIG5ldyBpdGVtLCB3aGljaCBoYXMgYSBzaW5nbGVcbiAqIGRpbWVuc2lvbiBvZiBKYXZhc2NyaXB0IGxpdGVyYWwga2V5cyBhbmQgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIGFuIG9iamVjdCB3aXRoIHNpbmdseS1kZWVwIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeSB0aGUgY2F0ZWdvcnkgdGhpcyBpdGVtIGJlbG9uZ3MgdG9cbiAqIEByZXR1cm4ge3VuZGVmaW5lZH0gYWRkcyB0aGUgaXRlbSB0byB0aGUgY2xhc3NpZmllclxuICovXG5CYXllc2lhbkNsYXNzaWZpZXIucHJvdG90eXBlLnRyYWluID0gZnVuY3Rpb24oaXRlbSwgY2F0ZWdvcnkpIHtcbiAgICAvLyBJZiB0aGUgZGF0YSBvYmplY3QgZG9lc24ndCBoYXZlIGFueSB2YWx1ZXNcbiAgICAvLyBmb3IgdGhpcyBjYXRlZ29yeSwgY3JlYXRlIGEgbmV3IG9iamVjdCBmb3IgaXQuXG4gICAgaWYgKCF0aGlzLmRhdGFbY2F0ZWdvcnldKSB7XG4gICAgICAgIHRoaXMuZGF0YVtjYXRlZ29yeV0gPSB7fTtcbiAgICB9XG5cbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBrZXkgaW4gdGhlIGl0ZW0uXG4gICAgZm9yICh2YXIgayBpbiBpdGVtKSB7XG4gICAgICAgIHZhciB2ID0gaXRlbVtrXTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbmVzdGVkIG9iamVjdCBgZGF0YVtjYXRlZ29yeV1ba11baXRlbVtrXV1gXG4gICAgICAgIC8vIHdpdGggYW4gb2JqZWN0IG9mIGtleXMgdGhhdCBlcXVhbCAwLlxuICAgICAgICBpZiAodGhpcy5kYXRhW2NhdGVnb3J5XVtrXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbY2F0ZWdvcnldW2tdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGF0YVtjYXRlZ29yeV1ba11bdl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhW2NhdGVnb3J5XVtrXVt2XSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbmQgaW5jcmVtZW50IHRoZSBrZXkgZm9yIHRoaXMga2V5L3ZhbHVlIGNvbWJpbmF0aW9uLlxuICAgICAgICB0aGlzLmRhdGFbY2F0ZWdvcnldW2tdW3ZdKys7XG4gICAgfVxuXG4gICAgLy8gSW5jcmVtZW50IHRoZSBudW1iZXIgb2YgaXRlbXMgY2xhc3NpZmllZFxuICAgIHRoaXMudG90YWxDb3VudCsrO1xufTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHNjb3JlIG9mIGhvdyB3ZWxsIHRoaXMgaXRlbSBtYXRjaGVzIGFsbFxuICogcG9zc2libGUgY2F0ZWdvcmllcyBiYXNlZCBvbiBpdHMgYXR0cmlidXRlc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIGFuIGl0ZW0gaW4gdGhlIHNhbWUgZm9ybWF0IGFzIHdpdGggdHJhaW5cbiAqIEByZXR1cm5zIHtPYmplY3R9IG9mIHByb2JhYmlsaXRpZXMgdGhhdCB0aGlzIGl0ZW0gYmVsb25ncyB0byBhXG4gKiBnaXZlbiBjYXRlZ29yeS5cbiAqL1xuQmF5ZXNpYW5DbGFzc2lmaWVyLnByb3RvdHlwZS5zY29yZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAvLyBJbml0aWFsaXplIGFuIGVtcHR5IGFycmF5IG9mIG9kZHMgcGVyIGNhdGVnb3J5LlxuICAgIHZhciBvZGRzID0ge30sIGNhdGVnb3J5O1xuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIGtleSBpbiB0aGUgaXRlbSxcbiAgICAvLyB0aGVuIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIGNhdGVnb3J5IHRoYXQgaGFzIGJlZW4gdXNlZFxuICAgIC8vIGluIHByZXZpb3VzIGNhbGxzIHRvIGAudHJhaW4oKWBcbiAgICBmb3IgKHZhciBrIGluIGl0ZW0pIHtcbiAgICAgICAgdmFyIHYgPSBpdGVtW2tdO1xuICAgICAgICBmb3IgKGNhdGVnb3J5IGluIHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IG9iamVjdCBmb3Igc3RvcmluZyBrZXkgLSB2YWx1ZSBjb21iaW5hdGlvbnNcbiAgICAgICAgICAgIC8vIGZvciB0aGlzIGNhdGVnb3J5LlxuICAgICAgICAgICAgb2Rkc1tjYXRlZ29yeV0gPSB7fTtcblxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpdGVtIGRvZXNuJ3QgZXZlbiBoYXZlIGEgcHJvcGVydHksIGl0IGNvdW50cyBmb3Igbm90aGluZyxcbiAgICAgICAgICAgIC8vIGJ1dCBpZiBpdCBkb2VzIGhhdmUgdGhlIHByb3BlcnR5IHRoYXQgd2UncmUgbG9va2luZyBmb3IgZnJvbVxuICAgICAgICAgICAgLy8gdGhlIGl0ZW0gdG8gY2F0ZWdvcml6ZSwgaXQgY291bnRzIGJhc2VkIG9uIGhvdyBwb3B1bGFyIGl0IGlzXG4gICAgICAgICAgICAvLyB2ZXJzdXMgdGhlIHdob2xlIHBvcHVsYXRpb24uXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhW2NhdGVnb3J5XVtrXSkge1xuICAgICAgICAgICAgICAgIG9kZHNbY2F0ZWdvcnldW2sgKyAnXycgKyB2XSA9ICh0aGlzLmRhdGFbY2F0ZWdvcnldW2tdW3ZdIHx8IDApIC8gdGhpcy50b3RhbENvdW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvZGRzW2NhdGVnb3J5XVtrICsgJ18nICsgdl0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IHVwIGEgbmV3IG9iamVjdCB0aGF0IHdpbGwgY29udGFpbiBzdW1zIG9mIHRoZXNlIG9kZHMgYnkgY2F0ZWdvcnlcbiAgICB2YXIgb2Rkc1N1bXMgPSB7fTtcblxuICAgIGZvciAoY2F0ZWdvcnkgaW4gb2Rkcykge1xuICAgICAgICAvLyBUYWxseSBhbGwgb2YgdGhlIG9kZHMgZm9yIGVhY2ggY2F0ZWdvcnktY29tYmluYXRpb24gcGFpciAtXG4gICAgICAgIC8vIHRoZSBub24tZXhpc3RlbmNlIG9mIGEgY2F0ZWdvcnkgZG9lcyBub3QgYWRkIGFueXRoaW5nIHRvIHRoZVxuICAgICAgICAvLyBzY29yZS5cbiAgICAgICAgb2Rkc1N1bXNbY2F0ZWdvcnldID0gMDtcbiAgICAgICAgZm9yICh2YXIgY29tYmluYXRpb24gaW4gb2Rkc1tjYXRlZ29yeV0pIHtcbiAgICAgICAgICAgIG9kZHNTdW1zW2NhdGVnb3J5XSArPSBvZGRzW2NhdGVnb3J5XVtjb21iaW5hdGlvbl07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2Rkc1N1bXM7XG59O1xuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoaXMgaXMgYSBzaW5nbGUtbGF5ZXIgW1BlcmNlcHRyb24gQ2xhc3NpZmllcl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QZXJjZXB0cm9uKSB0aGF0IHRha2VzXG4gKiBhcnJheXMgb2YgbnVtYmVycyBhbmQgcHJlZGljdHMgd2hldGhlciB0aGV5IHNob3VsZCBiZSBjbGFzc2lmaWVkXG4gKiBhcyBlaXRoZXIgMCBvciAxIChuZWdhdGl2ZSBvciBwb3NpdGl2ZSBleGFtcGxlcykuXG4gKiBAY2xhc3NcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIG1vZGVsXG4gKiB2YXIgcCA9IG5ldyBQZXJjZXB0cm9uTW9kZWwoKTtcbiAqIC8vIFRyYWluIHRoZSBtb2RlbCB3aXRoIGlucHV0IHdpdGggYSBkaWFnb25hbCBib3VuZGFyeS5cbiAqIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gKiAgICAgcC50cmFpbihbMSwgMV0sIDEpO1xuICogICAgIHAudHJhaW4oWzAsIDFdLCAwKTtcbiAqICAgICBwLnRyYWluKFsxLCAwXSwgMCk7XG4gKiAgICAgcC50cmFpbihbMCwgMF0sIDApO1xuICogfVxuICogcC5wcmVkaWN0KFswLCAwXSk7IC8vIDBcbiAqIHAucHJlZGljdChbMCwgMV0pOyAvLyAwXG4gKiBwLnByZWRpY3QoWzEsIDBdKTsgLy8gMFxuICogcC5wcmVkaWN0KFsxLCAxXSk7IC8vIDFcbiAqL1xuZnVuY3Rpb24gUGVyY2VwdHJvbk1vZGVsKCkge1xuICAgIC8vIFRoZSB3ZWlnaHRzLCBvciBjb2VmZmljaWVudHMgb2YgdGhlIG1vZGVsO1xuICAgIC8vIHdlaWdodHMgYXJlIG9ubHkgcG9wdWxhdGVkIHdoZW4gdHJhaW5pbmcgd2l0aCBkYXRhLlxuICAgIHRoaXMud2VpZ2h0cyA9IFtdO1xuICAgIC8vIFRoZSBiaWFzIHRlcm0sIG9yIGludGVyY2VwdDsgaXQgaXMgYWxzbyBhIHdlaWdodCBidXRcbiAgICAvLyBpdCdzIHN0b3JlZCBzZXBhcmF0ZWx5IGZvciBjb252ZW5pZW5jZSBhcyBpdCBpcyBhbHdheXNcbiAgICAvLyBtdWx0aXBsaWVkIGJ5IG9uZS5cbiAgICB0aGlzLmJpYXMgPSAwO1xufVxuXG4vKipcbiAqICoqUHJlZGljdCoqOiBVc2UgYW4gYXJyYXkgb2YgZmVhdHVyZXMgd2l0aCB0aGUgd2VpZ2h0IGFycmF5IGFuZCBiaWFzXG4gKiB0byBwcmVkaWN0IHdoZXRoZXIgYW4gZXhhbXBsZSBpcyBsYWJlbGVkIDAgb3IgMS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZlYXR1cmVzIGFuIGFycmF5IG9mIGZlYXR1cmVzIGFzIG51bWJlcnNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDEgaWYgdGhlIHNjb3JlIGlzIG92ZXIgMCwgb3RoZXJ3aXNlIDBcbiAqL1xuUGVyY2VwdHJvbk1vZGVsLnByb3RvdHlwZS5wcmVkaWN0ID0gZnVuY3Rpb24oZmVhdHVyZXMpIHtcblxuICAgIC8vIE9ubHkgcHJlZGljdCBpZiBwcmV2aW91c2x5IHRyYWluZWRcbiAgICAvLyBvbiB0aGUgc2FtZSBzaXplIGZlYXR1cmUgYXJyYXkocykuXG4gICAgaWYgKGZlYXR1cmVzLmxlbmd0aCAhPT0gdGhpcy53ZWlnaHRzLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBzdW0gb2YgZmVhdHVyZXMgdGltZXMgd2VpZ2h0cyxcbiAgICAvLyB3aXRoIHRoZSBiaWFzIGFkZGVkIChpbXBsaWNpdGx5IHRpbWVzIG9uZSkuXG4gICAgdmFyIHNjb3JlID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMud2VpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzY29yZSArPSB0aGlzLndlaWdodHNbaV0gKiBmZWF0dXJlc1tpXTtcbiAgICB9XG4gICAgc2NvcmUgKz0gdGhpcy5iaWFzO1xuXG4gICAgLy8gQ2xhc3NpZnkgYXMgMSBpZiB0aGUgc2NvcmUgaXMgb3ZlciAwLCBvdGhlcndpc2UgMC5cbiAgICBpZiAoc2NvcmUgPiAwKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn07XG5cbi8qKlxuICogKipUcmFpbioqIHRoZSBjbGFzc2lmaWVyIHdpdGggYSBuZXcgZXhhbXBsZSwgd2hpY2ggaXNcbiAqIGEgbnVtZXJpYyBhcnJheSBvZiBmZWF0dXJlcyBhbmQgYSAwIG9yIDEgbGFiZWwuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmZWF0dXJlcyBhbiBhcnJheSBvZiBmZWF0dXJlcyBhcyBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gbGFiZWwgZWl0aGVyIDAgb3IgMVxuICogQHJldHVybnMge1BlcmNlcHRyb25Nb2RlbH0gdGhpc1xuICovXG5QZXJjZXB0cm9uTW9kZWwucHJvdG90eXBlLnRyYWluID0gZnVuY3Rpb24oZmVhdHVyZXMsIGxhYmVsKSB7XG4gICAgLy8gUmVxdWlyZSB0aGF0IG9ubHkgbGFiZWxzIG9mIDAgb3IgMSBhcmUgY29uc2lkZXJlZC5cbiAgICBpZiAobGFiZWwgIT09IDAgJiYgbGFiZWwgIT09IDEpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAvLyBUaGUgbGVuZ3RoIG9mIHRoZSBmZWF0dXJlIGFycmF5IGRldGVybWluZXNcbiAgICAvLyB0aGUgbGVuZ3RoIG9mIHRoZSB3ZWlnaHQgYXJyYXkuXG4gICAgLy8gVGhlIHBlcmNlcHRyb24gd2lsbCBjb250aW51ZSBsZWFybmluZyBhcyBsb25nIGFzXG4gICAgLy8gaXQga2VlcHMgc2VlaW5nIGZlYXR1cmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aC5cbiAgICAvLyBXaGVuIGl0IHNlZXMgYSBuZXcgZGF0YSBzaGFwZSwgaXQgaW5pdGlhbGl6ZXMuXG4gICAgaWYgKGZlYXR1cmVzLmxlbmd0aCAhPT0gdGhpcy53ZWlnaHRzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLndlaWdodHMgPSBmZWF0dXJlcztcbiAgICAgICAgdGhpcy5iaWFzID0gMTtcbiAgICB9XG4gICAgLy8gTWFrZSBhIHByZWRpY3Rpb24gYmFzZWQgb24gY3VycmVudCB3ZWlnaHRzLlxuICAgIHZhciBwcmVkaWN0aW9uID0gdGhpcy5wcmVkaWN0KGZlYXR1cmVzKTtcbiAgICAvLyBVcGRhdGUgdGhlIHdlaWdodHMgaWYgdGhlIHByZWRpY3Rpb24gaXMgd3JvbmcuXG4gICAgaWYgKHByZWRpY3Rpb24gIT09IGxhYmVsKSB7XG4gICAgICAgIHZhciBncmFkaWVudCA9IGxhYmVsIC0gcHJlZGljdGlvbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLndlaWdodHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMud2VpZ2h0c1tpXSArPSBncmFkaWVudCAqIGZlYXR1cmVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmlhcyArPSBncmFkaWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFdlIHVzZSBgzrVgLCBlcHNpbG9uLCBhcyBhIHN0b3BwaW5nIGNyaXRlcmlvbiB3aGVuIHdlIHdhbnQgdG8gaXRlcmF0ZVxuICogdW50aWwgd2UncmUgXCJjbG9zZSBlbm91Z2hcIi4gRXBzaWxvbiBpcyBhIHZlcnkgc21hbGwgbnVtYmVyOiBmb3JcbiAqIHNpbXBsZSBzdGF0aXN0aWNzLCB0aGF0IG51bWJlciBpcyAqKjAuMDAwMSoqXG4gKlxuICogVGhpcyBpcyB1c2VkIGluIGNhbGN1bGF0aW9ucyBsaWtlIHRoZSBiaW5vbWlhbERpc3RyaWJ1dGlvbiwgaW4gd2hpY2hcbiAqIHRoZSBwcm9jZXNzIG9mIGZpbmRpbmcgYSB2YWx1ZSBpcyBbaXRlcmF0aXZlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JdGVyYXRpdmVfbWV0aG9kKTpcbiAqIGl0IHByb2dyZXNzZXMgdW50aWwgaXQgaXMgY2xvc2UgZW5vdWdoLlxuICpcbiAqIEJlbG93IGlzIGFuIGV4YW1wbGUgb2YgdXNpbmcgZXBzaWxvbiBpbiBbZ3JhZGllbnQgZGVzY2VudF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR3JhZGllbnRfZGVzY2VudCksXG4gKiB3aGVyZSB3ZSdyZSB0cnlpbmcgdG8gZmluZCBhIGxvY2FsIG1pbmltdW0gb2YgYSBmdW5jdGlvbidzIGRlcml2YXRpdmUsXG4gKiBnaXZlbiBieSB0aGUgYGZEZXJpdmF0aXZlYCBtZXRob2QuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZyb20gY2FsY3VsYXRpb24sIHdlIGV4cGVjdCB0aGF0IHRoZSBsb2NhbCBtaW5pbXVtIG9jY3VycyBhdCB4PTkvNFxuICogdmFyIHhfb2xkID0gMDtcbiAqIC8vIFRoZSBhbGdvcml0aG0gc3RhcnRzIGF0IHg9NlxuICogdmFyIHhfbmV3ID0gNjtcbiAqIHZhciBzdGVwU2l6ZSA9IDAuMDE7XG4gKlxuICogZnVuY3Rpb24gZkRlcml2YXRpdmUoeCkge1xuICogICByZXR1cm4gNCAqIE1hdGgucG93KHgsIDMpIC0gOSAqIE1hdGgucG93KHgsIDIpO1xuICogfVxuICpcbiAqIC8vIFRoZSBsb29wIHJ1bnMgdW50aWwgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcHJldmlvdXNcbiAqIC8vIHZhbHVlIGFuZCB0aGUgY3VycmVudCB2YWx1ZSBpcyBzbWFsbGVyIHRoYW4gZXBzaWxvbiAtIGEgcm91Z2hcbiAqIC8vIG1lYXVyZSBvZiAnY2xvc2UgZW5vdWdoJ1xuICogd2hpbGUgKE1hdGguYWJzKHhfbmV3IC0geF9vbGQpID4gc3MuZXBzaWxvbikge1xuICogICB4X29sZCA9IHhfbmV3O1xuICogICB4X25ldyA9IHhfb2xkIC0gc3RlcFNpemUgKiBmRGVyaXZhdGl2ZSh4X29sZCk7XG4gKiB9XG4gKlxuICogY29uc29sZS5sb2coJ0xvY2FsIG1pbmltdW0gb2NjdXJzIGF0JywgeF9uZXcpO1xuICovXG52YXIgZXBzaWxvbiA9IDAuMDAwMTtcblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBBIFtGYWN0b3JpYWxdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0ZhY3RvcmlhbCksIHVzdWFsbHkgd3JpdHRlbiBuISwgaXMgdGhlIHByb2R1Y3Qgb2YgYWxsIHBvc2l0aXZlXG4gKiBpbnRlZ2VycyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gbi4gT2Z0ZW4gZmFjdG9yaWFsIGlzIGltcGxlbWVudGVkXG4gKiByZWN1cnNpdmVseSwgYnV0IHRoaXMgaXRlcmF0aXZlIGFwcHJvYWNoIGlzIHNpZ25pZmljYW50bHkgZmFzdGVyXG4gKiBhbmQgc2ltcGxlci5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbiBpbnB1dCwgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlciAxIG9yIGdyZWF0ZXJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGZhY3RvcmlhbDogbiFcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBuIGlzIGxlc3MgdGhhbiAwIG9yIG5vdCBhbiBpbnRlZ2VyXG4gKiBAZXhhbXBsZVxuICogZmFjdG9yaWFsKDUpOyAvLyA9PiAxMjBcbiAqL1xuZnVuY3Rpb24gZmFjdG9yaWFsKG4gLyo6IG51bWJlciAqLykvKjogbnVtYmVyICovIHtcblxuICAgIC8vIGZhY3RvcmlhbCBpcyBtYXRoZW1hdGljYWxseSB1bmRlZmluZWQgZm9yIG5lZ2F0aXZlIG51bWJlcnNcbiAgICBpZiAobiA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmYWN0b3JpYWwgcmVxdWlyZXMgYSBub24tbmVnYXRpdmUgdmFsdWUnKTtcbiAgICB9XG5cbiAgICBpZiAoTWF0aC5mbG9vcihuKSAhPT0gbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhY3RvcmlhbCByZXF1aXJlcyBhbiBpbnRlZ2VyIGlucHV0Jyk7XG4gICAgfVxuXG4gICAgLy8gdHlwaWNhbGx5IHlvdSdsbCBleHBhbmQgdGhlIGZhY3RvcmlhbCBmdW5jdGlvbiBnb2luZyBkb3duLCBsaWtlXG4gICAgLy8gNSEgPSA1ICogNCAqIDMgKiAyICogMS4gVGhpcyBpcyBnb2luZyBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLFxuICAgIC8vIGNvdW50aW5nIGZyb20gMiB1cCB0byB0aGUgbnVtYmVyIGluIHF1ZXN0aW9uLCBhbmQgc2luY2UgYW55dGhpbmdcbiAgICAvLyBtdWx0aXBsaWVkIGJ5IDEgaXMgaXRzZWxmLCB0aGUgbG9vcCBvbmx5IG5lZWRzIHRvIHN0YXJ0IGF0IDIuXG4gICAgdmFyIGFjY3VtdWxhdG9yID0gMTtcbiAgICBmb3IgKHZhciBpID0gMjsgaSA8PSBuOyBpKyspIHtcbiAgICAgICAgLy8gZm9yIGVhY2ggbnVtYmVyIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhlIG51bWJlciBgbmAsIG11bHRpcGx5XG4gICAgICAgIC8vIHRoZSBhY2N1bXVsYXRvciBteSB0aGF0IG51bWJlci5cbiAgICAgICAgYWNjdW11bGF0b3IgKj0gaTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIENvbXB1dGUgdGhlIFtnYW1tYSBmdW5jdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2FtbWFfZnVuY3Rpb24pIG9mIGEgdmFsdWUgdXNpbmcgTmVtZXMnIGFwcHJveGltYXRpb24uXG4gKiBUaGUgZ2FtbWEgb2YgbiBpcyBlcXVpdmFsZW50IHRvIChuLTEpISwgYnV0IHVubGlrZSB0aGUgZmFjdG9yaWFsIGZ1bmN0aW9uLCBnYW1tYSBpcyBkZWZpbmVkIGZvciBhbGwgcmVhbCBuIGV4Y2VwdCB6ZXJvIFxuICogYW5kIG5lZ2F0aXZlIGludGVnZXJzICh3aGVyZSBOYU4gaXMgcmV0dXJuZWQpLiBOb3RlLCB0aGUgZ2FtbWEgZnVuY3Rpb24gaXMgYWxzbyB3ZWxsLWRlZmluZWQgZm9yIGNvbXBsZXggbnVtYmVycywgXG4gKiB0aG91Z2ggdGhpcyBpbXBsZW1lbnRhdGlvbiBjdXJyZW50bHkgZG9lcyBub3QgaGFuZGxlIGNvbXBsZXggbnVtYmVycyBhcyBpbnB1dCB2YWx1ZXMuXG4gKiBOZW1lcycgYXBwcm94aW1hdGlvbiBpcyBkZWZpbmVkIFtoZXJlXShodHRwczovL2FyeGl2Lm9yZy9hYnMvMTAwMy42MDIwKSBhcyBUaGVvcmVtIDIuMi5cbiAqIE5lZ2F0aXZlIHZhbHVlcyB1c2UgW0V1bGVyJ3MgcmVmbGVjdGlvbiBmb3JtdWxhXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HYW1tYV9mdW5jdGlvbiNQcm9wZXJ0aWVzKSBmb3IgY29tcHV0YXRpb24uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG4gQW55IHJlYWwgbnVtYmVyIGV4Y2VwdCBmb3IgemVybyBhbmQgbmVnYXRpdmUgaW50ZWdlcnMuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgZ2FtbWEgb2YgdGhlIGlucHV0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBnYW1tYSgxMS41KTsgLy8gMTE4OTk0MjMuMDg0MDM3MDM4XG4gKiBnYW1tYSgtMTEuNSk7IC8vIDIuMjk1NzU4MTA0ODE2MDllLTggXG4gKiBnYW1tYSg1KTsgLy8gMjQgXG4gKi9cbmZ1bmN0aW9uIGdhbW1hKG4gLyo6IG51bWJlciAqLyApIC8qOiBudW1iZXIgKi8ge1xuXG4gICAgaWYgKGlzSW50ZWdlcihuKSkge1xuICAgICAgICBpZiAobiA8PSAwKSB7XG4gICAgICAgICAgICAvLyBnYW1tYSBub3QgZGVmaW5lZCBmb3IgemVybyBvciBuZWdhdGl2ZSBpbnRlZ2Vyc1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVzZSBmYWN0b3JpYWwgZm9yIGludGVnZXIgaW5wdXRzIFxuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcmlhbChuIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZWNyZW1lbnQgbiwgYmVjYXVzZSBhcHByb3hpbWF0aW9uIGlzIGRlZmluZWQgZm9yIG4gLSAxXG4gICAgbi0tO1xuXG5cbiAgICBpZiAobiA8IDApIHtcbiAgICAgICAgLy8gVXNlIEV1bGVyJ3MgcmVmbGVjdGlvbiBmb3JtdWxhIGZvciBuZWdhdGl2ZSBpbnB1dHNcbiAgICAgICAgLy8gc2VlOiAgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2FtbWFfZnVuY3Rpb24jUHJvcGVydGllc1xuICAgICAgICByZXR1cm4gTWF0aC5QSSAvIChNYXRoLnNpbihNYXRoLlBJICogLW4pICogZ2FtbWEoLW4pKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5lbWVzJyBleHBhbnNpb24gYXBwcm94aW1hdGlvblxuICAgICAgICB2YXIgc2VyaWVzQ29lZmZpY2llbnQgPSBNYXRoLnBvdygobiAvIE1hdGguRSksIG4pICogTWF0aC5zcXJ0KDIgKiBNYXRoLlBJICogKG4gKyAoMSAvIDYpKSk7XG5cbiAgICAgICAgdmFyIHNlcmllc0Rlbm9tID0gbiArIDEgLyA0O1xuXG4gICAgICAgIHZhciBzZXJpZXNFeHBhbnNpb24gPSAoMSArXG4gICAgICAgICAgICAoMSAvIDE0NCkgLyBNYXRoLnBvdyhzZXJpZXNEZW5vbSwgMikgLVxuICAgICAgICAgICAgKDEgLyAxMjk2MCkgLyBNYXRoLnBvdyhzZXJpZXNEZW5vbSwgMykgLVxuICAgICAgICAgICAgKDI1NyAvIDIwNzM2MCkgLyBNYXRoLnBvdyhzZXJpZXNEZW5vbSwgNCkgLVxuICAgICAgICAgICAgKDUyIC8gMjYxMjczNikgLyBNYXRoLnBvdyhzZXJpZXNEZW5vbSwgNSkgK1xuICAgICAgICAgICAgKDU3NDExNzMgLyA5NDA1ODQ5NjAwKSAvIE1hdGgucG93KHNlcmllc0Rlbm9tLCA2KSArXG4gICAgICAgICAgICAoMzc1MjkgLyAxODgxMTY5OTIwMCkgLyBNYXRoLnBvdyhzZXJpZXNEZW5vbSwgNykpO1xuXG4gICAgICAgIHJldHVybiBzZXJpZXNDb2VmZmljaWVudCAqIHNlcmllc0V4cGFuc2lvbjtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgaXNGaW5pdGUodmFsdWUpICYmXG4gICAgICAgIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbn1cblxuLyogQGZsb3cgKi9cblxuLy8gRGVmaW5lIHNlcmllcyBjb2VmZmljaWVudHNcbnZhciBDT0VGRklDSUVOVFMgPSBbXG4gICAgMC45OTk5OTk5OTk5OTk5OTcwOTE4MixcbiAgICA1Ny4xNTYyMzU2NjU4NjI5MjM1MTcsXG4gICAgLTU5LjU5Nzk2MDM1NTQ3NTQ5MTI0OCxcbiAgICAxNC4xMzYwOTc5NzQ3NDE3NDcxNzQsXG4gICAgLTAuNDkxOTEzODE2MDk3NjIwMTk5NzgsXG4gICAgMC4zMzk5NDY0OTk4NDgxMTg4ODY5OWUtNCxcbiAgICAwLjQ2NTIzNjI4OTI3MDQ4NTc1NjY1ZS00LFxuICAgIC0wLjk4Mzc0NDc1MzA0ODc5NTY0Njc3ZS00LFxuICAgIDAuMTU4MDg4NzAzMjI0OTEyNDg4ODRlLTMsXG4gICAgLTAuMjEwMjY0NDQxNzI0MTA0ODgzMTllLTMsIDAuMjE3NDM5NjE4MTE1MjEyNjQzMjBlLTMsXG4gICAgLTAuMTY0MzE4MTA2NTM2NzYzODkwMjJlLTMsXG4gICAgMC44NDQxODIyMzk4Mzg1Mjc0MzI5M2UtNCxcbiAgICAtMC4yNjE5MDgzODQwMTU4MTQwODY3MGUtNCxcbiAgICAwLjM2ODk5MTgyNjU5NTMxNjIyNzA0ZS01XG5dO1xuXG52YXIgZyA9IDYwNyAvIDEyODtcbnZhciBMT0dTUVJUMlBJID0gTWF0aC5sb2coTWF0aC5zcXJ0KDIgKiBNYXRoLlBJKSk7XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgbG9nYXJpdGhtIG9mIHRoZSBbZ2FtbWEgZnVuY3Rpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dhbW1hX2Z1bmN0aW9uKSBvZiBhIHZhbHVlIHVzaW5nIExhbmN6b3MnIGFwcHJveGltYXRpb24uXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGFzIGlucHV0IGFueSByZWFsLXZhbHVlIG4gZ3JlYXRlciB0aGFuIDAuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCBmb3IgdmFsdWVzIG9mIG4gdG9vIGxhcmdlIGZvciB0aGUgbm9ybWFsIGdhbW1hIGZ1bmN0aW9uIChuID4gMTY1KS5cbiAqIFRoZSBjb2RlIGlzIGJhc2VkIG9uIExhbmN6bydzIEdhbW1hIGFwcHJveGltYXRpb24sIGRlZmluZWQgW2hlcmVdKGh0dHA6Ly9teS5maXQuZWR1L35nYWJkby9nYW1tYS50eHQpLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIEFueSByZWFsIG51bWJlciBncmVhdGVyIHRoYW4gemVyby5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBsb2dhcml0aG0gb2YgZ2FtbWEgb2YgdGhlIGlucHV0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBnYW1tYWxuKDUwMCk7IC8vIDI2MDUuMTE1ODUwMzYxNzMzNVxuICogZ2FtbWFsbigyLjQpOyAvLyAwLjIxNjg1OTMyMjQ0ODg0MDQzIFxuICovXG5mdW5jdGlvbiBnYW1tYWxuKG4gLyo6IG51bWJlciAqLyApIC8qOiBudW1iZXIgKi8ge1xuXG4gICAgLy8gUmV0dXJuIGluZmluaXR5IGlmIHZhbHVlIG5vdCBpbiBkb21haW5cbiAgICBpZiAobiA8PSAwKSB7XG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGVjcmVtZW50IG4sIGJlY2F1c2UgYXBwcm94aW1hdGlvbiBpcyBkZWZpbmVkIGZvciBuIC0gMVxuICAgIG4tLTtcbiAgICBcbiAgICAvLyBDcmVhdGUgc2VyaWVzIGFwcHJveGltYXRpb25cbiAgICB2YXIgYSA9IENPRUZGSUNJRU5UU1swXTtcbiAgICBcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IDE1OyBpKyspIHtcbiAgICAgICAgYSArPSBDT0VGRklDSUVOVFNbaV0gLyAobiArIGkpO1xuICAgIH1cbiAgICBcbiAgICB2YXIgdG1wID0gZyArIDAuNSArIG47XG4gICAgXG4gICAgLy8gUmV0dXJuIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGdhbW1hKG4pXG4gICAgcmV0dXJuIExPR1NRUlQyUEkgKyBNYXRoLmxvZyhhKSAtIHRtcCArIChuICsgMC41KSAqIE1hdGgubG9nKHRtcCk7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFtCZXJub3VsbGkgZGlzdHJpYnV0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jlcm5vdWxsaV9kaXN0cmlidXRpb24pXG4gKiBpcyB0aGUgcHJvYmFiaWxpdHkgZGlzY3JldGVcbiAqIGRpc3RyaWJ1dGlvbiBvZiBhIHJhbmRvbSB2YXJpYWJsZSB3aGljaCB0YWtlcyB2YWx1ZSAxIHdpdGggc3VjY2Vzc1xuICogcHJvYmFiaWxpdHkgYHBgIGFuZCB2YWx1ZSAwIHdpdGggZmFpbHVyZVxuICogcHJvYmFiaWxpdHkgYHFgID0gMSAtIGBwYC4gSXQgY2FuIGJlIHVzZWQsIGZvciBleGFtcGxlLCB0byByZXByZXNlbnQgdGhlXG4gKiB0b3NzIG9mIGEgY29pbiwgd2hlcmUgXCIxXCIgaXMgZGVmaW5lZCB0byBtZWFuIFwiaGVhZHNcIiBhbmQgXCIwXCIgaXMgZGVmaW5lZFxuICogdG8gbWVhbiBcInRhaWxzXCIgKG9yIHZpY2UgdmVyc2EpLiBJdCBpc1xuICogYSBzcGVjaWFsIGNhc2Ugb2YgYSBCaW5vbWlhbCBEaXN0cmlidXRpb25cbiAqIHdoZXJlIGBuYCA9IDEuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHAgaW5wdXQgdmFsdWUsIGJldHdlZW4gMCBhbmQgMSBpbmNsdXNpdmVcbiAqIEByZXR1cm5zIHtudW1iZXJbXX0gdmFsdWVzIG9mIGJlcm5vdWxsaSBkaXN0cmlidXRpb24gYXQgdGhpcyBwb2ludFxuICogQHRocm93cyB7RXJyb3J9IGlmIHAgaXMgb3V0c2lkZSAwIGFuZCAxXG4gKiBAZXhhbXBsZVxuICogYmVybm91bGxpRGlzdHJpYnV0aW9uKDAuMyk7IC8vID0+IFswLjcsIDAuM11cbiAqL1xuZnVuY3Rpb24gYmVybm91bGxpRGlzdHJpYnV0aW9uKHAvKjogbnVtYmVyICovKSAvKjogbnVtYmVyW10gKi8ge1xuICAgIC8vIENoZWNrIHRoYXQgYHBgIGlzIGEgdmFsaWQgcHJvYmFiaWxpdHkgKDAg4omkIHAg4omkIDEpXG4gICAgaWYgKHAgPCAwIHx8IHAgPiAxICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Jlcm5vdWxsaURpc3RyaWJ1dGlvbiByZXF1aXJlcyBwcm9iYWJpbGl0eSB0byBiZSBiZXR3ZWVuIDAgYW5kIDEgaW5jbHVzaXZlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFsxIC0gcCwgcF07XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFtCaW5vbWlhbCBEaXN0cmlidXRpb25dKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmlub21pYWxfZGlzdHJpYnV0aW9uKSBpcyB0aGUgZGlzY3JldGUgcHJvYmFiaWxpdHlcbiAqIGRpc3RyaWJ1dGlvbiBvZiB0aGUgbnVtYmVyIG9mIHN1Y2Nlc3NlcyBpbiBhIHNlcXVlbmNlIG9mIG4gaW5kZXBlbmRlbnQgeWVzL25vIGV4cGVyaW1lbnRzLCBlYWNoIG9mIHdoaWNoIHlpZWxkc1xuICogc3VjY2VzcyB3aXRoIHByb2JhYmlsaXR5IGBwcm9iYWJpbGl0eWAuIFN1Y2ggYSBzdWNjZXNzL2ZhaWx1cmUgZXhwZXJpbWVudCBpcyBhbHNvIGNhbGxlZCBhIEJlcm5vdWxsaSBleHBlcmltZW50IG9yXG4gKiBCZXJub3VsbGkgdHJpYWw7IHdoZW4gdHJpYWxzID0gMSwgdGhlIEJpbm9taWFsIERpc3RyaWJ1dGlvbiBpcyBhIEJlcm5vdWxsaSBEaXN0cmlidXRpb24uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHRyaWFscyBudW1iZXIgb2YgdHJpYWxzIHRvIHNpbXVsYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcHJvYmFiaWxpdHlcbiAqIEByZXR1cm5zIHtudW1iZXJbXX0gb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJpbm9taWFsRGlzdHJpYnV0aW9uKFxuICAgIHRyaWFscy8qOiBudW1iZXIgKi8sXG4gICAgcHJvYmFiaWxpdHkvKjogbnVtYmVyICovKS8qOiA/bnVtYmVyW10gKi8ge1xuICAgIC8vIENoZWNrIHRoYXQgYHBgIGlzIGEgdmFsaWQgcHJvYmFiaWxpdHkgKDAg4omkIHAg4omkIDEpLFxuICAgIC8vIHRoYXQgYG5gIGlzIGFuIGludGVnZXIsIHN0cmljdGx5IHBvc2l0aXZlLlxuICAgIGlmIChwcm9iYWJpbGl0eSA8IDAgfHwgcHJvYmFiaWxpdHkgPiAxIHx8XG4gICAgICAgIHRyaWFscyA8PSAwIHx8IHRyaWFscyAlIDEgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBXZSBpbml0aWFsaXplIGB4YCwgdGhlIHJhbmRvbSB2YXJpYWJsZSwgYW5kIGBhY2N1bXVsYXRvcmAsIGFuIGFjY3VtdWxhdG9yXG4gICAgLy8gZm9yIHRoZSBjdW11bGF0aXZlIGRpc3RyaWJ1dGlvbiBmdW5jdGlvbiB0byAwLiBgZGlzdHJpYnV0aW9uX2Z1bmN0aW9uc2BcbiAgICAvLyBpcyB0aGUgb2JqZWN0IHdlJ2xsIHJldHVybiB3aXRoIHRoZSBgcHJvYmFiaWxpdHlfb2ZfeGAgYW5kIHRoZVxuICAgIC8vIGBjdW11bGF0aXZlUHJvYmFiaWxpdHlfb2ZfeGAsIGFzIHdlbGwgYXMgdGhlIGNhbGN1bGF0ZWQgbWVhbiAmXG4gICAgLy8gdmFyaWFuY2UuIFdlIGl0ZXJhdGUgdW50aWwgdGhlIGBjdW11bGF0aXZlUHJvYmFiaWxpdHlfb2ZfeGAgaXNcbiAgICAvLyB3aXRoaW4gYGVwc2lsb25gIG9mIDEuMC5cbiAgICB2YXIgeCA9IDAsXG4gICAgICAgIGN1bXVsYXRpdmVQcm9iYWJpbGl0eSA9IDAsXG4gICAgICAgIGNlbGxzID0gW10sXG4gICAgICAgIGJpbm9taWFsQ29lZmZpY2llbnQgPSAxO1xuXG4gICAgLy8gVGhpcyBhbGdvcml0aG0gaXRlcmF0ZXMgdGhyb3VnaCBlYWNoIHBvdGVudGlhbCBvdXRjb21lLFxuICAgIC8vIHVudGlsIHRoZSBgY3VtdWxhdGl2ZVByb2JhYmlsaXR5YCBpcyB2ZXJ5IGNsb3NlIHRvIDEsIGF0XG4gICAgLy8gd2hpY2ggcG9pbnQgd2UndmUgZGVmaW5lZCB0aGUgdmFzdCBtYWpvcml0eSBvZiBvdXRjb21lc1xuICAgIGRvIHtcbiAgICAgICAgLy8gYSBbcHJvYmFiaWxpdHkgbWFzcyBmdW5jdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUHJvYmFiaWxpdHlfbWFzc19mdW5jdGlvbilcbiAgICAgICAgY2VsbHNbeF0gPSBiaW5vbWlhbENvZWZmaWNpZW50ICpcbiAgICAgICAgICAgIE1hdGgucG93KHByb2JhYmlsaXR5LCB4KSAqIE1hdGgucG93KDEgLSBwcm9iYWJpbGl0eSwgdHJpYWxzIC0geCk7XG4gICAgICAgIGN1bXVsYXRpdmVQcm9iYWJpbGl0eSArPSBjZWxsc1t4XTtcbiAgICAgICAgeCsrO1xuICAgICAgICBiaW5vbWlhbENvZWZmaWNpZW50ID0gYmlub21pYWxDb2VmZmljaWVudCAqICh0cmlhbHMgLSB4ICsgMSkgLyB4O1xuICAgIC8vIHdoZW4gdGhlIGN1bXVsYXRpdmVQcm9iYWJpbGl0eSBpcyBuZWFybHkgMSwgd2UndmUgY2FsY3VsYXRlZFxuICAgIC8vIHRoZSB1c2VmdWwgcmFuZ2Ugb2YgdGhpcyBkaXN0cmlidXRpb25cbiAgICB9IHdoaWxlIChjdW11bGF0aXZlUHJvYmFiaWxpdHkgPCAxIC0gZXBzaWxvbik7XG5cbiAgICByZXR1cm4gY2VsbHM7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFtQb2lzc29uIERpc3RyaWJ1dGlvbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Qb2lzc29uX2Rpc3RyaWJ1dGlvbilcbiAqIGlzIGEgZGlzY3JldGUgcHJvYmFiaWxpdHkgZGlzdHJpYnV0aW9uIHRoYXQgZXhwcmVzc2VzIHRoZSBwcm9iYWJpbGl0eVxuICogb2YgYSBnaXZlbiBudW1iZXIgb2YgZXZlbnRzIG9jY3VycmluZyBpbiBhIGZpeGVkIGludGVydmFsIG9mIHRpbWVcbiAqIGFuZC9vciBzcGFjZSBpZiB0aGVzZSBldmVudHMgb2NjdXIgd2l0aCBhIGtub3duIGF2ZXJhZ2UgcmF0ZSBhbmRcbiAqIGluZGVwZW5kZW50bHkgb2YgdGhlIHRpbWUgc2luY2UgdGhlIGxhc3QgZXZlbnQuXG4gKlxuICogVGhlIFBvaXNzb24gRGlzdHJpYnV0aW9uIGlzIGNoYXJhY3Rlcml6ZWQgYnkgdGhlIHN0cmljdGx5IHBvc2l0aXZlXG4gKiBtZWFuIGFycml2YWwgb3Igb2NjdXJyZW5jZSByYXRlLCBgzrtgLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsYW1iZGEgbG9jYXRpb24gcG9pc3NvbiBkaXN0cmlidXRpb25cbiAqIEByZXR1cm5zIHtudW1iZXJbXX0gdmFsdWVzIG9mIHBvaXNzb24gZGlzdHJpYnV0aW9uIGF0IHRoYXQgcG9pbnRcbiAqL1xuZnVuY3Rpb24gcG9pc3NvbkRpc3RyaWJ1dGlvbihsYW1iZGEvKjogbnVtYmVyICovKSAvKjogP251bWJlcltdICovIHtcbiAgICAvLyBDaGVjayB0aGF0IGxhbWJkYSBpcyBzdHJpY3RseSBwb3NpdGl2ZVxuICAgIGlmIChsYW1iZGEgPD0gMCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG5cbiAgICAvLyBvdXIgY3VycmVudCBwbGFjZSBpbiB0aGUgZGlzdHJpYnV0aW9uXG4gICAgdmFyIHggPSAwLFxuICAgICAgICAvLyBhbmQgd2Uga2VlcCB0cmFjayBvZiB0aGUgY3VycmVudCBjdW11bGF0aXZlIHByb2JhYmlsaXR5LCBpblxuICAgICAgICAvLyBvcmRlciB0byBrbm93IHdoZW4gdG8gc3RvcCBjYWxjdWxhdGluZyBjaGFuY2VzLlxuICAgICAgICBjdW11bGF0aXZlUHJvYmFiaWxpdHkgPSAwLFxuICAgICAgICAvLyB0aGUgY2FsY3VsYXRlZCBjZWxscyB0byBiZSByZXR1cm5lZFxuICAgICAgICBjZWxscyA9IFtdLFxuICAgICAgICBmYWN0b3JpYWxYID0gMTtcblxuICAgIC8vIFRoaXMgYWxnb3JpdGhtIGl0ZXJhdGVzIHRocm91Z2ggZWFjaCBwb3RlbnRpYWwgb3V0Y29tZSxcbiAgICAvLyB1bnRpbCB0aGUgYGN1bXVsYXRpdmVQcm9iYWJpbGl0eWAgaXMgdmVyeSBjbG9zZSB0byAxLCBhdFxuICAgIC8vIHdoaWNoIHBvaW50IHdlJ3ZlIGRlZmluZWQgdGhlIHZhc3QgbWFqb3JpdHkgb2Ygb3V0Y29tZXNcbiAgICBkbyB7XG4gICAgICAgIC8vIGEgW3Byb2JhYmlsaXR5IG1hc3MgZnVuY3Rpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Byb2JhYmlsaXR5X21hc3NfZnVuY3Rpb24pXG4gICAgICAgIGNlbGxzW3hdID0gKE1hdGguZXhwKC1sYW1iZGEpICogTWF0aC5wb3cobGFtYmRhLCB4KSkgLyBmYWN0b3JpYWxYO1xuICAgICAgICBjdW11bGF0aXZlUHJvYmFiaWxpdHkgKz0gY2VsbHNbeF07XG4gICAgICAgIHgrKztcbiAgICAgICAgZmFjdG9yaWFsWCAqPSB4O1xuICAgIC8vIHdoZW4gdGhlIGN1bXVsYXRpdmVQcm9iYWJpbGl0eSBpcyBuZWFybHkgMSwgd2UndmUgY2FsY3VsYXRlZFxuICAgIC8vIHRoZSB1c2VmdWwgcmFuZ2Ugb2YgdGhpcyBkaXN0cmlidXRpb25cbiAgICB9IHdoaWxlIChjdW11bGF0aXZlUHJvYmFiaWxpdHkgPCAxIC0gZXBzaWxvbik7XG5cbiAgICByZXR1cm4gY2VsbHM7XG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogKipQZXJjZW50YWdlIFBvaW50cyBvZiB0aGUgz4cyIChDaGktU3F1YXJlZCkgRGlzdHJpYnV0aW9uKipcbiAqXG4gKiBUaGUgW8+HMiAoQ2hpLVNxdWFyZWQpIERpc3RyaWJ1dGlvbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DaGktc3F1YXJlZF9kaXN0cmlidXRpb24pIGlzIHVzZWQgaW4gdGhlIGNvbW1vblxuICogY2hpLXNxdWFyZWQgdGVzdHMgZm9yIGdvb2RuZXNzIG9mIGZpdCBvZiBhbiBvYnNlcnZlZCBkaXN0cmlidXRpb24gdG8gYSB0aGVvcmV0aWNhbCBvbmUsIHRoZSBpbmRlcGVuZGVuY2Ugb2YgdHdvXG4gKiBjcml0ZXJpYSBvZiBjbGFzc2lmaWNhdGlvbiBvZiBxdWFsaXRhdGl2ZSBkYXRhLCBhbmQgaW4gY29uZmlkZW5jZSBpbnRlcnZhbCBlc3RpbWF0aW9uIGZvciBhIHBvcHVsYXRpb24gc3RhbmRhcmRcbiAqIGRldmlhdGlvbiBvZiBhIG5vcm1hbCBkaXN0cmlidXRpb24gZnJvbSBhIHNhbXBsZSBzdGFuZGFyZCBkZXZpYXRpb24uXG4gKlxuICogVmFsdWVzIGZyb20gQXBwZW5kaXggMSwgVGFibGUgSUlJIG9mIFdpbGxpYW0gVy4gSGluZXMgJiBEb3VnbGFzIEMuIE1vbnRnb21lcnksIFwiUHJvYmFiaWxpdHkgYW5kIFN0YXRpc3RpY3MgaW5cbiAqIEVuZ2luZWVyaW5nIGFuZCBNYW5hZ2VtZW50IFNjaWVuY2VcIiwgV2lsZXkgKDE5ODApLlxuICovXG52YXIgY2hpU3F1YXJlZERpc3RyaWJ1dGlvblRhYmxlID0ge1xuICAgICcxJzoge1xuICAgICAgICAnMC45OTUnOiAwLFxuICAgICAgICAnMC45OSc6IDAsXG4gICAgICAgICcwLjk3NSc6IDAsXG4gICAgICAgICcwLjk1JzogMCxcbiAgICAgICAgJzAuOSc6IDAuMDIsXG4gICAgICAgICcwLjUnOiAwLjQ1LFxuICAgICAgICAnMC4xJzogMi43MSxcbiAgICAgICAgJzAuMDUnOiAzLjg0LFxuICAgICAgICAnMC4wMjUnOiA1LjAyLFxuICAgICAgICAnMC4wMSc6IDYuNjMsXG4gICAgICAgICcwLjAwNSc6IDcuODhcbiAgICB9LFxuICAgICcyJzoge1xuICAgICAgICAnMC45OTUnOiAwLjAxLFxuICAgICAgICAnMC45OSc6IDAuMDIsXG4gICAgICAgICcwLjk3NSc6IDAuMDUsXG4gICAgICAgICcwLjk1JzogMC4xLFxuICAgICAgICAnMC45JzogMC4yMSxcbiAgICAgICAgJzAuNSc6IDEuMzksXG4gICAgICAgICcwLjEnOiA0LjYxLFxuICAgICAgICAnMC4wNSc6IDUuOTksXG4gICAgICAgICcwLjAyNSc6IDcuMzgsXG4gICAgICAgICcwLjAxJzogOS4yMSxcbiAgICAgICAgJzAuMDA1JzogMTAuNlxuICAgIH0sXG4gICAgJzMnOiB7XG4gICAgICAgICcwLjk5NSc6IDAuMDcsXG4gICAgICAgICcwLjk5JzogMC4xMSxcbiAgICAgICAgJzAuOTc1JzogMC4yMixcbiAgICAgICAgJzAuOTUnOiAwLjM1LFxuICAgICAgICAnMC45JzogMC41OCxcbiAgICAgICAgJzAuNSc6IDIuMzcsXG4gICAgICAgICcwLjEnOiA2LjI1LFxuICAgICAgICAnMC4wNSc6IDcuODEsXG4gICAgICAgICcwLjAyNSc6IDkuMzUsXG4gICAgICAgICcwLjAxJzogMTEuMzQsXG4gICAgICAgICcwLjAwNSc6IDEyLjg0XG4gICAgfSxcbiAgICAnNCc6IHtcbiAgICAgICAgJzAuOTk1JzogMC4yMSxcbiAgICAgICAgJzAuOTknOiAwLjMsXG4gICAgICAgICcwLjk3NSc6IDAuNDgsXG4gICAgICAgICcwLjk1JzogMC43MSxcbiAgICAgICAgJzAuOSc6IDEuMDYsXG4gICAgICAgICcwLjUnOiAzLjM2LFxuICAgICAgICAnMC4xJzogNy43OCxcbiAgICAgICAgJzAuMDUnOiA5LjQ5LFxuICAgICAgICAnMC4wMjUnOiAxMS4xNCxcbiAgICAgICAgJzAuMDEnOiAxMy4yOCxcbiAgICAgICAgJzAuMDA1JzogMTQuODZcbiAgICB9LFxuICAgICc1Jzoge1xuICAgICAgICAnMC45OTUnOiAwLjQxLFxuICAgICAgICAnMC45OSc6IDAuNTUsXG4gICAgICAgICcwLjk3NSc6IDAuODMsXG4gICAgICAgICcwLjk1JzogMS4xNSxcbiAgICAgICAgJzAuOSc6IDEuNjEsXG4gICAgICAgICcwLjUnOiA0LjM1LFxuICAgICAgICAnMC4xJzogOS4yNCxcbiAgICAgICAgJzAuMDUnOiAxMS4wNyxcbiAgICAgICAgJzAuMDI1JzogMTIuODMsXG4gICAgICAgICcwLjAxJzogMTUuMDksXG4gICAgICAgICcwLjAwNSc6IDE2Ljc1XG4gICAgfSxcbiAgICAnNic6IHtcbiAgICAgICAgJzAuOTk1JzogMC42OCxcbiAgICAgICAgJzAuOTknOiAwLjg3LFxuICAgICAgICAnMC45NzUnOiAxLjI0LFxuICAgICAgICAnMC45NSc6IDEuNjQsXG4gICAgICAgICcwLjknOiAyLjIsXG4gICAgICAgICcwLjUnOiA1LjM1LFxuICAgICAgICAnMC4xJzogMTAuNjUsXG4gICAgICAgICcwLjA1JzogMTIuNTksXG4gICAgICAgICcwLjAyNSc6IDE0LjQ1LFxuICAgICAgICAnMC4wMSc6IDE2LjgxLFxuICAgICAgICAnMC4wMDUnOiAxOC41NVxuICAgIH0sXG4gICAgJzcnOiB7XG4gICAgICAgICcwLjk5NSc6IDAuOTksXG4gICAgICAgICcwLjk5JzogMS4yNSxcbiAgICAgICAgJzAuOTc1JzogMS42OSxcbiAgICAgICAgJzAuOTUnOiAyLjE3LFxuICAgICAgICAnMC45JzogMi44MyxcbiAgICAgICAgJzAuNSc6IDYuMzUsXG4gICAgICAgICcwLjEnOiAxMi4wMixcbiAgICAgICAgJzAuMDUnOiAxNC4wNyxcbiAgICAgICAgJzAuMDI1JzogMTYuMDEsXG4gICAgICAgICcwLjAxJzogMTguNDgsXG4gICAgICAgICcwLjAwNSc6IDIwLjI4XG4gICAgfSxcbiAgICAnOCc6IHtcbiAgICAgICAgJzAuOTk1JzogMS4zNCxcbiAgICAgICAgJzAuOTknOiAxLjY1LFxuICAgICAgICAnMC45NzUnOiAyLjE4LFxuICAgICAgICAnMC45NSc6IDIuNzMsXG4gICAgICAgICcwLjknOiAzLjQ5LFxuICAgICAgICAnMC41JzogNy4zNCxcbiAgICAgICAgJzAuMSc6IDEzLjM2LFxuICAgICAgICAnMC4wNSc6IDE1LjUxLFxuICAgICAgICAnMC4wMjUnOiAxNy41MyxcbiAgICAgICAgJzAuMDEnOiAyMC4wOSxcbiAgICAgICAgJzAuMDA1JzogMjEuOTZcbiAgICB9LFxuICAgICc5Jzoge1xuICAgICAgICAnMC45OTUnOiAxLjczLFxuICAgICAgICAnMC45OSc6IDIuMDksXG4gICAgICAgICcwLjk3NSc6IDIuNyxcbiAgICAgICAgJzAuOTUnOiAzLjMzLFxuICAgICAgICAnMC45JzogNC4xNyxcbiAgICAgICAgJzAuNSc6IDguMzQsXG4gICAgICAgICcwLjEnOiAxNC42OCxcbiAgICAgICAgJzAuMDUnOiAxNi45MixcbiAgICAgICAgJzAuMDI1JzogMTkuMDIsXG4gICAgICAgICcwLjAxJzogMjEuNjcsXG4gICAgICAgICcwLjAwNSc6IDIzLjU5XG4gICAgfSxcbiAgICAnMTAnOiB7XG4gICAgICAgICcwLjk5NSc6IDIuMTYsXG4gICAgICAgICcwLjk5JzogMi41NixcbiAgICAgICAgJzAuOTc1JzogMy4yNSxcbiAgICAgICAgJzAuOTUnOiAzLjk0LFxuICAgICAgICAnMC45JzogNC44NyxcbiAgICAgICAgJzAuNSc6IDkuMzQsXG4gICAgICAgICcwLjEnOiAxNS45OSxcbiAgICAgICAgJzAuMDUnOiAxOC4zMSxcbiAgICAgICAgJzAuMDI1JzogMjAuNDgsXG4gICAgICAgICcwLjAxJzogMjMuMjEsXG4gICAgICAgICcwLjAwNSc6IDI1LjE5XG4gICAgfSxcbiAgICAnMTEnOiB7XG4gICAgICAgICcwLjk5NSc6IDIuNixcbiAgICAgICAgJzAuOTknOiAzLjA1LFxuICAgICAgICAnMC45NzUnOiAzLjgyLFxuICAgICAgICAnMC45NSc6IDQuNTcsXG4gICAgICAgICcwLjknOiA1LjU4LFxuICAgICAgICAnMC41JzogMTAuMzQsXG4gICAgICAgICcwLjEnOiAxNy4yOCxcbiAgICAgICAgJzAuMDUnOiAxOS42OCxcbiAgICAgICAgJzAuMDI1JzogMjEuOTIsXG4gICAgICAgICcwLjAxJzogMjQuNzIsXG4gICAgICAgICcwLjAwNSc6IDI2Ljc2XG4gICAgfSxcbiAgICAnMTInOiB7XG4gICAgICAgICcwLjk5NSc6IDMuMDcsXG4gICAgICAgICcwLjk5JzogMy41NyxcbiAgICAgICAgJzAuOTc1JzogNC40LFxuICAgICAgICAnMC45NSc6IDUuMjMsXG4gICAgICAgICcwLjknOiA2LjMsXG4gICAgICAgICcwLjUnOiAxMS4zNCxcbiAgICAgICAgJzAuMSc6IDE4LjU1LFxuICAgICAgICAnMC4wNSc6IDIxLjAzLFxuICAgICAgICAnMC4wMjUnOiAyMy4zNCxcbiAgICAgICAgJzAuMDEnOiAyNi4yMixcbiAgICAgICAgJzAuMDA1JzogMjguM1xuICAgIH0sXG4gICAgJzEzJzoge1xuICAgICAgICAnMC45OTUnOiAzLjU3LFxuICAgICAgICAnMC45OSc6IDQuMTEsXG4gICAgICAgICcwLjk3NSc6IDUuMDEsXG4gICAgICAgICcwLjk1JzogNS44OSxcbiAgICAgICAgJzAuOSc6IDcuMDQsXG4gICAgICAgICcwLjUnOiAxMi4zNCxcbiAgICAgICAgJzAuMSc6IDE5LjgxLFxuICAgICAgICAnMC4wNSc6IDIyLjM2LFxuICAgICAgICAnMC4wMjUnOiAyNC43NCxcbiAgICAgICAgJzAuMDEnOiAyNy42OSxcbiAgICAgICAgJzAuMDA1JzogMjkuODJcbiAgICB9LFxuICAgICcxNCc6IHtcbiAgICAgICAgJzAuOTk1JzogNC4wNyxcbiAgICAgICAgJzAuOTknOiA0LjY2LFxuICAgICAgICAnMC45NzUnOiA1LjYzLFxuICAgICAgICAnMC45NSc6IDYuNTcsXG4gICAgICAgICcwLjknOiA3Ljc5LFxuICAgICAgICAnMC41JzogMTMuMzQsXG4gICAgICAgICcwLjEnOiAyMS4wNixcbiAgICAgICAgJzAuMDUnOiAyMy42OCxcbiAgICAgICAgJzAuMDI1JzogMjYuMTIsXG4gICAgICAgICcwLjAxJzogMjkuMTQsXG4gICAgICAgICcwLjAwNSc6IDMxLjMyXG4gICAgfSxcbiAgICAnMTUnOiB7XG4gICAgICAgICcwLjk5NSc6IDQuNixcbiAgICAgICAgJzAuOTknOiA1LjIzLFxuICAgICAgICAnMC45NzUnOiA2LjI3LFxuICAgICAgICAnMC45NSc6IDcuMjYsXG4gICAgICAgICcwLjknOiA4LjU1LFxuICAgICAgICAnMC41JzogMTQuMzQsXG4gICAgICAgICcwLjEnOiAyMi4zMSxcbiAgICAgICAgJzAuMDUnOiAyNSxcbiAgICAgICAgJzAuMDI1JzogMjcuNDksXG4gICAgICAgICcwLjAxJzogMzAuNTgsXG4gICAgICAgICcwLjAwNSc6IDMyLjhcbiAgICB9LFxuICAgICcxNic6IHtcbiAgICAgICAgJzAuOTk1JzogNS4xNCxcbiAgICAgICAgJzAuOTknOiA1LjgxLFxuICAgICAgICAnMC45NzUnOiA2LjkxLFxuICAgICAgICAnMC45NSc6IDcuOTYsXG4gICAgICAgICcwLjknOiA5LjMxLFxuICAgICAgICAnMC41JzogMTUuMzQsXG4gICAgICAgICcwLjEnOiAyMy41NCxcbiAgICAgICAgJzAuMDUnOiAyNi4zLFxuICAgICAgICAnMC4wMjUnOiAyOC44NSxcbiAgICAgICAgJzAuMDEnOiAzMixcbiAgICAgICAgJzAuMDA1JzogMzQuMjdcbiAgICB9LFxuICAgICcxNyc6IHtcbiAgICAgICAgJzAuOTk1JzogNS43LFxuICAgICAgICAnMC45OSc6IDYuNDEsXG4gICAgICAgICcwLjk3NSc6IDcuNTYsXG4gICAgICAgICcwLjk1JzogOC42NyxcbiAgICAgICAgJzAuOSc6IDEwLjA5LFxuICAgICAgICAnMC41JzogMTYuMzQsXG4gICAgICAgICcwLjEnOiAyNC43NyxcbiAgICAgICAgJzAuMDUnOiAyNy41OSxcbiAgICAgICAgJzAuMDI1JzogMzAuMTksXG4gICAgICAgICcwLjAxJzogMzMuNDEsXG4gICAgICAgICcwLjAwNSc6IDM1LjcyXG4gICAgfSxcbiAgICAnMTgnOiB7XG4gICAgICAgICcwLjk5NSc6IDYuMjYsXG4gICAgICAgICcwLjk5JzogNy4wMSxcbiAgICAgICAgJzAuOTc1JzogOC4yMyxcbiAgICAgICAgJzAuOTUnOiA5LjM5LFxuICAgICAgICAnMC45JzogMTAuODcsXG4gICAgICAgICcwLjUnOiAxNy4zNCxcbiAgICAgICAgJzAuMSc6IDI1Ljk5LFxuICAgICAgICAnMC4wNSc6IDI4Ljg3LFxuICAgICAgICAnMC4wMjUnOiAzMS41MyxcbiAgICAgICAgJzAuMDEnOiAzNC44MSxcbiAgICAgICAgJzAuMDA1JzogMzcuMTZcbiAgICB9LFxuICAgICcxOSc6IHtcbiAgICAgICAgJzAuOTk1JzogNi44NCxcbiAgICAgICAgJzAuOTknOiA3LjYzLFxuICAgICAgICAnMC45NzUnOiA4LjkxLFxuICAgICAgICAnMC45NSc6IDEwLjEyLFxuICAgICAgICAnMC45JzogMTEuNjUsXG4gICAgICAgICcwLjUnOiAxOC4zNCxcbiAgICAgICAgJzAuMSc6IDI3LjIsXG4gICAgICAgICcwLjA1JzogMzAuMTQsXG4gICAgICAgICcwLjAyNSc6IDMyLjg1LFxuICAgICAgICAnMC4wMSc6IDM2LjE5LFxuICAgICAgICAnMC4wMDUnOiAzOC41OFxuICAgIH0sXG4gICAgJzIwJzoge1xuICAgICAgICAnMC45OTUnOiA3LjQzLFxuICAgICAgICAnMC45OSc6IDguMjYsXG4gICAgICAgICcwLjk3NSc6IDkuNTksXG4gICAgICAgICcwLjk1JzogMTAuODUsXG4gICAgICAgICcwLjknOiAxMi40NCxcbiAgICAgICAgJzAuNSc6IDE5LjM0LFxuICAgICAgICAnMC4xJzogMjguNDEsXG4gICAgICAgICcwLjA1JzogMzEuNDEsXG4gICAgICAgICcwLjAyNSc6IDM0LjE3LFxuICAgICAgICAnMC4wMSc6IDM3LjU3LFxuICAgICAgICAnMC4wMDUnOiA0MFxuICAgIH0sXG4gICAgJzIxJzoge1xuICAgICAgICAnMC45OTUnOiA4LjAzLFxuICAgICAgICAnMC45OSc6IDguOSxcbiAgICAgICAgJzAuOTc1JzogMTAuMjgsXG4gICAgICAgICcwLjk1JzogMTEuNTksXG4gICAgICAgICcwLjknOiAxMy4yNCxcbiAgICAgICAgJzAuNSc6IDIwLjM0LFxuICAgICAgICAnMC4xJzogMjkuNjIsXG4gICAgICAgICcwLjA1JzogMzIuNjcsXG4gICAgICAgICcwLjAyNSc6IDM1LjQ4LFxuICAgICAgICAnMC4wMSc6IDM4LjkzLFxuICAgICAgICAnMC4wMDUnOiA0MS40XG4gICAgfSxcbiAgICAnMjInOiB7XG4gICAgICAgICcwLjk5NSc6IDguNjQsXG4gICAgICAgICcwLjk5JzogOS41NCxcbiAgICAgICAgJzAuOTc1JzogMTAuOTgsXG4gICAgICAgICcwLjk1JzogMTIuMzQsXG4gICAgICAgICcwLjknOiAxNC4wNCxcbiAgICAgICAgJzAuNSc6IDIxLjM0LFxuICAgICAgICAnMC4xJzogMzAuODEsXG4gICAgICAgICcwLjA1JzogMzMuOTIsXG4gICAgICAgICcwLjAyNSc6IDM2Ljc4LFxuICAgICAgICAnMC4wMSc6IDQwLjI5LFxuICAgICAgICAnMC4wMDUnOiA0Mi44XG4gICAgfSxcbiAgICAnMjMnOiB7XG4gICAgICAgICcwLjk5NSc6IDkuMjYsXG4gICAgICAgICcwLjk5JzogMTAuMixcbiAgICAgICAgJzAuOTc1JzogMTEuNjksXG4gICAgICAgICcwLjk1JzogMTMuMDksXG4gICAgICAgICcwLjknOiAxNC44NSxcbiAgICAgICAgJzAuNSc6IDIyLjM0LFxuICAgICAgICAnMC4xJzogMzIuMDEsXG4gICAgICAgICcwLjA1JzogMzUuMTcsXG4gICAgICAgICcwLjAyNSc6IDM4LjA4LFxuICAgICAgICAnMC4wMSc6IDQxLjY0LFxuICAgICAgICAnMC4wMDUnOiA0NC4xOFxuICAgIH0sXG4gICAgJzI0Jzoge1xuICAgICAgICAnMC45OTUnOiA5Ljg5LFxuICAgICAgICAnMC45OSc6IDEwLjg2LFxuICAgICAgICAnMC45NzUnOiAxMi40LFxuICAgICAgICAnMC45NSc6IDEzLjg1LFxuICAgICAgICAnMC45JzogMTUuNjYsXG4gICAgICAgICcwLjUnOiAyMy4zNCxcbiAgICAgICAgJzAuMSc6IDMzLjIsXG4gICAgICAgICcwLjA1JzogMzYuNDIsXG4gICAgICAgICcwLjAyNSc6IDM5LjM2LFxuICAgICAgICAnMC4wMSc6IDQyLjk4LFxuICAgICAgICAnMC4wMDUnOiA0NS41NlxuICAgIH0sXG4gICAgJzI1Jzoge1xuICAgICAgICAnMC45OTUnOiAxMC41MixcbiAgICAgICAgJzAuOTknOiAxMS41MixcbiAgICAgICAgJzAuOTc1JzogMTMuMTIsXG4gICAgICAgICcwLjk1JzogMTQuNjEsXG4gICAgICAgICcwLjknOiAxNi40NyxcbiAgICAgICAgJzAuNSc6IDI0LjM0LFxuICAgICAgICAnMC4xJzogMzQuMjgsXG4gICAgICAgICcwLjA1JzogMzcuNjUsXG4gICAgICAgICcwLjAyNSc6IDQwLjY1LFxuICAgICAgICAnMC4wMSc6IDQ0LjMxLFxuICAgICAgICAnMC4wMDUnOiA0Ni45M1xuICAgIH0sXG4gICAgJzI2Jzoge1xuICAgICAgICAnMC45OTUnOiAxMS4xNixcbiAgICAgICAgJzAuOTknOiAxMi4yLFxuICAgICAgICAnMC45NzUnOiAxMy44NCxcbiAgICAgICAgJzAuOTUnOiAxNS4zOCxcbiAgICAgICAgJzAuOSc6IDE3LjI5LFxuICAgICAgICAnMC41JzogMjUuMzQsXG4gICAgICAgICcwLjEnOiAzNS41NixcbiAgICAgICAgJzAuMDUnOiAzOC44OSxcbiAgICAgICAgJzAuMDI1JzogNDEuOTIsXG4gICAgICAgICcwLjAxJzogNDUuNjQsXG4gICAgICAgICcwLjAwNSc6IDQ4LjI5XG4gICAgfSxcbiAgICAnMjcnOiB7XG4gICAgICAgICcwLjk5NSc6IDExLjgxLFxuICAgICAgICAnMC45OSc6IDEyLjg4LFxuICAgICAgICAnMC45NzUnOiAxNC41NyxcbiAgICAgICAgJzAuOTUnOiAxNi4xNSxcbiAgICAgICAgJzAuOSc6IDE4LjExLFxuICAgICAgICAnMC41JzogMjYuMzQsXG4gICAgICAgICcwLjEnOiAzNi43NCxcbiAgICAgICAgJzAuMDUnOiA0MC4xMSxcbiAgICAgICAgJzAuMDI1JzogNDMuMTksXG4gICAgICAgICcwLjAxJzogNDYuOTYsXG4gICAgICAgICcwLjAwNSc6IDQ5LjY1XG4gICAgfSxcbiAgICAnMjgnOiB7XG4gICAgICAgICcwLjk5NSc6IDEyLjQ2LFxuICAgICAgICAnMC45OSc6IDEzLjU3LFxuICAgICAgICAnMC45NzUnOiAxNS4zMSxcbiAgICAgICAgJzAuOTUnOiAxNi45MyxcbiAgICAgICAgJzAuOSc6IDE4Ljk0LFxuICAgICAgICAnMC41JzogMjcuMzQsXG4gICAgICAgICcwLjEnOiAzNy45MixcbiAgICAgICAgJzAuMDUnOiA0MS4zNCxcbiAgICAgICAgJzAuMDI1JzogNDQuNDYsXG4gICAgICAgICcwLjAxJzogNDguMjgsXG4gICAgICAgICcwLjAwNSc6IDUwLjk5XG4gICAgfSxcbiAgICAnMjknOiB7XG4gICAgICAgICcwLjk5NSc6IDEzLjEyLFxuICAgICAgICAnMC45OSc6IDE0LjI2LFxuICAgICAgICAnMC45NzUnOiAxNi4wNSxcbiAgICAgICAgJzAuOTUnOiAxNy43MSxcbiAgICAgICAgJzAuOSc6IDE5Ljc3LFxuICAgICAgICAnMC41JzogMjguMzQsXG4gICAgICAgICcwLjEnOiAzOS4wOSxcbiAgICAgICAgJzAuMDUnOiA0Mi41NixcbiAgICAgICAgJzAuMDI1JzogNDUuNzIsXG4gICAgICAgICcwLjAxJzogNDkuNTksXG4gICAgICAgICcwLjAwNSc6IDUyLjM0XG4gICAgfSxcbiAgICAnMzAnOiB7XG4gICAgICAgICcwLjk5NSc6IDEzLjc5LFxuICAgICAgICAnMC45OSc6IDE0Ljk1LFxuICAgICAgICAnMC45NzUnOiAxNi43OSxcbiAgICAgICAgJzAuOTUnOiAxOC40OSxcbiAgICAgICAgJzAuOSc6IDIwLjYsXG4gICAgICAgICcwLjUnOiAyOS4zNCxcbiAgICAgICAgJzAuMSc6IDQwLjI2LFxuICAgICAgICAnMC4wNSc6IDQzLjc3LFxuICAgICAgICAnMC4wMjUnOiA0Ni45OCxcbiAgICAgICAgJzAuMDEnOiA1MC44OSxcbiAgICAgICAgJzAuMDA1JzogNTMuNjdcbiAgICB9LFxuICAgICc0MCc6IHtcbiAgICAgICAgJzAuOTk1JzogMjAuNzEsXG4gICAgICAgICcwLjk5JzogMjIuMTYsXG4gICAgICAgICcwLjk3NSc6IDI0LjQzLFxuICAgICAgICAnMC45NSc6IDI2LjUxLFxuICAgICAgICAnMC45JzogMjkuMDUsXG4gICAgICAgICcwLjUnOiAzOS4zNCxcbiAgICAgICAgJzAuMSc6IDUxLjgxLFxuICAgICAgICAnMC4wNSc6IDU1Ljc2LFxuICAgICAgICAnMC4wMjUnOiA1OS4zNCxcbiAgICAgICAgJzAuMDEnOiA2My42OSxcbiAgICAgICAgJzAuMDA1JzogNjYuNzdcbiAgICB9LFxuICAgICc1MCc6IHtcbiAgICAgICAgJzAuOTk1JzogMjcuOTksXG4gICAgICAgICcwLjk5JzogMjkuNzEsXG4gICAgICAgICcwLjk3NSc6IDMyLjM2LFxuICAgICAgICAnMC45NSc6IDM0Ljc2LFxuICAgICAgICAnMC45JzogMzcuNjksXG4gICAgICAgICcwLjUnOiA0OS4zMyxcbiAgICAgICAgJzAuMSc6IDYzLjE3LFxuICAgICAgICAnMC4wNSc6IDY3LjUsXG4gICAgICAgICcwLjAyNSc6IDcxLjQyLFxuICAgICAgICAnMC4wMSc6IDc2LjE1LFxuICAgICAgICAnMC4wMDUnOiA3OS40OVxuICAgIH0sXG4gICAgJzYwJzoge1xuICAgICAgICAnMC45OTUnOiAzNS41MyxcbiAgICAgICAgJzAuOTknOiAzNy40OCxcbiAgICAgICAgJzAuOTc1JzogNDAuNDgsXG4gICAgICAgICcwLjk1JzogNDMuMTksXG4gICAgICAgICcwLjknOiA0Ni40NixcbiAgICAgICAgJzAuNSc6IDU5LjMzLFxuICAgICAgICAnMC4xJzogNzQuNCxcbiAgICAgICAgJzAuMDUnOiA3OS4wOCxcbiAgICAgICAgJzAuMDI1JzogODMuMyxcbiAgICAgICAgJzAuMDEnOiA4OC4zOCxcbiAgICAgICAgJzAuMDA1JzogOTEuOTVcbiAgICB9LFxuICAgICc3MCc6IHtcbiAgICAgICAgJzAuOTk1JzogNDMuMjgsXG4gICAgICAgICcwLjk5JzogNDUuNDQsXG4gICAgICAgICcwLjk3NSc6IDQ4Ljc2LFxuICAgICAgICAnMC45NSc6IDUxLjc0LFxuICAgICAgICAnMC45JzogNTUuMzMsXG4gICAgICAgICcwLjUnOiA2OS4zMyxcbiAgICAgICAgJzAuMSc6IDg1LjUzLFxuICAgICAgICAnMC4wNSc6IDkwLjUzLFxuICAgICAgICAnMC4wMjUnOiA5NS4wMixcbiAgICAgICAgJzAuMDEnOiAxMDAuNDIsXG4gICAgICAgICcwLjAwNSc6IDEwNC4yMlxuICAgIH0sXG4gICAgJzgwJzoge1xuICAgICAgICAnMC45OTUnOiA1MS4xNyxcbiAgICAgICAgJzAuOTknOiA1My41NCxcbiAgICAgICAgJzAuOTc1JzogNTcuMTUsXG4gICAgICAgICcwLjk1JzogNjAuMzksXG4gICAgICAgICcwLjknOiA2NC4yOCxcbiAgICAgICAgJzAuNSc6IDc5LjMzLFxuICAgICAgICAnMC4xJzogOTYuNTgsXG4gICAgICAgICcwLjA1JzogMTAxLjg4LFxuICAgICAgICAnMC4wMjUnOiAxMDYuNjMsXG4gICAgICAgICcwLjAxJzogMTEyLjMzLFxuICAgICAgICAnMC4wMDUnOiAxMTYuMzJcbiAgICB9LFxuICAgICc5MCc6IHtcbiAgICAgICAgJzAuOTk1JzogNTkuMixcbiAgICAgICAgJzAuOTknOiA2MS43NSxcbiAgICAgICAgJzAuOTc1JzogNjUuNjUsXG4gICAgICAgICcwLjk1JzogNjkuMTMsXG4gICAgICAgICcwLjknOiA3My4yOSxcbiAgICAgICAgJzAuNSc6IDg5LjMzLFxuICAgICAgICAnMC4xJzogMTA3LjU3LFxuICAgICAgICAnMC4wNSc6IDExMy4xNCxcbiAgICAgICAgJzAuMDI1JzogMTE4LjE0LFxuICAgICAgICAnMC4wMSc6IDEyNC4xMixcbiAgICAgICAgJzAuMDA1JzogMTI4LjNcbiAgICB9LFxuICAgICcxMDAnOiB7XG4gICAgICAgICcwLjk5NSc6IDY3LjMzLFxuICAgICAgICAnMC45OSc6IDcwLjA2LFxuICAgICAgICAnMC45NzUnOiA3NC4yMixcbiAgICAgICAgJzAuOTUnOiA3Ny45MyxcbiAgICAgICAgJzAuOSc6IDgyLjM2LFxuICAgICAgICAnMC41JzogOTkuMzMsXG4gICAgICAgICcwLjEnOiAxMTguNSxcbiAgICAgICAgJzAuMDUnOiAxMjQuMzQsXG4gICAgICAgICcwLjAyNSc6IDEyOS41NixcbiAgICAgICAgJzAuMDEnOiAxMzUuODEsXG4gICAgICAgICcwLjAwNSc6IDE0MC4xN1xuICAgIH1cbn07XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogVGhlIFvPhzIgKENoaS1TcXVhcmVkKSBHb29kbmVzcy1vZi1GaXQgVGVzdF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Hb29kbmVzc19vZl9maXQjUGVhcnNvbi4yN3NfY2hpLXNxdWFyZWRfdGVzdClcbiAqIHVzZXMgYSBtZWFzdXJlIG9mIGdvb2RuZXNzIG9mIGZpdCB3aGljaCBpcyB0aGUgc3VtIG9mIGRpZmZlcmVuY2VzIGJldHdlZW4gb2JzZXJ2ZWQgYW5kIGV4cGVjdGVkIG91dGNvbWUgZnJlcXVlbmNpZXNcbiAqICh0aGF0IGlzLCBjb3VudHMgb2Ygb2JzZXJ2YXRpb25zKSwgZWFjaCBzcXVhcmVkIGFuZCBkaXZpZGVkIGJ5IHRoZSBudW1iZXIgb2Ygb2JzZXJ2YXRpb25zIGV4cGVjdGVkIGdpdmVuIHRoZVxuICogaHlwb3RoZXNpemVkIGRpc3RyaWJ1dGlvbi4gVGhlIHJlc3VsdGluZyDPhzIgc3RhdGlzdGljLCBgY2hpU3F1YXJlZGAsIGNhbiBiZSBjb21wYXJlZCB0byB0aGUgY2hpLXNxdWFyZWQgZGlzdHJpYnV0aW9uXG4gKiB0byBkZXRlcm1pbmUgdGhlIGdvb2RuZXNzIG9mIGZpdC4gSW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHRoZSBkZWdyZWVzIG9mIGZyZWVkb20gb2YgdGhlIGNoaS1zcXVhcmVkIGRpc3RyaWJ1dGlvbiwgb25lXG4gKiB0YWtlcyB0aGUgdG90YWwgbnVtYmVyIG9mIG9ic2VydmVkIGZyZXF1ZW5jaWVzIGFuZCBzdWJ0cmFjdHMgdGhlIG51bWJlciBvZiBlc3RpbWF0ZWQgcGFyYW1ldGVycy4gVGhlIHRlc3Qgc3RhdGlzdGljXG4gKiBmb2xsb3dzLCBhcHByb3hpbWF0ZWx5LCBhIGNoaS1zcXVhcmUgZGlzdHJpYnV0aW9uIHdpdGggKGsg4oiSIGMpIGRlZ3JlZXMgb2YgZnJlZWRvbSB3aGVyZSBga2AgaXMgdGhlIG51bWJlciBvZiBub24tZW1wdHlcbiAqIGNlbGxzIGFuZCBgY2AgaXMgdGhlIG51bWJlciBvZiBlc3RpbWF0ZWQgcGFyYW1ldGVycyBmb3IgdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGRhdGFcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3RyaWJ1dGlvblR5cGUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwb2ludCBpbiBhIGRpc3RyaWJ1dGlvbjpcbiAqIGZvciBpbnN0YW5jZSwgYmlub21pYWwsIGJlcm5vdWxsaSwgb3IgcG9pc3NvblxuICogQHBhcmFtIHtudW1iZXJ9IHNpZ25pZmljYW5jZVxuICogQHJldHVybnMge251bWJlcn0gY2hpIHNxdWFyZWQgZ29vZG5lc3Mgb2YgZml0XG4gKiBAZXhhbXBsZVxuICogLy8gRGF0YSBmcm9tIFBvaXNzb24gZ29vZG5lc3Mtb2YtZml0IGV4YW1wbGUgMTAtMTkgaW4gV2lsbGlhbSBXLiBIaW5lcyAmIERvdWdsYXMgQy4gTW9udGdvbWVyeSxcbiAqIC8vIFwiUHJvYmFiaWxpdHkgYW5kIFN0YXRpc3RpY3MgaW4gRW5naW5lZXJpbmcgYW5kIE1hbmFnZW1lbnQgU2NpZW5jZVwiLCBXaWxleSAoMTk4MCkuXG4gKiB2YXIgZGF0YTEwMTkgPSBbXG4gKiAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAqICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICogICAgIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsXG4gKiAgICAgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMixcbiAqICAgICAzLCAzLCAzLCAzXG4gKiBdO1xuICogc3MuY2hpU3F1YXJlZEdvb2RuZXNzT2ZGaXQoZGF0YTEwMTksIHNzLnBvaXNzb25EaXN0cmlidXRpb24sIDAuMDUpOyAvLz0gZmFsc2VcbiAqL1xuZnVuY3Rpb24gY2hpU3F1YXJlZEdvb2RuZXNzT2ZGaXQoXG4gICAgZGF0YS8qOiBBcnJheTxudW1iZXI+ICovLFxuICAgIGRpc3RyaWJ1dGlvblR5cGUvKjogRnVuY3Rpb24gKi8sXG4gICAgc2lnbmlmaWNhbmNlLyo6IG51bWJlciAqLykvKjogYm9vbGVhbiAqLyB7XG4gICAgLy8gRXN0aW1hdGUgZnJvbSB0aGUgc2FtcGxlIGRhdGEsIGEgd2VpZ2h0ZWQgbWVhbi5cbiAgICB2YXIgaW5wdXRNZWFuID0gbWVhbihkYXRhKSxcbiAgICAgICAgLy8gQ2FsY3VsYXRlZCB2YWx1ZSBvZiB0aGUgz4cyIHN0YXRpc3RpYy5cbiAgICAgICAgY2hpU3F1YXJlZCA9IDAsXG4gICAgICAgIC8vIERlZ3JlZXMgb2YgZnJlZWRvbSwgY2FsY3VsYXRlZCBhcyAobnVtYmVyIG9mIGNsYXNzIGludGVydmFscyAtXG4gICAgICAgIC8vIG51bWJlciBvZiBoeXBvdGhlc2l6ZWQgZGlzdHJpYnV0aW9uIHBhcmFtZXRlcnMgZXN0aW1hdGVkIC0gMSlcbiAgICAgICAgZGVncmVlc09mRnJlZWRvbSxcbiAgICAgICAgLy8gTnVtYmVyIG9mIGh5cG90aGVzaXplZCBkaXN0cmlidXRpb24gcGFyYW1ldGVycyBlc3RpbWF0ZWQsIGV4cGVjdGVkIHRvIGJlIHN1cHBsaWVkIGluIHRoZSBkaXN0cmlidXRpb24gdGVzdC5cbiAgICAgICAgLy8gTG9zZSBvbmUgZGVncmVlIG9mIGZyZWVkb20gZm9yIGVzdGltYXRpbmcgYGxhbWJkYWAgZnJvbSB0aGUgc2FtcGxlIGRhdGEuXG4gICAgICAgIGMgPSAxLFxuICAgICAgICAvLyBUaGUgaHlwb3RoZXNpemVkIGRpc3RyaWJ1dGlvbi5cbiAgICAgICAgLy8gR2VuZXJhdGUgdGhlIGh5cG90aGVzaXplZCBkaXN0cmlidXRpb24uXG4gICAgICAgIGh5cG90aGVzaXplZERpc3RyaWJ1dGlvbiA9IGRpc3RyaWJ1dGlvblR5cGUoaW5wdXRNZWFuKSxcbiAgICAgICAgb2JzZXJ2ZWRGcmVxdWVuY2llcyA9IFtdLFxuICAgICAgICBleHBlY3RlZEZyZXF1ZW5jaWVzID0gW10sXG4gICAgICAgIGs7XG5cbiAgICAvLyBDcmVhdGUgYW4gYXJyYXkgaG9sZGluZyBhIGhpc3RvZ3JhbSBmcm9tIHRoZSBzYW1wbGUgZGF0YSwgb2ZcbiAgICAvLyB0aGUgZm9ybSBgeyB2YWx1ZTogbnVtYmVyT2ZPY3VycmVuY2VzIH1gXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChvYnNlcnZlZEZyZXF1ZW5jaWVzW2RhdGFbaV1dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9ic2VydmVkRnJlcXVlbmNpZXNbZGF0YVtpXV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIG9ic2VydmVkRnJlcXVlbmNpZXNbZGF0YVtpXV0rKztcbiAgICB9XG5cbiAgICAvLyBUaGUgaGlzdG9ncmFtIHdlIGNyZWF0ZWQgbWlnaHQgYmUgc3BhcnNlIC0gdGhlcmUgbWlnaHQgYmUgZ2Fwc1xuICAgIC8vIGJldHdlZW4gdmFsdWVzLiBTbyB3ZSBpdGVyYXRlIHRocm91Z2ggdGhlIGhpc3RvZ3JhbSwgbWFraW5nXG4gICAgLy8gc3VyZSB0aGF0IGluc3RlYWQgb2YgdW5kZWZpbmVkLCBnYXBzIGhhdmUgMCB2YWx1ZXMuXG4gICAgZm9yIChpID0gMDsgaSA8IG9ic2VydmVkRnJlcXVlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG9ic2VydmVkRnJlcXVlbmNpZXNbaV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb2JzZXJ2ZWRGcmVxdWVuY2llc1tpXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYW4gYXJyYXkgaG9sZGluZyBhIGhpc3RvZ3JhbSBvZiBleHBlY3RlZCBkYXRhIGdpdmVuIHRoZVxuICAgIC8vIHNhbXBsZSBzaXplIGFuZCBoeXBvdGhlc2l6ZWQgZGlzdHJpYnV0aW9uLlxuICAgIGZvciAoayBpbiBoeXBvdGhlc2l6ZWREaXN0cmlidXRpb24pIHtcbiAgICAgICAgaWYgKGsgaW4gb2JzZXJ2ZWRGcmVxdWVuY2llcykge1xuICAgICAgICAgICAgZXhwZWN0ZWRGcmVxdWVuY2llc1sra10gPSBoeXBvdGhlc2l6ZWREaXN0cmlidXRpb25ba10gKiBkYXRhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdvcmtpbmcgYmFja3dhcmQgdGhyb3VnaCB0aGUgZXhwZWN0ZWQgZnJlcXVlbmNpZXMsIGNvbGxhcHNlIGNsYXNzZXNcbiAgICAvLyBpZiBsZXNzIHRoYW4gdGhyZWUgb2JzZXJ2YXRpb25zIGFyZSBleHBlY3RlZCBmb3IgYSBjbGFzcy5cbiAgICAvLyBUaGlzIHRyYW5zZm9ybWF0aW9uIGlzIGFwcGxpZWQgdG8gdGhlIG9ic2VydmVkIGZyZXF1ZW5jaWVzIGFzIHdlbGwuXG4gICAgZm9yIChrID0gZXhwZWN0ZWRGcmVxdWVuY2llcy5sZW5ndGggLSAxOyBrID49IDA7IGstLSkge1xuICAgICAgICBpZiAoZXhwZWN0ZWRGcmVxdWVuY2llc1trXSA8IDMpIHtcbiAgICAgICAgICAgIGV4cGVjdGVkRnJlcXVlbmNpZXNbayAtIDFdICs9IGV4cGVjdGVkRnJlcXVlbmNpZXNba107XG4gICAgICAgICAgICBleHBlY3RlZEZyZXF1ZW5jaWVzLnBvcCgpO1xuXG4gICAgICAgICAgICBvYnNlcnZlZEZyZXF1ZW5jaWVzW2sgLSAxXSArPSBvYnNlcnZlZEZyZXF1ZW5jaWVzW2tdO1xuICAgICAgICAgICAgb2JzZXJ2ZWRGcmVxdWVuY2llcy5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgc3F1YXJlZCBkaWZmZXJlbmNlcyBiZXR3ZWVuIG9ic2VydmVkICYgZXhwZWN0ZWRcbiAgICAvLyBmcmVxdWVuY2llcywgYWNjdW11bGF0aW5nIHRoZSBgY2hpU3F1YXJlZGAgc3RhdGlzdGljLlxuICAgIGZvciAoayA9IDA7IGsgPCBvYnNlcnZlZEZyZXF1ZW5jaWVzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIGNoaVNxdWFyZWQgKz0gTWF0aC5wb3coXG4gICAgICAgICAgICBvYnNlcnZlZEZyZXF1ZW5jaWVzW2tdIC0gZXhwZWN0ZWRGcmVxdWVuY2llc1trXSwgMikgL1xuICAgICAgICAgICAgZXhwZWN0ZWRGcmVxdWVuY2llc1trXTtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgZGVncmVlcyBvZiBmcmVlZG9tIGZvciB0aGlzIHRlc3QgYW5kIGxvb2sgaXQgdXAgaW4gdGhlXG4gICAgLy8gYGNoaVNxdWFyZWREaXN0cmlidXRpb25UYWJsZWAgaW4gb3JkZXIgdG9cbiAgICAvLyBhY2NlcHQgb3IgcmVqZWN0IHRoZSBnb29kbmVzcy1vZi1maXQgb2YgdGhlIGh5cG90aGVzaXplZCBkaXN0cmlidXRpb24uXG4gICAgZGVncmVlc09mRnJlZWRvbSA9IG9ic2VydmVkRnJlcXVlbmNpZXMubGVuZ3RoIC0gYyAtIDE7XG4gICAgcmV0dXJuIGNoaVNxdWFyZWREaXN0cmlidXRpb25UYWJsZVtkZWdyZWVzT2ZGcmVlZG9tXVtzaWduaWZpY2FuY2VdIDwgY2hpU3F1YXJlZDtcbn1cblxuLyogQGZsb3cgKi9cblxudmFyIFNRUlRfMlBJID0gTWF0aC5zcXJ0KDIgKiBNYXRoLlBJKTtcblxuLyoqXG4gKiBbV2VsbC1rbm93biBrZXJuZWxzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9LZXJuZWxfKHN0YXRpc3RpY3MpI0tlcm5lbF9mdW5jdGlvbnNfaW5fY29tbW9uX3VzZSlcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBrZXJuZWxzIC8qOiB7W3N0cmluZ106IChudW1iZXIpID0+IG51bWJlcn0gKi8gPSB7XG4gICAgLyoqXG4gICAgICogVGhlIGdhdXNzaWFuIGtlcm5lbC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdhdXNzaWFuOiBmdW5jdGlvbiAodSkge1xuICAgICAgICByZXR1cm4gTWF0aC5leHAoLTAuNSAqIHUgKiB1KSAvIFNRUlRfMlBJO1xuICAgIH1cbn07XG5cbi8qKlxuICogV2VsbCBrbm93biBiYW5kd2lkdGggc2VsZWN0aW9uIG1ldGhvZHNcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBiYW5kd2lkdGhNZXRob2RzIC8qOiB7W3N0cmluZ106IChBcnJheTxudW1iZXI+KSA9PiBudW1iZXJ9ICovID0ge1xuICAgIC8qKlxuICAgICAqIFRoZSBbXCJub3JtYWwgcmVmZXJlbmNlIGRpc3RyaWJ1dGlvblwiXG4gICAgICogcnVsZS1vZi10aHVtYl0oaHR0cHM6Ly9zdGF0LmV0aHouY2gvUi1tYW51YWwvUi1kZXZlbC9saWJyYXJ5L01BU1MvaHRtbC9iYW5kd2lkdGgubnJkLmh0bWwpLFxuICAgICAqIGEgY29tbW9ubHkgdXNlZCB2ZXJzaW9uIG9mIFtTaWx2ZXJtYW4nc1xuICAgICAqIHJ1bGUtb2YtdGh1bWJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0tlcm5lbF9kZW5zaXR5X2VzdGltYXRpb24jQV9ydWxlLW9mLXRodW1iX2JhbmR3aWR0aF9lc3RpbWF0b3IpLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbnJkOiBmdW5jdGlvbiAoeCAvKjogQXJyYXk8bnVtYmVyPiAqLykge1xuICAgICAgICB2YXIgcyA9IHNhbXBsZVN0YW5kYXJkRGV2aWF0aW9uKHgpO1xuICAgICAgICB2YXIgaXFyID0gaW50ZXJxdWFydGlsZVJhbmdlKHgpO1xuICAgICAgICBpZiAodHlwZW9mIGlxciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHMgPSBNYXRoLm1pbihzLCBpcXIgLyAxLjM0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMS4wNiAqIHMgKiBNYXRoLnBvdyh4Lmxlbmd0aCwgLTAuMik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBbS2VybmVsIGRlbnNpdHkgZXN0aW1hdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvS2VybmVsX2RlbnNpdHlfZXN0aW1hdGlvbilcbiAqIGlzIGEgdXNlZnVsIHRvb2wgZm9yLCBhbW9uZyBvdGhlciB0aGluZ3MsIGVzdGltYXRpbmcgdGhlIHNoYXBlIG9mIHRoZVxuICogdW5kZXJseWluZyBwcm9iYWJpbGl0eSBkaXN0cmlidXRpb24gZnJvbSBhIHNhbXBsZS5cbiAqXG4gKiBAbmFtZSBrZXJuZWxEZW5zaXR5RXN0aW1hdGlvblxuICogQHBhcmFtIFggc2FtcGxlIHZhbHVlc1xuICogQHBhcmFtIGtlcm5lbCBUaGUga2VybmVsIGZ1bmN0aW9uIHRvIHVzZS4gSWYgYSBmdW5jdGlvbiBpcyBwcm92aWRlZCwgaXQgc2hvdWxkIHJldHVybiBub24tbmVnYXRpdmUgdmFsdWVzIGFuZCBpbnRlZ3JhdGUgdG8gMS4gRGVmYXVsdHMgdG8gJ2dhdXNzaWFuJy5cbiAqIEBwYXJhbSBiYW5kd2lkdGhNZXRob2QgVGhlIFwiYmFuZHdpZHRoIHNlbGVjdGlvblwiIG1ldGhvZCB0byB1c2UsIG9yIGEgZml4ZWQgYmFuZHdpZHRoIHZhbHVlLiBEZWZhdWx0cyB0byBcIm5yZFwiLCB0aGUgY29tbW9ubHktdXNlZCBbXCJub3JtYWwgcmVmZXJlbmNlIGRpc3RyaWJ1dGlvblwiIHJ1bGUtb2YtdGh1bWJdKGh0dHBzOi8vc3RhdC5ldGh6LmNoL1ItbWFudWFsL1ItZGV2ZWwvbGlicmFyeS9NQVNTL2h0bWwvYmFuZHdpZHRoLm5yZC5odG1sKS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQW4gZXN0aW1hdGVkIFtwcm9iYWJpbGl0eSBkZW5zaXR5IGZ1bmN0aW9uXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Qcm9iYWJpbGl0eV9kZW5zaXR5X2Z1bmN0aW9uKSBmb3IgdGhlIGdpdmVuIHNhbXBsZS4gVGhlIHJldHVybmVkIGZ1bmN0aW9uIHJ1bnMgaW4gYE8oWC5sZW5ndGgpYC5cbiAqL1xuZnVuY3Rpb24ga2VybmVsRGVuc2l0eUVzdGltYXRpb24oXG4gICAgWCAvKjogQXJyYXk8bnVtYmVyPiAqLyxcbiAgICBrZXJuZWwgLyo6ICRLZXlzPHR5cGVvZiBrZXJuZWxzPiB8ICgobnVtYmVyKSA9PiBudW1iZXIpIHwgdm9pZCovLFxuICAgIGJhbmR3aWR0aE1ldGhvZCAvKjogJEtleXM8dHlwZW9mIGJhbmR3aWR0aE1ldGhvZHM+IHwgbnVtYmVyIHwgdm9pZCovXG4pIHtcbiAgICB2YXIga2VybmVsRm4vKjogKG51bWJlcikgPT4gbnVtYmVyICovO1xuICAgIGlmIChrZXJuZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXJuZWxGbiA9IGtlcm5lbHMuZ2F1c3NpYW47XG4gICAgfSBlbHNlIGlmICh0eXBlb2Yga2VybmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoIWtlcm5lbHNba2VybmVsXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGtlcm5lbCBcIicgKyBrZXJuZWwgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICBrZXJuZWxGbiA9IGtlcm5lbHNba2VybmVsXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBrZXJuZWxGbiA9IGtlcm5lbDtcbiAgICB9XG5cbiAgICB2YXIgYmFuZHdpZHRoO1xuICAgIGlmICh0eXBlb2YgYmFuZHdpZHRoTWV0aG9kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBiYW5kd2lkdGggPSBiYW5kd2lkdGhNZXRob2RzLm5yZChYKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBiYW5kd2lkdGhNZXRob2QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICghYmFuZHdpZHRoTWV0aG9kc1tiYW5kd2lkdGhNZXRob2RdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gYmFuZHdpZHRoIG1ldGhvZCBcIicgKyBiYW5kd2lkdGhNZXRob2QgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICBiYW5kd2lkdGggPSBiYW5kd2lkdGhNZXRob2RzW2JhbmR3aWR0aE1ldGhvZF0oWCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYmFuZHdpZHRoID0gYmFuZHdpZHRoTWV0aG9kO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoeCAvKjogbnVtYmVyKi8pIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IFgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN1bSArPSBrZXJuZWxGbigoeCAtIFhbaV0pIC8gYmFuZHdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtIC8gYmFuZHdpZHRoIC8gWC5sZW5ndGg7XG4gICAgfVxufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFRoZSBbWi1TY29yZSwgb3IgU3RhbmRhcmQgU2NvcmVdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3RhbmRhcmRfc2NvcmUpLlxuICpcbiAqIFRoZSBzdGFuZGFyZCBzY29yZSBpcyB0aGUgbnVtYmVyIG9mIHN0YW5kYXJkIGRldmlhdGlvbnMgYW4gb2JzZXJ2YXRpb25cbiAqIG9yIGRhdHVtIGlzIGFib3ZlIG9yIGJlbG93IHRoZSBtZWFuLiBUaHVzLCBhIHBvc2l0aXZlIHN0YW5kYXJkIHNjb3JlXG4gKiByZXByZXNlbnRzIGEgZGF0dW0gYWJvdmUgdGhlIG1lYW4sIHdoaWxlIGEgbmVnYXRpdmUgc3RhbmRhcmQgc2NvcmVcbiAqIHJlcHJlc2VudHMgYSBkYXR1bSBiZWxvdyB0aGUgbWVhbi4gSXQgaXMgYSBkaW1lbnNpb25sZXNzIHF1YW50aXR5XG4gKiBvYnRhaW5lZCBieSBzdWJ0cmFjdGluZyB0aGUgcG9wdWxhdGlvbiBtZWFuIGZyb20gYW4gaW5kaXZpZHVhbCByYXdcbiAqIHNjb3JlIGFuZCB0aGVuIGRpdmlkaW5nIHRoZSBkaWZmZXJlbmNlIGJ5IHRoZSBwb3B1bGF0aW9uIHN0YW5kYXJkXG4gKiBkZXZpYXRpb24uXG4gKlxuICogVGhlIHotc2NvcmUgaXMgb25seSBkZWZpbmVkIGlmIG9uZSBrbm93cyB0aGUgcG9wdWxhdGlvbiBwYXJhbWV0ZXJzO1xuICogaWYgb25lIG9ubHkgaGFzIGEgc2FtcGxlIHNldCwgdGhlbiB0aGUgYW5hbG9nb3VzIGNvbXB1dGF0aW9uIHdpdGhcbiAqIHNhbXBsZSBtZWFuIGFuZCBzYW1wbGUgc3RhbmRhcmQgZGV2aWF0aW9uIHlpZWxkcyB0aGVcbiAqIFN0dWRlbnQncyB0LXN0YXRpc3RpYy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IG1lYW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFuZGFyZERldmlhdGlvblxuICogQHJldHVybiB7bnVtYmVyfSB6IHNjb3JlXG4gKiBAZXhhbXBsZVxuICogelNjb3JlKDc4LCA4MCwgNSk7IC8vID0+IC0wLjRcbiAqL1xuZnVuY3Rpb24gelNjb3JlKHgvKjpudW1iZXIqLywgbWVhbi8qOm51bWJlciovLCBzdGFuZGFyZERldmlhdGlvbi8qOm51bWJlciovKS8qOm51bWJlciovIHtcbiAgICByZXR1cm4gKHggLSBtZWFuKSAvIHN0YW5kYXJkRGV2aWF0aW9uO1xufVxuXG4vKiBAZmxvdyAqL1xuXG52YXIgU1FSVF8yUEkkMSA9IE1hdGguc3FydCgyICogTWF0aC5QSSk7XG5cbmZ1bmN0aW9uIGN1bXVsYXRpdmVEaXN0cmlidXRpb24oeikge1xuICAgIHZhciBzdW0gPSB6LFxuICAgICAgICB0bXAgPSB6O1xuXG4gICAgLy8gMTUgaXRlcmF0aW9ucyBhcmUgZW5vdWdoIGZvciA0LWRpZ2l0IHByZWNpc2lvblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgMTU7IGkrKykge1xuICAgICAgICB0bXAgKj0geiAqIHogLyAoMiAqIGkgKyAxKTtcbiAgICAgICAgc3VtICs9IHRtcDtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKDAuNSArIChzdW0gLyBTUVJUXzJQSSQxKSAqIE1hdGguZXhwKC16ICogeiAvIDIpKSAqIDFlNCkgLyAxZTQ7XG59XG5cbi8qKlxuICogQSBzdGFuZGFyZCBub3JtYWwgdGFibGUsIGFsc28gY2FsbGVkIHRoZSB1bml0IG5vcm1hbCB0YWJsZSBvciBaIHRhYmxlLFxuICogaXMgYSBtYXRoZW1hdGljYWwgdGFibGUgZm9yIHRoZSB2YWx1ZXMgb2YgzqYgKHBoaSksIHdoaWNoIGFyZSB0aGUgdmFsdWVzIG9mXG4gKiB0aGUgY3VtdWxhdGl2ZSBkaXN0cmlidXRpb24gZnVuY3Rpb24gb2YgdGhlIG5vcm1hbCBkaXN0cmlidXRpb24uXG4gKiBJdCBpcyB1c2VkIHRvIGZpbmQgdGhlIHByb2JhYmlsaXR5IHRoYXQgYSBzdGF0aXN0aWMgaXMgb2JzZXJ2ZWQgYmVsb3csXG4gKiBhYm92ZSwgb3IgYmV0d2VlbiB2YWx1ZXMgb24gdGhlIHN0YW5kYXJkIG5vcm1hbCBkaXN0cmlidXRpb24sIGFuZCBieVxuICogZXh0ZW5zaW9uLCBhbnkgbm9ybWFsIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBUaGUgcHJvYmFiaWxpdGllcyBhcmUgY2FsY3VsYXRlZCB1c2luZyB0aGVcbiAqIFtDdW11bGF0aXZlIGRpc3RyaWJ1dGlvbiBmdW5jdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTm9ybWFsX2Rpc3RyaWJ1dGlvbiNDdW11bGF0aXZlX2Rpc3RyaWJ1dGlvbl9mdW5jdGlvbikuXG4gKiBUaGUgdGFibGUgdXNlZCBpcyB0aGUgY3VtdWxhdGl2ZSwgYW5kIG5vdCBjdW11bGF0aXZlIGZyb20gMCB0byBtZWFuXG4gKiAoZXZlbiB0aG91Z2ggdGhlIGxhdHRlciBoYXMgNSBkaWdpdHMgcHJlY2lzaW9uLCBpbnN0ZWFkIG9mIDQpLlxuICovXG52YXIgc3RhbmRhcmROb3JtYWxUYWJsZS8qOiBBcnJheTxudW1iZXI+ICovID0gW107XG5cbmZvciAodmFyIHogPSAwOyB6IDw9IDMuMDk7IHogKz0gMC4wMSkge1xuICAgIHN0YW5kYXJkTm9ybWFsVGFibGUucHVzaChjdW11bGF0aXZlRGlzdHJpYnV0aW9uKHopKTtcbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiAqKltDdW11bGF0aXZlIFN0YW5kYXJkIE5vcm1hbCBQcm9iYWJpbGl0eV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TdGFuZGFyZF9ub3JtYWxfdGFibGUpKipcbiAqXG4gKiBTaW5jZSBwcm9iYWJpbGl0eSB0YWJsZXMgY2Fubm90IGJlXG4gKiBwcmludGVkIGZvciBldmVyeSBub3JtYWwgZGlzdHJpYnV0aW9uLCBhcyB0aGVyZSBhcmUgYW4gaW5maW5pdGUgdmFyaWV0eVxuICogb2Ygbm9ybWFsIGRpc3RyaWJ1dGlvbnMsIGl0IGlzIGNvbW1vbiBwcmFjdGljZSB0byBjb252ZXJ0IGEgbm9ybWFsIHRvIGFcbiAqIHN0YW5kYXJkIG5vcm1hbCBhbmQgdGhlbiB1c2UgdGhlIHN0YW5kYXJkIG5vcm1hbCB0YWJsZSB0byBmaW5kIHByb2JhYmlsaXRpZXMuXG4gKlxuICogWW91IGNhbiB1c2UgYC41ICsgLjUgKiBlcnJvckZ1bmN0aW9uKHggLyBNYXRoLnNxcnQoMikpYCB0byBjYWxjdWxhdGUgdGhlIHByb2JhYmlsaXR5XG4gKiBpbnN0ZWFkIG9mIGxvb2tpbmcgaXQgdXAgaW4gYSB0YWJsZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gelxuICogQHJldHVybnMge251bWJlcn0gY3VtdWxhdGl2ZSBzdGFuZGFyZCBub3JtYWwgcHJvYmFiaWxpdHlcbiAqL1xuZnVuY3Rpb24gY3VtdWxhdGl2ZVN0ZE5vcm1hbFByb2JhYmlsaXR5KHogLyo6bnVtYmVyICovKS8qOm51bWJlciAqLyB7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9mIHRoaXMgdmFsdWUuXG4gICAgdmFyIGFic1ogPSBNYXRoLmFicyh6KSxcbiAgICAgICAgLy8gRWFjaCByb3cgYmVnaW5zIHdpdGggYSBkaWZmZXJlbnRcbiAgICAgICAgLy8gc2lnbmlmaWNhbnQgZGlnaXQ6IDAuNSwgMC42LCAwLjcsIGFuZCBzbyBvbi4gRWFjaCB2YWx1ZSBpbiB0aGUgdGFibGVcbiAgICAgICAgLy8gY29ycmVzcG9uZHMgdG8gYSByYW5nZSBvZiAwLjAxIGluIHRoZSBpbnB1dCB2YWx1ZXMsIHNvIHRoZSB2YWx1ZSBpc1xuICAgICAgICAvLyBtdWx0aXBsaWVkIGJ5IDEwMC5cbiAgICAgICAgaW5kZXggPSBNYXRoLm1pbihNYXRoLnJvdW5kKGFic1ogKiAxMDApLCBzdGFuZGFyZE5vcm1hbFRhYmxlLmxlbmd0aCAtIDEpO1xuXG4gICAgLy8gVGhlIGluZGV4IHdlIGNhbGN1bGF0ZSBtdXN0IGJlIGluIHRoZSB0YWJsZSBhcyBhIHBvc2l0aXZlIHZhbHVlLFxuICAgIC8vIGJ1dCB3ZSBzdGlsbCBwYXkgYXR0ZW50aW9uIHRvIHdoZXRoZXIgdGhlIGlucHV0IGlzIHBvc2l0aXZlXG4gICAgLy8gb3IgbmVnYXRpdmUsIGFuZCBmbGlwIHRoZSBvdXRwdXQgdmFsdWUgYXMgYSBsYXN0IHN0ZXAuXG4gICAgaWYgKHogPj0gMCkge1xuICAgICAgICByZXR1cm4gc3RhbmRhcmROb3JtYWxUYWJsZVtpbmRleF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZHVlIHRvIGZsb2F0aW5nLXBvaW50IGFyaXRobWV0aWMsIHZhbHVlcyBpbiB0aGUgdGFibGUgd2l0aFxuICAgICAgICAvLyA0IHNpZ25pZmljYW50IGZpZ3VyZXMgY2FuIG5ldmVydGhlbGVzcyBlbmQgdXAgYXMgcmVwZWF0aW5nXG4gICAgICAgIC8vIGZyYWN0aW9ucyB3aGVuIHRoZXkncmUgY29tcHV0ZWQgaGVyZS5cbiAgICAgICAgcmV0dXJuICsoMSAtIHN0YW5kYXJkTm9ybWFsVGFibGVbaW5kZXhdKS50b0ZpeGVkKDQpO1xuICAgIH1cbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiAqKltHYXVzc2lhbiBlcnJvciBmdW5jdGlvbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FcnJvcl9mdW5jdGlvbikqKlxuICpcbiAqIFRoZSBgZXJyb3JGdW5jdGlvbih4LyhzZCAqIE1hdGguc3FydCgyKSkpYCBpcyB0aGUgcHJvYmFiaWxpdHkgdGhhdCBhIHZhbHVlIGluIGFcbiAqIG5vcm1hbCBkaXN0cmlidXRpb24gd2l0aCBzdGFuZGFyZCBkZXZpYXRpb24gc2QgaXMgd2l0aGluIHggb2YgdGhlIG1lYW4uXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgbnVtZXJpY2FsIGFwcHJveGltYXRpb24gdG8gdGhlIGV4YWN0IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IGlucHV0XG4gKiBAcmV0dXJuIHtudW1iZXJ9IGVycm9yIGVzdGltYXRpb25cbiAqIEBleGFtcGxlXG4gKiBlcnJvckZ1bmN0aW9uKDEpLnRvRml4ZWQoMik7IC8vID0+ICcwLjg0J1xuICovXG5mdW5jdGlvbiBlcnJvckZ1bmN0aW9uKHgvKjogbnVtYmVyICovKS8qOiBudW1iZXIgKi8ge1xuICAgIHZhciB0ID0gMSAvICgxICsgMC41ICogTWF0aC5hYnMoeCkpO1xuICAgIHZhciB0YXUgPSB0ICogTWF0aC5leHAoLU1hdGgucG93KHgsIDIpIC1cbiAgICAgICAgMS4yNjU1MTIyMyArXG4gICAgICAgIDEuMDAwMDIzNjggKiB0ICtcbiAgICAgICAgMC4zNzQwOTE5NiAqIE1hdGgucG93KHQsIDIpICtcbiAgICAgICAgMC4wOTY3ODQxOCAqIE1hdGgucG93KHQsIDMpIC1cbiAgICAgICAgMC4xODYyODgwNiAqIE1hdGgucG93KHQsIDQpICtcbiAgICAgICAgMC4yNzg4NjgwNyAqIE1hdGgucG93KHQsIDUpIC1cbiAgICAgICAgMS4xMzUyMDM5OCAqIE1hdGgucG93KHQsIDYpICtcbiAgICAgICAgMS40ODg1MTU4NyAqIE1hdGgucG93KHQsIDcpIC1cbiAgICAgICAgMC44MjIxNTIyMyAqIE1hdGgucG93KHQsIDgpICtcbiAgICAgICAgMC4xNzA4NzI3NyAqIE1hdGgucG93KHQsIDkpKTtcbiAgICBpZiAoeCA+PSAwKSB7XG4gICAgICAgIHJldHVybiAxIC0gdGF1O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0YXUgLSAxO1xuICAgIH1cbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgSW52ZXJzZSBbR2F1c3NpYW4gZXJyb3IgZnVuY3Rpb25dKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXJyb3JfZnVuY3Rpb24pXG4gKiByZXR1cm5zIGEgbnVtZXJpY2FsIGFwcHJveGltYXRpb24gdG8gdGhlIHZhbHVlIHRoYXQgd291bGQgaGF2ZSBjYXVzZWRcbiAqIGBlcnJvckZ1bmN0aW9uKClgIHRvIHJldHVybiB4LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IHZhbHVlIG9mIGVycm9yIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBlc3RpbWF0ZWQgaW52ZXJ0ZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gaW52ZXJzZUVycm9yRnVuY3Rpb24oeC8qOiBudW1iZXIgKi8pLyo6IG51bWJlciAqLyB7XG4gICAgdmFyIGEgPSAoOCAqIChNYXRoLlBJIC0gMykpIC8gKDMgKiBNYXRoLlBJICogKDQgLSBNYXRoLlBJKSk7XG5cbiAgICB2YXIgaW52ID0gTWF0aC5zcXJ0KE1hdGguc3FydChcbiAgICAgICAgTWF0aC5wb3coMiAvIChNYXRoLlBJICogYSkgKyBNYXRoLmxvZygxIC0geCAqIHgpIC8gMiwgMikgLVxuICAgICAgICBNYXRoLmxvZygxIC0geCAqIHgpIC8gYSkgLVxuICAgICAgICAoMiAvIChNYXRoLlBJICogYSkgKyBNYXRoLmxvZygxIC0geCAqIHgpIC8gMikpO1xuXG4gICAgaWYgKHggPj0gMCkge1xuICAgICAgICByZXR1cm4gaW52O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtaW52O1xuICAgIH1cbn1cblxuLyogQGZsb3cgKi9cblxuLyoqXG4gKiBUaGUgW1Byb2JpdF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Qcm9iaXQpXG4gKiBpcyB0aGUgaW52ZXJzZSBvZiBjdW11bGF0aXZlU3RkTm9ybWFsUHJvYmFiaWxpdHkoKSxcbiAqIGFuZCBpcyBhbHNvIGtub3duIGFzIHRoZSBub3JtYWwgcXVhbnRpbGUgZnVuY3Rpb24uXG4gKlxuICogSXQgcmV0dXJucyB0aGUgbnVtYmVyIG9mIHN0YW5kYXJkIGRldmlhdGlvbnMgZnJvbSB0aGUgbWVhblxuICogd2hlcmUgdGhlIHAndGggcXVhbnRpbGUgb2YgdmFsdWVzIGNhbiBiZSBmb3VuZCBpbiBhIG5vcm1hbCBkaXN0cmlidXRpb24uXG4gKiBTbywgZm9yIGV4YW1wbGUsIHByb2JpdCgwLjUgKyAwLjY4MjcvMikg4omIIDEgYmVjYXVzZSA2OC4yNyUgb2YgdmFsdWVzIGFyZVxuICogbm9ybWFsbHkgZm91bmQgd2l0aGluIDEgc3RhbmRhcmQgZGV2aWF0aW9uIGFib3ZlIG9yIGJlbG93IHRoZSBtZWFuLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBwXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBwcm9iaXRcbiAqL1xuZnVuY3Rpb24gcHJvYml0KHAgLyo6IG51bWJlciAqLykvKjogbnVtYmVyICovIHtcbiAgICBpZiAocCA9PT0gMCkge1xuICAgICAgICBwID0gZXBzaWxvbjtcbiAgICB9IGVsc2UgaWYgKHAgPj0gMSkge1xuICAgICAgICBwID0gMSAtIGVwc2lsb247XG4gICAgfVxuICAgIHJldHVybiBNYXRoLnNxcnQoMikgKiBpbnZlcnNlRXJyb3JGdW5jdGlvbigyICogcCAtIDEpO1xufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIENvbmR1Y3RzIGEgW3Blcm11dGF0aW9uIHRlc3RdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Jlc2FtcGxpbmdfKHN0YXRpc3RpY3MpI1Blcm11dGF0aW9uX3Rlc3RzKVxuICogdG8gZGV0ZXJtaW5lIGlmIHR3byBkYXRhIHNldHMgYXJlICpzaWduaWZpY2FudGx5KiBkaWZmZXJlbnQgZnJvbSBlYWNoIG90aGVyLCB1c2luZ1xuICogdGhlIGRpZmZlcmVuY2Ugb2YgbWVhbnMgYmV0d2VlbiB0aGUgZ3JvdXBzIGFzIHRoZSB0ZXN0IHN0YXRpc3RpYy4gXG4gKiBUaGUgZnVuY3Rpb24gYWxsb3dzIGZvciB0aGUgZm9sbG93aW5nIGh5cG90aGVzZXM6XG4gKiAtIHR3b190YWlsID0gTnVsbCBoeXBvdGhlc2lzOiB0aGUgdHdvIGRpc3RyaWJ1dGlvbnMgYXJlIGVxdWFsLlxuICogLSBncmVhdGVyID0gTnVsbCBoeXBvdGhlc2lzOiBvYnNlcnZhdGlvbnMgZnJvbSBzYW1wbGVYIHRlbmQgdG8gYmUgc21hbGxlciB0aGFuIHRob3NlIGZyb20gc2FtcGxlWS5cbiAqIC0gbGVzcyA9IE51bGwgaHlwb3RoZXNpczogb2JzZXJ2YXRpb25zIGZyb20gc2FtcGxlWCB0ZW5kIHRvIGJlIGdyZWF0ZXIgdGhhbiB0aG9zZSBmcm9tIHNhbXBsZVkuXG4gKiBbTGVhcm4gbW9yZSBhYm91dCBvbmUtdGFpbCB2cyB0d28tdGFpbCB0ZXN0cy5dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL09uZS1fYW5kX3R3by10YWlsZWRfdGVzdHMpXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzYW1wbGVYIGZpcnN0IGRhdGFzZXQgKGUuZy4gdHJlYXRtZW50IGRhdGEpXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNhbXBsZVkgc2Vjb25kIGRhdGFzZXQgKGUuZy4gY29udHJvbCBkYXRhKVxuICogQHBhcmFtIHtzdHJpbmd9IGFsdGVybmF0aXZlIGFsdGVybmF0aXZlIGh5cG90aGVzaXMsIGVpdGhlciAndHdvX3NpZGVkJyAoZGVmYXVsdCksICdncmVhdGVyJywgb3IgJ2xlc3MnXG4gKiBAcGFyYW0ge251bWJlcn0gayBudW1iZXIgb2YgdmFsdWVzIGluIHBlcm11dGF0aW9uIGRpc3RyaWJ1dGlvbi4gXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBwLXZhbHVlIFRoZSBwcm9iYWJpbGl0eSBvZiBvYnNlcnZpbmcgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBncm91cHMgKGFzIG9yIG1vcmUgZXh0cmVtZSB0aGFuIHdoYXQgd2UgZGlkKSwgYXNzdW1pbmcgdGhlIG51bGwgaHlwb3RoZXNpcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGNvbnRyb2wgPSBbMiwgNSwgMywgNiwgNywgMiwgNV07XG4gKiB2YXIgdHJlYXRtZW50ID0gWzIwLCA1LCAxMywgMTIsIDcsIDIsIDJdO1xuICogcGVybXV0YXRpb25UZXN0KGNvbnRyb2wsIHRyZWF0bWVudCk7IC8vIH4wLjEzMjQgXG4gKi9cbmZ1bmN0aW9uIHBlcm11dGF0aW9uVGVzdChcbiAgICBzYW1wbGVYLyo6IEFycmF5PG51bWJlcj4gKi8sXG4gICAgc2FtcGxlWS8qOiBBcnJheTxudW1iZXI+ICovLFxuICAgIGFsdGVybmF0aXZlLyo6IHN0cmluZyAqLyxcbiAgICBrLyo6IG51bWJlciAqLykvKjogP251bWJlciAqLyB7XG4gICAgLy8gU2V0IGRlZmF1bHQgYXJndW1lbnRzXG4gICAgaWYgKGsgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrID0gMTAwMDA7XG4gICAgfVxuICAgIGlmIChhbHRlcm5hdGl2ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFsdGVybmF0aXZlID0gJ3R3b19zaWRlJztcbiAgICB9XG4gICAgaWYgKGFsdGVybmF0aXZlICE9PSAndHdvX3NpZGUnICYmIGFsdGVybmF0aXZlICE9PSAnZ3JlYXRlcicgJiYgYWx0ZXJuYXRpdmUgIT09ICdsZXNzJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BhbHRlcm5hdGl2ZWAgbXVzdCBiZSBlaXRoZXIgXFwndHdvX3NpZGVcXCcsIFxcJ2dyZWF0ZXJcXCcsIG9yIFxcJ2xlc3NcXCcnKTtcbiAgICB9XG5cbiAgICAvLyBpbml0IHBWYWx1ZVxuICAgIHZhciBwVmFsdWU7XG5cbiAgICAvLyBnZXQgbWVhbnMgZm9yIGVhY2ggc2FtcGxlXG4gICAgdmFyIG1lYW5YID0gbWVhbihzYW1wbGVYKTtcbiAgICB2YXIgbWVhblkgPSBtZWFuKHNhbXBsZVkpO1xuXG4gICAgLy8gY2FsY3VsYXRlIGluaXRpYWwgdGVzdCBzdGF0aXN0aWMuIFRoaXMgd2lsbCBiZSBvdXIgcG9pbnQgb2YgY29tcGFyaXNvbiB3aXRoXG4gICAgLy8gdGhlIGdlbmVyYXRlZCB0ZXN0IHN0YXRpc3RpY3MuXG4gICAgdmFyIHRlc3RTdGF0aXN0aWMgPSBtZWFuWCAtIG1lYW5ZO1xuXG4gICAgLy8gY3JlYXRlIHRlc3Qtc3RhdGlzdGljIGRpc3RyaWJ1dGlvblxuICAgIHZhciB0ZXN0U3RhdERzbiA9IG5ldyBBcnJheShrKTtcbiAgICBcbiAgICAvLyBjb21iaW5lIGRhdHNldHMgc28gd2UgY2FuIGVhc2lseSBzaHVmZmxlIGxhdGVyXG4gICAgdmFyIGFsbERhdGEgPSBzYW1wbGVYLmNvbmNhdChzYW1wbGVZKTtcbiAgICB2YXIgbWlkSW5kZXggPSBNYXRoLmZsb29yKGFsbERhdGEubGVuZ3RoIC8gMik7XG4gICAgXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrOyBpKyspIHtcbiAgICAgICAgXG4gICAgICAgIC8vIDEuIHNodWZmbGUgZGF0YSBhc3NpZ25tZW50c1xuICAgICAgICBzaHVmZmxlSW5QbGFjZShhbGxEYXRhKTtcbiAgICAgICAgdmFyIHBlcm1MZWZ0ID0gYWxsRGF0YS5zbGljZSgwLCBtaWRJbmRleCk7XG4gICAgICAgIHZhciBwZXJtUmlnaHQgPSBhbGxEYXRhLnNsaWNlKG1pZEluZGV4LCBhbGxEYXRhLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gMi5yZS1jYWxjdWxhdGUgdGVzdCBzdGF0aXN0aWNcbiAgICAgICAgdmFyIHBlcm1UZXN0U3RhdGlzdGljID0gbWVhbihwZXJtTGVmdCkgLSBtZWFuKHBlcm1SaWdodCk7XG5cbiAgICAgICAgLy8gMy4gc3RvcmUgdGVzdCBzdGF0aXN0aWMgdG8gYnVpbGQgdGVzdCBzdGF0aXN0aWMgZGlzdHJpYnV0aW9uXG4gICAgICAgIHRlc3RTdGF0RHNuW2ldID0gcGVybVRlc3RTdGF0aXN0aWM7XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHAtdmFsdWUgZGVwZW5kaW5nIG9uIGFsdGVybmF0aXZlXG4gICAgLy8gRm9yIHRoaXMgdGVzdCwgd2UgY2FsY3VsYXRlIHRoZSBwZXJjZW50YWdlIG9mICdleHRyZW1lJyB0ZXN0IHN0YXRpc3RpY3MgKHN1YmplY3QgdG8gb3VyIGh5cG90aGVzaXMpXG4gICAgLy8gbW9yZSBpbmZvIG9uIHBlcm11dGF0aW9uIHRlc3QgcC12YWx1ZSBjYWxjdWxhdGlvbnM6IGh0dHBzOi8vb25saW5lY291cnNlcy5zY2llbmNlLnBzdS5lZHUvc3RhdDQ2NC9ub2RlLzM1XG4gICAgdmFyIG51bUV4dHJlbWVUU3RhdHMgPSAwO1xuICAgIGlmIChhbHRlcm5hdGl2ZSA9PT0gJ3R3b19zaWRlJykge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDw9IGs7IGkrKykge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRlc3RTdGF0RHNuW2ldKSA+PSBNYXRoLmFicyh0ZXN0U3RhdGlzdGljKSkge1xuICAgICAgICAgICAgICAgIG51bUV4dHJlbWVUU3RhdHMgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWx0ZXJuYXRpdmUgPT09ICdncmVhdGVyJykge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDw9IGs7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRlc3RTdGF0RHNuW2ldID49IHRlc3RTdGF0aXN0aWMpIHtcbiAgICAgICAgICAgICAgICBudW1FeHRyZW1lVFN0YXRzICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBhbHRlcm5hdGl2ZSA9PT0gJ2xlc3MnXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPD0gazsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGVzdFN0YXREc25baV0gPD0gdGVzdFN0YXRpc3RpYykge1xuICAgICAgICAgICAgICAgIG51bUV4dHJlbWVUU3RhdHMgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBWYWx1ZSA9IG51bUV4dHJlbWVUU3RhdHMgLyBrO1xuICAgICAgICAgICAgXG4gICAgcmV0dXJuIHBWYWx1ZTtcbiAgICAgICAgXG59XG5cbi8qIEBmbG93ICovXG5cbi8qKlxuICogW1NpZ25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NpZ25fZnVuY3Rpb24pIGlzIGEgZnVuY3Rpb25cbiAqIHRoYXQgZXh0cmFjdHMgdGhlIHNpZ24gb2YgYSByZWFsIG51bWJlclxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBzaWduIHZhbHVlIGVpdGhlciAxLCAwIG9yIC0xXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IGlmIHRoZSBpbnB1dCBhcmd1bWVudCB4IGlzIG5vdCBhIG51bWJlclxuICogQHByaXZhdGVcbiAqXG4gKiBAZXhhbXBsZVxuICogc2lnbigyKTsgLy8gPT4gMVxuICovXG5mdW5jdGlvbiBzaWduKHgvKjogbnVtYmVyICovKS8qOiBudW1iZXIgKi8ge1xuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAoeCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbm90IGEgbnVtYmVyJyk7XG4gICAgfVxufVxuXG4vKiBAZmxvdyAqL1xuXG4vKipcbiAqIFtCaXNlY3Rpb24gbWV0aG9kXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CaXNlY3Rpb25fbWV0aG9kKSBpcyBhIHJvb3QtZmluZGluZ1xuICogbWV0aG9kIHRoYXQgcmVwZWF0ZWRseSBiaXNlY3RzIGFuIGludGVydmFsIHRvIGZpbmQgdGhlIHJvb3QuXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgbnVtZXJpY2FsIGFwcHJveGltYXRpb24gdG8gdGhlIGV4YWN0IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgaW5wdXQgZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIHN0YXJ0IG9mIGludGVydmFsXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIC0gZW5kIG9mIGludGVydmFsXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4SXRlcmF0aW9ucyAtIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVyYXRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gZXJyb3JUb2xlcmFuY2UgLSB0aGUgZXJyb3IgdG9sZXJhbmNlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBlc3RpbWF0ZWQgcm9vdCB2YWx1ZVxuICogQHRocm93cyB7VHlwZUVycm9yfSBBcmd1bWVudCBmdW5jIG11c3QgYmUgYSBmdW5jdGlvblxuICpcbiAqIEBleGFtcGxlXG4gKiBiaXNlY3QoTWF0aC5jb3MsMCw0LDEwMCwwLjAwMyk7IC8vID0+IDEuNTcyMjY1NjI1XG4gKi9cbmZ1bmN0aW9uIGJpc2VjdChcbiAgICBmdW5jLyo6ICh4OiBhbnkpID0+IG51bWJlciAqLyxcbiAgICBzdGFydC8qOiBudW1iZXIgKi8sXG4gICAgZW5kLyo6IG51bWJlciAqLyxcbiAgICBtYXhJdGVyYXRpb25zLyo6IG51bWJlciAqLyxcbiAgICBlcnJvclRvbGVyYW5jZS8qOiBudW1iZXIgKi8pLyo6bnVtYmVyKi8ge1xuXG4gICAgaWYgKHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdmdW5jIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhJdGVyYXRpb25zOyBpKyspIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IChzdGFydCArIGVuZCkgLyAyO1xuXG4gICAgICAgIGlmIChmdW5jKG91dHB1dCkgPT09IDAgfHwgTWF0aC5hYnMoKGVuZCAtIHN0YXJ0KSAvIDIpIDwgZXJyb3JUb2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2lnbihmdW5jKG91dHB1dCkpID09PSBzaWduKGZ1bmMoc3RhcnQpKSkge1xuICAgICAgICAgICAgc3RhcnQgPSBvdXRwdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbmQgPSBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21heGltdW0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgZXhjZWVkZWQnKTtcbn1cblxuLyogQGZsb3cgKi9cblxuZXhwb3J0IHsgbGluZWFyUmVncmVzc2lvbiwgbGluZWFyUmVncmVzc2lvbkxpbmUsIHN0YW5kYXJkRGV2aWF0aW9uLCByU3F1YXJlZCwgbW9kZSwgbW9kZUZhc3QsIG1vZGVTb3J0ZWQsIG1pbiwgbWF4LCBleHRlbnQsIG1pblNvcnRlZCwgbWF4U29ydGVkLCBleHRlbnRTb3J0ZWQsIHN1bSwgc3VtU2ltcGxlLCBwcm9kdWN0LCBxdWFudGlsZSwgcXVhbnRpbGVTb3J0ZWQsIHF1YW50aWxlUmFuaywgcXVhbnRpbGVSYW5rU29ydGVkLCBpbnRlcnF1YXJ0aWxlUmFuZ2UsIGludGVycXVhcnRpbGVSYW5nZSBhcyBpcXIsIG1lZGlhbkFic29sdXRlRGV2aWF0aW9uLCBtZWRpYW5BYnNvbHV0ZURldmlhdGlvbiBhcyBtYWQsIGNodW5rLCBzYW1wbGVXaXRoUmVwbGFjZW1lbnQsIHNodWZmbGUsIHNodWZmbGVJblBsYWNlLCBzYW1wbGUsIGNrbWVhbnMsIHVuaXF1ZUNvdW50U29ydGVkLCBzdW1OdGhQb3dlckRldmlhdGlvbnMsIGVxdWFsSW50ZXJ2YWxCcmVha3MsIHNhbXBsZUNvdmFyaWFuY2UsIHNhbXBsZUNvcnJlbGF0aW9uLCBzYW1wbGVWYXJpYW5jZSwgc2FtcGxlU3RhbmRhcmREZXZpYXRpb24sIHNhbXBsZVNrZXduZXNzLCBzYW1wbGVLdXJ0b3NpcywgcGVybXV0YXRpb25zSGVhcCwgY29tYmluYXRpb25zLCBjb21iaW5hdGlvbnNSZXBsYWNlbWVudCwgYWRkVG9NZWFuLCBjb21iaW5lTWVhbnMsIGNvbWJpbmVWYXJpYW5jZXMsIGdlb21ldHJpY01lYW4sIGhhcm1vbmljTWVhbiwgbWVhbiBhcyBhdmVyYWdlLCBtZWFuLCBtZWRpYW4sIG1lZGlhblNvcnRlZCwgc3VidHJhY3RGcm9tTWVhbiwgcm9vdE1lYW5TcXVhcmUsIHJvb3RNZWFuU3F1YXJlIGFzIHJtcywgdmFyaWFuY2UsIHRUZXN0LCB0VGVzdFR3b1NhbXBsZSwgQmF5ZXNpYW5DbGFzc2lmaWVyLCBCYXllc2lhbkNsYXNzaWZpZXIgYXMgYmF5ZXNpYW4sIFBlcmNlcHRyb25Nb2RlbCwgUGVyY2VwdHJvbk1vZGVsIGFzIHBlcmNlcHRyb24sIGVwc2lsb24sIGZhY3RvcmlhbCwgZ2FtbWEsIGdhbW1hbG4sIGJlcm5vdWxsaURpc3RyaWJ1dGlvbiwgYmlub21pYWxEaXN0cmlidXRpb24sIHBvaXNzb25EaXN0cmlidXRpb24sIGNoaVNxdWFyZWREaXN0cmlidXRpb25UYWJsZSwgY2hpU3F1YXJlZEdvb2RuZXNzT2ZGaXQsIGtlcm5lbERlbnNpdHlFc3RpbWF0aW9uLCBrZXJuZWxEZW5zaXR5RXN0aW1hdGlvbiBhcyBrZGUsIHpTY29yZSwgY3VtdWxhdGl2ZVN0ZE5vcm1hbFByb2JhYmlsaXR5LCBzdGFuZGFyZE5vcm1hbFRhYmxlLCBlcnJvckZ1bmN0aW9uLCBlcnJvckZ1bmN0aW9uIGFzIGVyZiwgaW52ZXJzZUVycm9yRnVuY3Rpb24sIHByb2JpdCwgcGVybXV0YXRpb25UZXN0LCBiaXNlY3QsIHF1aWNrc2VsZWN0LCBzaWduLCBudW1lcmljU29ydCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2ltcGxlLXN0YXRpc3RpY3MubWpzLm1hcFxuIiwiaW1wb3J0IHttYXh9IGZyb20gJ3NpbXBsZS1zdGF0aXN0aWNzJztcbmltcG9ydCB7ZXF1YWxQb2ludHMsIHBhaXJOb2RlTGlua3MsIGVxdWFsTGlua3N9IGZyb20gXCIuL2tydXNrYWwtbXN0XCI7XG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcblxuZXhwb3J0IGNsYXNzIENsdW1weSB7XG4gICAgY29uc3RydWN0b3IodHJlZSkge1xuICAgICAgICAvL0Nsb25lIHRoZSB0cmVlIHRvIGF2b2lkIG1vZGlmeWluZyBpdFxuICAgICAgICB0aGlzLnRyZWUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRyZWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNsdW1weSBzY29yZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgc2NvcmUoKSB7XG4gICAgICAgIGxldCBhbGxSdW50UmF0aW9zID0gW107XG4gICAgICAgIHRoaXMudHJlZS5saW5rcy5mb3JFYWNoKGxpbmsgPT57XG4gICAgICAgICAgICBsZXQgcmcgPSB0aGlzLnJ1bnRHcmFwaChsaW5rKTtcbiAgICAgICAgICAgIGlmKHJnLmxlbmd0aD4wKXtcbiAgICAgICAgICAgICAgICBhbGxSdW50UmF0aW9zLnB1c2godGhpcy5tYXhMZW5ndGgocmcpL2xpbmsud2VpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmKGFsbFJ1bnRSYXRpb3MubGVuZ3RoPjApe1xuICAgICAgICAgICAgLy9Pbmx5IGlmIHRoZXJlIGFyZSBzb21lIHJ1bnQgZ3JhcGhzXG4gICAgICAgICAgICByZXR1cm4gbWF4KGFsbFJ1bnRSYXRpb3MubWFwKHJyPT4xLXJyKSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy9JbiBjYXNlIGFsbCBsZW5ndGhzIGFyZSBlcXVhbCA9PiB0aGVuIHRoZSBzY29yZSBpcyAwXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzY29yZSgpIHtcbiAgICAvLyAgICAgcmV0dXJuIG1heCh0aGlzLnRyZWUubGlua3MubWFwKGxpbms9PjEtdGhpcy5tYXhMZW5ndGgodGhpcy5ydW50R3JhcGgobGluaykpL2xpbmsud2VpZ2h0KSk7XG4gICAgLy8gfVxuICAgIC8vIHJ1bnRHcmFwaChsaW5rKXtcbiAgICAvLyAgICAgbGV0IGdyZWF0ZXJPckVxdWFsTGlua3MgPSB0aGlzLnRyZWUubGlua3MuZmlsdGVyKGw9Pmwud2VpZ2h0ID49IGxpbmsud2VpZ2h0KTtcbiAgICAvLyAgICAgLy9SZW1vdmUgdGhlIGN1cnJlbnRseSBjaGVja2luZyBsaW5rLlxuICAgIC8vICAgICBncmVhdGVyT3JFcXVhbExpbmtzID0gZ3JlYXRlck9yRXF1YWxMaW5rcy5maWx0ZXIobD0+IWVxdWFsTGlua3MobCwgbGluaykpO1xuICAgIC8vICAgICBsZXQgcGFpcmVkUmVzdWx0cyA9IHBhaXJOb2RlTGlua3MoZ3JlYXRlck9yRXF1YWxMaW5rcyk7XG4gICAgLy9cbiAgICAvLyAgICAgLy9Qcm9jZXNzIHRoZSBzb3VyY2Ugc2lkZS5cbiAgICAvLyAgICAgbGV0IHNvdXJjZUNvbm5lY3RlZE5vZGVzID0gW2xpbmsuc291cmNlXTtcbiAgICAvLyAgICAgbGV0IHNvdXJjZUNvbm5lY3RlZExpbmtzID0gdGhpcy5nZXRDb25uZWN0ZWRMaW5rcyhzb3VyY2VDb25uZWN0ZWROb2RlcywgcGFpcmVkUmVzdWx0cyk7XG4gICAgLy9cbiAgICAvLyAgICAgbGV0IHRhcmdldENvbm5lY3RlZE5vZGVzID0gW2xpbmsudGFyZ2V0XTtcbiAgICAvLyAgICAgbGV0IHRhcmdldENvbm5lY3RlZExpbmtzID0gdGhpcy5nZXRDb25uZWN0ZWRMaW5rcyh0YXJnZXRDb25uZWN0ZWROb2RlcywgcGFpcmVkUmVzdWx0cyk7XG4gICAgLy9cbiAgICAvLyAgICAgcmV0dXJuIHNvdXJjZUNvbm5lY3RlZExpbmtzLmxlbmd0aCA8IHRhcmdldENvbm5lY3RlZExpbmtzLmxlbmd0aD9zb3VyY2VDb25uZWN0ZWRMaW5rczp0YXJnZXRDb25uZWN0ZWRMaW5rcztcbiAgICAvLyB9XG4gICAgcnVudEdyYXBoKGxpbmspe1xuICAgICAgICBsZXQgZ3JlYXRlck9yRXF1YWxMaW5rcyA9IHRoaXMudHJlZS5saW5rcy5maWx0ZXIobD0+bC53ZWlnaHQgPCBsaW5rLndlaWdodCk7XG4gICAgICAgIC8vUmVtb3ZlIHRoZSBjdXJyZW50bHkgY2hlY2tpbmcgbGluay5cbiAgICAgICAgZ3JlYXRlck9yRXF1YWxMaW5rcyA9IGdyZWF0ZXJPckVxdWFsTGlua3MuZmlsdGVyKGw9PiFlcXVhbExpbmtzKGwsIGxpbmspKTtcbiAgICAgICAgbGV0IHBhaXJlZFJlc3VsdHMgPSBwYWlyTm9kZUxpbmtzKGdyZWF0ZXJPckVxdWFsTGlua3MpO1xuXG4gICAgICAgIC8vUHJvY2VzcyB0aGUgc291cmNlIHNpZGUuXG4gICAgICAgIGxldCBzb3VyY2VDb25uZWN0ZWROb2RlcyA9IFtsaW5rLnNvdXJjZV07XG4gICAgICAgIGxldCBzb3VyY2VDb25uZWN0ZWRMaW5rcyA9IHRoaXMuZ2V0Q29ubmVjdGVkTGlua3Moc291cmNlQ29ubmVjdGVkTm9kZXMsIHBhaXJlZFJlc3VsdHMpO1xuXG4gICAgICAgIGxldCB0YXJnZXRDb25uZWN0ZWROb2RlcyA9IFtsaW5rLnRhcmdldF07XG4gICAgICAgIGxldCB0YXJnZXRDb25uZWN0ZWRMaW5rcyA9IHRoaXMuZ2V0Q29ubmVjdGVkTGlua3ModGFyZ2V0Q29ubmVjdGVkTm9kZXMsIHBhaXJlZFJlc3VsdHMpO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2VDb25uZWN0ZWRMaW5rcy5sZW5ndGggPCB0YXJnZXRDb25uZWN0ZWRMaW5rcy5sZW5ndGg/c291cmNlQ29ubmVjdGVkTGlua3M6dGFyZ2V0Q29ubmVjdGVkTGlua3M7XG4gICAgfVxuXG5cbiAgICBnZXRDb25uZWN0ZWRMaW5rcyhjb25uZWN0ZWROb2RlcywgcGFpcmVkUmVzdWx0cykge1xuICAgICAgICBsZXQgcHJvY2Vzc2VkTm9kZXMgPSBbXTtcbiAgICAgICAgbGV0IGNvbm5lY3RlZExpbmtzID0gW107XG4gICAgICAgIHdoaWxlIChjb25uZWN0ZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvL0NhbiBzdG9wIGVhcmxpZXIgaWYgdGhpcyBpcyBoYXZpbmcgbW9yZSB0aGFuIGhhbGYgb2YgdGhlIGxpbmtzIGluIHRoZSB3aG9sZSB0cmVlLlxuICAgICAgICAgICAgaWYoY29ubmVjdGVkTGlua3MubGVuZ3RoID4gdGhpcy50cmVlLmxpbmtzLmxlbmd0aCArIDEpe1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGZpcnN0Tm9kZSA9IF8uZmlyc3QoY29ubmVjdGVkTm9kZXMpO1xuICAgICAgICAgICAgLy9SZW1vdmVkIHRoZSBwcm9jZXNzZWQgbm9kZXNcbiAgICAgICAgICAgIGNvbm5lY3RlZE5vZGVzID0gXy53aXRob3V0KGNvbm5lY3RlZE5vZGVzLCBmaXJzdE5vZGUpO1xuICAgICAgICAgICAgLy9BZGQgaXQgdG8gdGhlIHByb2Nlc3NlZCBub2RlXG4gICAgICAgICAgICBwcm9jZXNzZWROb2Rlcy5wdXNoKGZpcnN0Tm9kZSk7XG4gICAgICAgICAgICAvL0ZpbmQgdGhlIGVkZ2VzIGNvbm5lY3RlZCB0byB0aGF0IG5vZGUuXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gcGFpcmVkUmVzdWx0cy5maW5kKHAgPT4gcFswXSA9PT0gZmlyc3ROb2RlLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgIGxldCBsaW5rcyA9IHJlc3VsdD9yZXN1bHRbMV06W107XG4gICAgICAgICAgICBjb25uZWN0ZWRMaW5rcyA9IGNvbm5lY3RlZExpbmtzLmNvbmNhdChsaW5rcyk7XG4gICAgICAgICAgICAvL0FkZCBuZXcgbm9kZXMgdG8gYmUgcHJvY2Vzc2VkXG4gICAgICAgICAgICBsaW5rcy5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgICAgICAgIC8vSWYgdGhlIG5vZGUgaW4gdGhlIGNvbm5lY3RlZCBsaW5rIGlzIG5vdCBwcm9jZXNzZWQgPT4gdGhlbiBhZGQgaXQgdG8gYmUgcHJvY2Vzc2VkICh0byBleHBhbmQgbGF0ZXIgb24pLlxuICAgICAgICAgICAgICAgIGlmICghcG9pbnRFeGlzdHMocHJvY2Vzc2VkTm9kZXMsIGwuc291cmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0ZWROb2Rlcy5wdXNoKGwuc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIXBvaW50RXhpc3RzKHByb2Nlc3NlZE5vZGVzLCBsLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGVkTm9kZXMucHVzaChsLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3RlZExpbmtzO1xuICAgIH1cblxuICAgIG1heExlbmd0aChydW50R3JhcGgpe1xuICAgICAgICBpZihydW50R3JhcGgubGVuZ3RoPT09MCl7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4KHJ1bnRHcmFwaC5tYXAobD0+bC53ZWlnaHQpKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcG9pbnRFeGlzdHMocG9pbnRzLCBwb2ludCl7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHBvaW50MSA9IHBvaW50c1tpXTtcbiAgICAgICAgaWYgKGVxdWFsUG9pbnRzKHBvaW50MSwgcG9pbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59IiwiLyoqXG4gKiBDaGVjayBpZiBzZXQgb2YgdW5pcXVlIHBvaW50cyAobmVlZCB0byBtYWtlIHN1cmUgdGhlIHBvaW50cyBhcmUgdW5pcXVlKSBhcmUgaW4gYSBsaW5lXG4gKiBAcGFyYW0gcG9pbnRzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQTJETGluZShwb2ludHMpIHtcbiAgICBsZXQgeDEgPSBwb2ludHNbMF1bMF07XG4gICAgbGV0IHkxID0gcG9pbnRzWzBdWzFdO1xuICAgIGxldCB4MiA9IHBvaW50c1sxXVswXTtcbiAgICBsZXQgeTIgPSBwb2ludHNbMV1bMV07XG5cbiAgICBmb3IgKGxldCBpID0gMjsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgeDMgPSBwb2ludHNbaV1bMF07XG4gICAgICAgIGxldCB5MyA9IHBvaW50c1tpXVsxXTtcbiAgICAgICAgaWYgKCgoeDIgLSB4MSkgKiAoeTMgLSB5MSkgLSAoeTIgLSB5MSkgKiAoeDMgLSB4MSkpICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59IiwiaW1wb3J0IHtpc0EyRExpbmV9IGZyb20gXCIuL2xpbmVcIjtcbmltcG9ydCB7RGVsYXVuYXl9IGZyb20gXCJkMy1kZWxhdW5heVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVsYXVuYXlGcm9tUG9pbnRzKHNpdGVzKSB7XG4gICAgbGV0IGRlbGF1bmF5ID0ge307XG4gICAgLy9JZiBpdCBpcyBhIHN0cmFpZ2h0IGxpbmUgPT4gc2ltdWxhdGUgYXMgdHJpYW5nbGVzIG9mIHRocmVlIGNvbnNlY3V0aXZlIHBvaW50cyAod2l0aCBjb25uZWN0aW9uIG9mIGEgY29tbW9uIHBvaW50cyBiZXR3ZWVuIHR3byBjb25zZWN1dGl2ZSB0cmlhbmdsZXMpXG4gICAgaWYgKGlzQTJETGluZShzaXRlcykpIHtcbiAgICAgICAgbGV0IHRncyA9IFtdO1xuICAgICAgICBsZXQgc2l0ZUxlbmd0aCA9IHNpdGVzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXRlTGVuZ3RoOyBpID0gaSArIDIpIHtcbiAgICAgICAgICAgIGlmIChpICsgMSA8IHNpdGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0Z3MucHVzaChpKTtcbiAgICAgICAgICAgICAgICB0Z3MucHVzaChpICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSArIDIgPCBzaXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGdzLnB1c2goaSArIDIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaXRlTGVuZ3RoICUgMiA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGdzLnB1c2goaSAtIDEpOy8vSWYgaXQgaXMgb2RkID0+IHdlIGFkZCBiYWNrIG9uZSBwb2ludC4gdG8gbWFrZSB0aGVtIGRpdmlzaWJsZSBieSAzIChhcyB0cmlhbmdsZXMpLlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlbGF1bmF5LnRyaWFuZ2xlcyA9IHRncztcbiAgICB9IGVsc2Uge1xuICAgICAgICBkZWxhdW5heSA9IERlbGF1bmF5LmZyb20oc2l0ZXMpO1xuICAgIH1cblxuICAgIC8vVE9ETzogVGhlcmUgYXJlIG1hbnkgcGxhY2VkIHdlIG5lZWQgdGhlIHRyaWFuZ2xlQ29vcmRpbmF0ZXMgZnVuY3Rpb24gPT4gd2Ugc2hvdWxkIGJ1aWxkIGl0IGFzIGEgcHJvdG90eXBlIGluc3RlYWQgb2YgY29weS9wYXN0ZSB0aGlzIGZ1bmN0aW9uIGluIG1hbnkgZGlmZmVyZW50IHBsYWNlcy5cbiAgICBkZWxhdW5heS5wb2ludHMgPSBzaXRlcztcbiAgICBkZWxhdW5heS50cmlhbmdsZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgdHJpYW5nbGVzID0gdGhpcy50cmlhbmdsZXM7XG4gICAgICAgIGxldCB0YyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgdGMucHVzaChbXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNbdHJpYW5nbGVzW2ldXSxcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1t0cmlhbmdsZXNbaSArIDFdXSxcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1t0cmlhbmdsZXNbaSArIDJdXVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRjO1xuICAgIH1cbiAgICByZXR1cm4gZGVsYXVuYXk7XG59IiwiaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQge3F1YW50aWxlfSBmcm9tICdzaW1wbGUtc3RhdGlzdGljcyc7XG5pbXBvcnQge3BvaW50RXhpc3RzfSBmcm9tIFwiLi9jbHVtcHlcIjtcbmltcG9ydCB7Y3JlYXRlR3JhcGgsIG1zdCwgZ2V0QWxsVjJDb3JuZXJzRnJvbVRyZWUsIGdldEFsbFYyT3JHcmVhdGVyRnJvbVRyZWV9IGZyb20gXCIuL2tydXNrYWwtbXN0XCI7XG5pbXBvcnQge2RlbGF1bmF5RnJvbVBvaW50c30gZnJvbSBcIi4vZGVsYXVuYXlcIjtcblxuZXhwb3J0IGNsYXNzIE91dGx5aW5nIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmVlLCB1cHBlckJvdW5kKSB7XG4gICAgICAgIC8vQ2xvbmUgdGhlIHRyZWUgdG8gYXZvaWQgbW9kaWZ5aW5nIGl0XG4gICAgICAgIHRoaXMudHJlZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodHJlZSkpO1xuICAgICAgICB0aGlzLnVwcGVyQm91bmQgPSB1cHBlckJvdW5kO1xuXG4gICAgICAgIC8vQ2FsY3VsYXRlIHRoZSB1cHBlciBib3VuZCBpZiBpdCBpcyBub3QgcHJvdmlkZWQuXG4gICAgICAgIGlmICghdXBwZXJCb3VuZCkge1xuICAgICAgICAgICAgbGV0IHVwcGVyQm91bmQgPSBmaW5kVXBwZXJCb3VuZCh0aGlzLnRyZWUsIDEuNSk7XG4gICAgICAgICAgICAvL1NhdmUgaXQgZm9yIGRpc3BsYXlpbmcgcHVycG9zZS5cbiAgICAgICAgICAgIHRoaXMudXBwZXJCb3VuZCA9IHVwcGVyQm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgLy9NYXJrIHRoZSBsb25nIGxpbmtzXG4gICAgICAgIG1hcmtMb25nTGlua3ModGhpcy50cmVlLCB1cHBlckJvdW5kKTtcbiAgICAgICAgLy9GaW5kaW5nIG5vcm1hbCBub2Rlc1xuICAgICAgICBsZXQgbm9ybWFsTm9kZXMgPSBmaW5kTm9ybWFsTm9kZXModGhpcy50cmVlKTtcblxuICAgICAgICAvL0ZpbmRpbmcgb3V0bHlpbmcgcG9pbnRzXG4gICAgICAgIHRoaXMub3V0bHlpbmdQb2ludHMgPSBmaW5kT3V0bHlpbmdQb2ludHModGhpcy50cmVlLCBub3JtYWxOb2Rlcyk7XG4gICAgICAgIC8vTm93IG1hcmsgdGhlIG91dGx5aW5nIGxpbmtzXG4gICAgICAgIG1hcmtPdXRseWluZ0xpbmtzKHRoaXMudHJlZSwgdGhpcy5vdXRseWluZ1BvaW50cyk7XG4gICAgICAgIC8vQ3JlYXRlIG5vbmUgb3V0bHlpbmcgdHJlZVxuICAgICAgICB0aGlzLm5vT3V0bHlpbmdUcmVlID0gYnVpbGROb091dGx5aW5nVHJlZSh0aGlzLnRyZWUsIHRoaXMub3V0bHlpbmdQb2ludHMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkTm9PdXRseWluZ1RyZWUodHJlZSwgb3V0bHlpbmdQb2ludHMpIHtcbiAgICAgICAgICAgIGxldCBub091dGx5aW5nVHJlZSA9IHt9O1xuICAgICAgICAgICAgbm9PdXRseWluZ1RyZWUubm9kZXMgPSBub3JtYWxOb2RlcztcbiAgICAgICAgICAgIG5vT3V0bHlpbmdUcmVlLmxpbmtzID0gdHJlZS5saW5rcy5maWx0ZXIobCA9PiBsLmlzT3V0bHlpbmcgIT09IHRydWUpXG4gICAgICAgICAgICAvL0lmIHRoZSBvdXRseWluZyBub2RlcyBoYXMgdGhlIGRlZ3JlZSBvZiAyIG9yIGdyZWF0ZXIgPT4gaXQgd2lsbCBicmVhayB0aGUgdHJlZSBpbnRvIHN1YnRyZWVzID0+IHNvIHdlIG5lZWQgdG8gcmVidWlsZCB0aGUgdHJlZS5cbiAgICAgICAgICAgIC8vVGFrZSB0aGUgb3V0bHlpbmcgcG9pbnRzXG4gICAgICAgICAgICBsZXQgb3V0bHlpbmdQb2ludHNTdHIgPSBvdXRseWluZ1BvaW50cy5tYXAocCA9PiBwLmpvaW4oJywnKSk7XG4gICAgICAgICAgICBsZXQgdjJPckdyZWF0ZXJTdHIgPSBnZXRBbGxWMk9yR3JlYXRlckZyb21UcmVlKHRyZWUpLm1hcChwID0+IHAuam9pbignLCcpKTtcblxuICAgICAgICAgICAgbGV0IGRpZmYgPSBfLmRpZmZlcmVuY2Uob3V0bHlpbmdQb2ludHNTdHIsIHYyT3JHcmVhdGVyU3RyKTtcbiAgICAgICAgICAgIGlmIChkaWZmLmxlbmd0aCA8IG91dGx5aW5nUG9pbnRzU3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vTWVhbnMgdGhlcmUgaXMgb3V0bHlpbmcgbm9kZShzKSB3aXRoIGRlZ3JlZSAyIG9yIGhpZ2hlciAoc28gd2Ugc2hvdWxkIHJlYnVpbGQgdGhlIHRyZWUpXG4gICAgICAgICAgICAgICAgbGV0IGRlbGF1bmF5ID0gZGVsYXVuYXlGcm9tUG9pbnRzKG5vT3V0bHlpbmdUcmVlLm5vZGVzLm1hcChuID0+IG4uaWQpKTtcbiAgICAgICAgICAgICAgICBsZXQgZ3JhcGggPSBjcmVhdGVHcmFwaChkZWxhdW5heS50cmlhbmdsZUNvb3JkaW5hdGVzKCkpXG4gICAgICAgICAgICAgICAgbm9PdXRseWluZ1RyZWUgPSBtc3QoZ3JhcGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5vT3V0bHlpbmdUcmVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbWFya091dGx5aW5nTGlua3ModHJlZSwgb3V0bHlpbmdQb2ludHMpIHtcbiAgICAgICAgICAgIGlmIChvdXRseWluZ1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy9DaGVjayB0aGUgbG9uZyBsaW5rcyBvbmx5XG4gICAgICAgICAgICAgICAgdHJlZS5saW5rcy5maWx0ZXIobCA9PiBsLmlzTG9uZykuZm9yRWFjaChsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy9BbHNvIGNoZWNrIGlmIHRoZSBsaW5rIGNvbnRhaW5zIG91dGx5aW5nIHBvaW50cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50RXhpc3RzKHRoaXMub3V0bHlpbmdQb2ludHMsIGwuc291cmNlKSB8fCBwb2ludEV4aXN0cyh0aGlzLm91dGx5aW5nUG9pbnRzLCBsLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGwuaXNPdXRseWluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZpbmROb3JtYWxOb2Rlcyh0cmVlKSB7XG4gICAgICAgICAgICAvL1JlbW92ZSBsb25nIGxpbmtzXG4gICAgICAgICAgICBsZXQgbm9ybWFsTGlua3MgPSB0cmVlLmxpbmtzLmZpbHRlcihsID0+ICFsLmlzTG9uZyk7XG4gICAgICAgICAgICAvL1JlbW92ZSBvdXRseWluZyBub2RlcyAobm9kZXMgYXJlIG5vdCBpbiBhbnkgbm9uZS1sb25nIGxpbmtzKVxuICAgICAgICAgICAgbGV0IGFsbE5vZGVzV2l0aExpbmtzID0gW107XG4gICAgICAgICAgICBub3JtYWxMaW5rcy5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgICAgICAgIGFsbE5vZGVzV2l0aExpbmtzLnB1c2gobC5zb3VyY2UpO1xuICAgICAgICAgICAgICAgIGFsbE5vZGVzV2l0aExpbmtzLnB1c2gobC50YXJnZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhbGxOb2Rlc1dpdGhMaW5rcyA9IF8udW5pcShhbGxOb2Rlc1dpdGhMaW5rcywgZmFsc2UsIGQgPT4gZC5qb2luKCcsJykpO1xuICAgICAgICAgICAgbGV0IG5vcm1hbE5vZGVzID0gYWxsTm9kZXNXaXRoTGlua3MubWFwKG4gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7aWQ6IG59O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbm9ybWFsTm9kZXM7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaW5kT3V0bHlpbmdQb2ludHModHJlZSwgbm9ybWFsTm9kZXMpIHtcbiAgICAgICAgICAgIGxldCBuZXdOb2RlcyA9IG5vcm1hbE5vZGVzO1xuICAgICAgICAgICAgbGV0IG9sZE5vZGVzID0gdHJlZS5ub2RlcztcbiAgICAgICAgICAgIC8vR2V0IHRoZSBvdXRseWluZyBwb2ludHNcbiAgICAgICAgICAgIGxldCBvcHMgPSBbXTtcbiAgICAgICAgICAgIG9sZE5vZGVzLmZvckVhY2gob24gPT4ge1xuICAgICAgICAgICAgICAgIC8vLmlkIHNpbmNlIHdlIGFyZSBhY2Nlc3NpbmcgdG8gcG9pbnRzIGFuZCB0aGUgbm9kZSBpcyBpbiBmb3JtIG9mIHtpZDogdGhlUG9pbnR9XG4gICAgICAgICAgICAgICAgaWYgKCFwb2ludEV4aXN0cyhuZXdOb2Rlcy5tYXAobm4gPT4gbm4uaWQpLCBvbi5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3BzLnB1c2gob24uaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9wcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1hcmtMb25nTGlua3ModHJlZSwgdXBwZXJCb3VuZCkge1xuICAgICAgICAgICAgdHJlZS5saW5rcy5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsLndlaWdodCA+IHVwcGVyQm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgbC5pc0xvbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmluZFVwcGVyQm91bmQodHJlZSwgY29lZmZpY2llbnQpIHtcbiAgICAgICAgICAgIGxldCBhbGxMZW5ndGhzID0gdHJlZS5saW5rcy5tYXAobCA9PiBsLndlaWdodCksXG4gICAgICAgICAgICAgICAgcTEgPSBxdWFudGlsZShhbGxMZW5ndGhzLCAwLjI1KSxcbiAgICAgICAgICAgICAgICBxMyA9IHF1YW50aWxlKGFsbExlbmd0aHMsIDAuNzUpLFxuICAgICAgICAgICAgICAgIGlxciA9IHEzIC0gcTEsXG4gICAgICAgICAgICAgICAgdXBwZXJCb3VuZCA9IHEzICsgY29lZmZpY2llbnQgKiBpcXI7XG4gICAgICAgICAgICByZXR1cm4gdXBwZXJCb3VuZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb3V0bHlpbmcgc2NvcmVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHNjb3JlKCkge1xuICAgICAgICBsZXQgdG90YWxMZW5ndGhzID0gMDtcbiAgICAgICAgbGV0IHRvdGFsT3V0bHlpbmdMZW5ndGhzID0gMDtcbiAgICAgICAgdGhpcy50cmVlLmxpbmtzLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgICB0b3RhbExlbmd0aHMgKz0gbC53ZWlnaHQ7XG4gICAgICAgICAgICAvL0lmIHRoZXJlIGFyZSBvdXRseWluZyBwb2ludHMgZmlyc3QuXG4gICAgICAgICAgICBpZiAobC5pc091dGx5aW5nKSB7XG4gICAgICAgICAgICAgICAgdG90YWxPdXRseWluZ0xlbmd0aHMgKz0gbC53ZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdG90YWxPdXRseWluZ0xlbmd0aHMgLyB0b3RhbExlbmd0aHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvdXRseWluZyBsaW5rc1xuICAgICAqL1xuICAgIGxpbmtzKCkge1xuICAgICAgICBpZiAoIXRoaXMub3V0bHlpbmdMaW5rcykge1xuICAgICAgICAgICAgdGhpcy5vdXRseWluZ0xpbmtzID0gdGhpcy50cmVlLmxpbmtzLmZpbHRlcihsID0+IGwuaXNPdXRseWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub3V0bHlpbmdMaW5rcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgb3V0bHlpbmcgbGlua3MgYW5kIG5vZGVzIGFuZCByZXR1cm4gYSBuZXcgdHJlZSB3aXRob3V0IG91dGx5aW5nIHBvaW50cy9lZGdlc1xuICAgICAqL1xuICAgIHJlbW92ZU91dGx5aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub091dGx5aW5nVHJlZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBvdXRseWluZyBwb2ludHMgKGluIGZvcm0gb2YgcG9pbnRzLCBub3Qgbm9kZSBvYmplY3QpLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBwb2ludHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGx5aW5nUG9pbnRzO1xuICAgIH1cbn1cbiIsImltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgTm9ybWFsaXplciB7XG4gICAgY29uc3RydWN0b3IocG9pbnRzKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzLnNsaWNlKDApO1xuICAgICAgICBsZXQgW3hBcnIsIHlBcnJdID0gW3RoaXMueEFyciwgdGhpcy55QXJyXSA9IF8udW56aXAodGhpcy5wb2ludHMpLFxuICAgICAgICAgICAgbWF4WCA9IHRoaXMubWF4WCA9IF8ubWF4KHhBcnIpLFxuICAgICAgICAgICAgbWluWCA9IHRoaXMubWluWCA9IF8ubWluKHhBcnIpLFxuICAgICAgICAgICAgbWF4WSA9IHRoaXMubWF4WSA9IF8ubWF4KHlBcnIpLFxuICAgICAgICAgICAgbWluWSA9IHRoaXMubWluWSA9IF8ubWluKHlBcnIpLFxuICAgICAgICAgICAgcmFuZ2VYID0gdGhpcy5yYW5nZVggPSAobWF4WCE9bWluWCkgPyBtYXhYIC0gbWluWDogMSxcbiAgICAgICAgICAgIHJhbmdlWSA9IHRoaXMucmFuZ2VZID0gKG1heFkhPW1pblkpID8gbWF4WSAtIG1pblk6IDEsXG4gICAgICAgICAgICBub3JtYWxpemVkWEFyciA9IHRoaXMubm9ybWFsaXplZFhBcnIgPSB4QXJyLm1hcCh4ID0+ICh4IC0gbWluWCkgLyByYW5nZVgpLFxuICAgICAgICAgICAgbm9ybWFsaXplZFlBcnIgPSB0aGlzLm5vcm1hbGl6ZWRZQXJyID0geUFyci5tYXAoeSA9PiAoeSAtIG1pblkpIC8gcmFuZ2VZKTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkUG9pbnRzID0gXy56aXAobm9ybWFsaXplZFhBcnIsIG5vcm1hbGl6ZWRZQXJyKTtcbiAgICAgICAgLy9BZGQgb25lIHN0ZXAgdG8gcGFzcyB0aGUgZGF0YSBvdmVyIGlmIHRoZXJlIGlzLlxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm5vcm1hbGl6ZWRQb2ludHNbaV0uZGF0YSA9IHRoaXMucG9pbnRzW2ldLmRhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnB1dCBhIHNldCBvZiBwb2ludHMgaW4gdGhpcyBzY2FsZSByYW5nZSBbMCwgMV0gYW5kIHdpbGwgYmUgc2NhbGVkIGJhY2sgdG9cbiAgICAgKiAtIE9yaWdpbmFsIHNjYWxlIChbbWluWCwgbWF4WF0sIFttaW5ZLCBtYXhZXSlcbiAgICAgKiBAcGFyYW0gcG9pbnRzXG4gICAgICovXG4gICAgc2NhbGVCYWNrUG9pbnRzKHBvaW50cykge1xuICAgICAgICByZXR1cm4gcG9pbnRzLm1hcChwb2ludD0+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVCYWNrUG9pbnQocG9pbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5wdXQgYSBzaW5nbGUgcG9pbnQgaW4gdGhpcyBzY2FsZSByYW5nZSBbMCwgMV0gYW5kIHdpbGwgYmUgc2NhbGVkIGJhY2sgdG9cbiAgICAgKiAtIE9yaWdpbmFsIHNjYWxlIChbbWluWCwgbWF4WF0sIFttaW5ZLCBtYXhZXSlcbiAgICAgKiBAcGFyYW0gcG9pbnRzXG4gICAgICovXG4gICAgc2NhbGVCYWNrUG9pbnQocG9pbnQpIHtcbiAgICAgICAgbGV0IHhzID0gcG9pbnRbMF0sXG4gICAgICAgICAgICB4ID0gdGhpcy5yYW5nZVggKiB4cyArIHRoaXMubWluWCxcbiAgICAgICAgICAgIHlzID0gcG9pbnRbMV0sXG4gICAgICAgICAgICB5ID0gdGhpcy5yYW5nZVkgKiB5cyArIHRoaXMubWluWTtcbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcbiAgICB9XG59XG4iLCJpbXBvcnQge2Rpc3RhbmNlfSBmcm9tIFwiLi9rcnVza2FsLW1zdFwiO1xuaW1wb3J0IF8gZnJvbSBcInVuZGVyc2NvcmVcIjtcblxuZXhwb3J0IGNsYXNzIExlYWRlckJpbm5lcntcbiAgICBjb25zdHJ1Y3Rvcihwb2ludHMsIHJhZGl1cyl7XG4gICAgICAgIC8vVE9ETzogU2hvdWxkIGNoZWNrIGlmIHRoZXJlIGFyZSBtb3JlIHRoYW4gMyB1bmlxdWUgdmFsdWVzIGhlcmUgb3IgZXZlbiBhZnRlciB0aGUgYmlubmluZy5cbiAgICAgICAgLy9UT0RPOiBNYXkgbmVlZCB0byBjbG9uZSB0aGUgcG9pbnRzIHRvIGF2b2lkIG1vZGlmeWluZyBpdCwgYnV0IHdlIGRvbid0IGRvIHRvIHJlc2VydmUgb3RoZXIgZGF0YSBvciB0byBtYWtlIHRoZSBwcm9jZXNzIGZhc3RlclxuICAgICAgICAvLyAvL0Nsb25lIHRoZXNlIHRvIGF2b2lkIG1vZGlmeWluZyB0aGVtXG4gICAgICAgIC8vIHRoaXMucG9pbnRzID0gcG9pbnRzLm1hcChwPT5wLnNsaWNlKDApKTtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIH1cbiAgICBnZXQgbGVhZGVycygpe1xuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCB0aGVMZWFkZXJzID0gW107XG4gICAgICAgIC8vZmluZCBhbGwgdGhlIGxlYWRlcnNcbiAgICAgICAgdGhpcy5wb2ludHMuZm9yRWFjaChwb2ludD0+e1xuICAgICAgICAgICAgbGV0IGxlYWRlciA9IGNsb3Nlc3RMZWFkZXIodGhlTGVhZGVycywgcG9pbnQpO1xuICAgICAgICAgICAgaWYoIWxlYWRlcil7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0xlYWRlciA9IFtdO1xuICAgICAgICAgICAgICAgIG5ld0xlYWRlci54ID0gcG9pbnRbMF07XG4gICAgICAgICAgICAgICAgbmV3TGVhZGVyLnkgPSBwb2ludFsxXTtcbiAgICAgICAgICAgICAgICB0aGVMZWFkZXJzLnB1c2gobmV3TGVhZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vbm93IGRvIHRoaXMgYWdhaW4gdG8gc2V0IHRoZSBjbG9zZXN0IGxlYWRlci5cbiAgICAgICAgdGhpcy5wb2ludHMuZm9yRWFjaChwb2ludD0+e1xuICAgICAgICAgICBsZXQgbGVhZGVyID0gY2xvc2VzdExlYWRlcih0aGVMZWFkZXJzLCBwb2ludCk7XG4gICAgICAgICAgIGxlYWRlci5wdXNoKHBvaW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGVMZWFkZXJzO1xuICAgICAgICBmdW5jdGlvbiBjbG9zZXN0TGVhZGVyKGxlYWRlcnMsIHBvaW50KXtcbiAgICAgICAgICAgIGxldCBsZW5ndGggPSBsZWFkZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBtaW5EaXN0YW5jZSA9IDI7Ly9zZWxlY3QgMiBzaW5jZSBub3JtYWxpemVkIGRpc3RhbmNlIGNhbid0ICBiZSBncmVhdGVyIHRoYW4gMi5cbiAgICAgICAgICAgIGxldCB0aGVMZWFkZXIgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBsID0gbGVhZGVyc1tpXTtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IGRpc3RhbmNlKFtsLngsIGwueV0sIHBvaW50KTtcbiAgICAgICAgICAgICAgICBpZihkPCBzZWxmLnJhZGl1cyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQ8bWluRGlzdGFuY2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhlTGVhZGVyID0gbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGVMZWFkZXI7XG5cbiAgICAgICAgICAgIC8vIGxldCBkaXN0YW5jZXMgPSBsZWFkZXJzLm1hcChsPT5kaXN0YW5jZShbbC54LCBsLnldLCBwb2ludCkpO1xuICAgICAgICAgICAgLy8gLy9GaWx0ZXIgdGhlIGRpc3RhbmNlIHRvIGJlIDw9IHRoZSByYWRpdXNcbiAgICAgICAgICAgIC8vIGxldCBjb3BpZWREaXN0YW5jZXMgPSBkaXN0YW5jZXMuZmlsdGVyKGQ9PmQ8c2VsZi5yYWRpdXMpO1xuICAgICAgICAgICAgLy8gaWYoY29waWVkRGlzdGFuY2VzLmxlbmd0aD09PTApe1xuICAgICAgICAgICAgLy8gICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gbGV0IHRoZURpc3RhbmNlID0gXy5taW4oZGlzdGFuY2VzKTtcbiAgICAgICAgICAgIC8vIGxldCB0aGVMZWFkZXIgPSBsZWFkZXJzW2Rpc3RhbmNlcy5pbmRleE9mKHRoZURpc3RhbmNlKV07XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlTGVhZGVyO1xuICAgICAgICB9XG4gICAgfVxufSIsIi8vSW5zcGlyZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZDMvZDMtaGV4YmluL2Jsb2IvbWFzdGVyL3NyYy9oZXhiaW4uanNcbmV4cG9ydCBmdW5jdGlvbiBCaW5uZXIoKXtcbiAgICBsZXQgdGhpcmRQaSA9IE1hdGguUEkvMyxcbiAgICBhbmdsZXMgPSBbMCwgdGhpcmRQaSwgMip0aGlyZFBpLCAzKnRoaXJkUGksIDQqdGhpcmRQaSwgNSp0aGlyZFBpXTtcblxuICAgIGZ1bmN0aW9uIHBvaW50WChkKXtcbiAgICAgICAgcmV0dXJuIGRbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvaW50WShkKXtcbiAgICAgICAgcmV0dXJuIGRbMV07XG4gICAgfVxuXG4gICAgdmFyIHgwID0gMCxcbiAgICAgICAgeTAgPSAwLFxuICAgICAgICB4MSA9IDEsXG4gICAgICAgIHkxID0gMSxcbiAgICAgICAgeCA9IHBvaW50WCxcbiAgICAgICAgeSA9IHBvaW50WSxcbiAgICAgICAgcixcbiAgICAgICAgZHgsXG4gICAgICAgIGR5O1xuXG4gICAgZnVuY3Rpb24gaGV4YmluKHBvaW50cyl7XG4gICAgICAgIHZhciBiaW5zQnlJZCA9IHt9LCBiaW5zID0gW10sIGksIG4gPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpc05hTihweCA9ICt4LmNhbGwobnVsbCwgcG9pbnQgPSBwb2ludHNbaV0sIGksIHBvaW50cykpXG4gICAgICAgICAgICAgICAgfHwgaXNOYU4ocHkgPSAreS5jYWxsKG51bGwsIHBvaW50LCBpLCBwb2ludHMpKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIHZhciBwb2ludCxcbiAgICAgICAgICAgICAgICBweCxcbiAgICAgICAgICAgICAgICBweSxcbiAgICAgICAgICAgICAgICBwaiA9IE1hdGgucm91bmQocHkgPSBweSAvIGR5KSxcbiAgICAgICAgICAgICAgICBwaSA9IE1hdGgucm91bmQocHggPSBweCAvIGR4IC0gKHBqICYgMSkgLyAyKSxcbiAgICAgICAgICAgICAgICBweTEgPSBweSAtIHBqO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMocHkxKSAqIDMgPiAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIHB4MSA9IHB4IC0gcGksXG4gICAgICAgICAgICAgICAgICAgIHBpMiA9IHBpICsgKHB4IDwgcGkgPyAtMSA6IDEpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcGoyID0gcGogKyAocHkgPCBwaiA/IC0xIDogMSksXG4gICAgICAgICAgICAgICAgICAgIHB4MiA9IHB4IC0gcGkyLFxuICAgICAgICAgICAgICAgICAgICBweTIgPSBweSAtIHBqMjtcbiAgICAgICAgICAgICAgICBpZiAocHgxICogcHgxICsgcHkxICogcHkxID4gcHgyICogcHgyICsgcHkyICogcHkyKSBwaSA9IHBpMiArIChwaiAmIDEgPyAxIDogLTEpIC8gMiwgcGogPSBwajI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpZCA9IHBpICsgXCItXCIgKyBwaiwgYmluID0gYmluc0J5SWRbaWRdO1xuICAgICAgICAgICAgaWYgKGJpbikgYmluLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYmlucy5wdXNoKGJpbiA9IGJpbnNCeUlkW2lkXSA9IFtwb2ludF0pO1xuICAgICAgICAgICAgICAgIGJpbi54ID0gKHBpICsgKHBqICYgMSkgLyAyKSAqIGR4O1xuICAgICAgICAgICAgICAgIGJpbi55ID0gcGogKiBkeTtcbiAgICAgICAgICAgICAgICAvL1RPRE86IGZpeCB0aGlzIHNpbmNlIHRoZXJlIGFyZSByZXN1bHRzIHdpdGggYmluLngsIGJpbi55ID4gMSA9PiB3ZSBtYXkgbmVlZCB0byBkbyB0aGUgcm91bmRpbmcuXG4gICAgICAgICAgICAgICAgLy8gaWYoYmluLng+MSl7YmluLnggPSAxO31cbiAgICAgICAgICAgICAgICAvLyBpZihiaW4ueT4xKXtiaW4ueSA9MTt9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmlucztcbiAgICB9XG4gICAgZnVuY3Rpb24gaGV4YWdvbihyYWRpdXMpe1xuICAgICAgICB2YXIgeDAgPSAwLCB5MCA9IDA7XG4gICAgICAgIHJldHVybiBhbmdsZXMubWFwKGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICAgICAgICB2YXIgeDEgPSBNYXRoLnNpbihhbmdsZSkgKiByYWRpdXMsXG4gICAgICAgICAgICAgICAgeTEgPSAtTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzLFxuICAgICAgICAgICAgICAgIGR4ID0geDEgLSB4MCxcbiAgICAgICAgICAgICAgICBkeSA9IHkxIC0geTA7XG4gICAgICAgICAgICB4MCA9IHgxLCB5MCA9IHkxO1xuXG4gICAgICAgICAgICByZXR1cm4gW2R4LCBkeV07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vRXhwb3J0IGl0XG4gICAgdGhpcy5oZXhiaW4gPSBoZXhiaW47XG4gICAgdGhpcy5oZXhhZ29uID0gZnVuY3Rpb24ocmFkaXVzKXtcbiAgICAgICAgcmV0dXJuIFwibVwiICsgaGV4YWdvbihyYWRpdXMgPT0gbnVsbCA/IHIgOiArcmFkaXVzKS5qb2luKFwibFwiKSArIFwielwiO1xuICAgIH07XG4gICAgdGhpcy5jZW50ZXJzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGNlbnRlcnMgPSBbXSxcbiAgICAgICAgICAgIGogPSBNYXRoLnJvdW5kKHkwIC8gZHkpLFxuICAgICAgICAgICAgaSA9IE1hdGgucm91bmQoeDAgLyBkeCk7XG4gICAgICAgIGZvciAodmFyIHkgPSBqICogZHk7IHkgPCB5MSArIHI7IHkgKz0gZHksICsraikge1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IGkgKiBkeCArIChqICYgMSkgKiBkeCAvIDI7IHggPCB4MSArIGR4IC8gMjsgeCArPSBkeCkge1xuICAgICAgICAgICAgICAgIGNlbnRlcnMucHVzaChbeCwgeV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjZW50ZXJzO1xuICAgIH07XG4gICAgdGhpcy5tZXNoID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gaGV4YWdvbihyKS5zbGljZSgwLCA0KS5qb2luKFwibFwiKTtcbiAgICAgICAgcmV0dXJuIGhleGJpbi5jZW50ZXJzKCkubWFwKGZ1bmN0aW9uKHApIHsgcmV0dXJuIFwiTVwiICsgcCArIFwibVwiICsgZnJhZ21lbnQ7IH0pLmpvaW4oXCJcIik7XG4gICAgfTtcbiAgICAvL1NldHRlcnMvZ2V0dGVyc1xuICAgIHRoaXMueCA9IGZ1bmN0aW9uKF8pe1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh4ID0gXywgdGhpcykgOiB4O1xuICAgIH1cbiAgICB0aGlzLnkgPSBmdW5jdGlvbihfKXtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoeSA9IF8sIHRoaXMpIDogeTtcbiAgICB9XG4gICAgdGhpcy5yYWRpdXMgPSBmdW5jdGlvbihfKXtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAocj0gK18sIGR4ID0gciAqIDIgKiBNYXRoLnNpbih0aGlyZFBpKSwgZHkgPSByKjEuNSwgdGhpcyk6IHI7XG4gICAgfVxuICAgIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoeDAgPSB5MCA9IDAsIHgxID0gK19bMF0sIHkxID0gK19bMV0sIHRoaXMpIDogW3gxIC0geDAsIHkxIC0geTBdO1xuICAgIH07XG4gICAgdGhpcy5leHRlbnQgPSBmdW5jdGlvbihfKXtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoeDAgPSArX1swXVswXSwgeTAgPSArX1swXVsxXSwgeDEgPSArX1sxXVswXSwgeTEgPSArX1sxXVsxXSwgdGhpcyk6IFtbeDAsIHkwXSwgW3gxLCB5MV1dO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJhZGl1cygxKTtcbn0iLCJpbXBvcnQge0RlbGF1bmF5fSBmcm9tIFwiZDMtZGVsYXVuYXlcIjtcbmltcG9ydCB7Y3JlYXRlR3JhcGh9IGZyb20gXCIuL21vZHVsZXMva3J1c2thbC1tc3RcIjtcbmltcG9ydCB7bXN0fSBmcm9tIFwiLi9tb2R1bGVzL2tydXNrYWwtbXN0XCI7XG5pbXBvcnQge091dGx5aW5nfSBmcm9tIFwiLi9tb2R1bGVzL291dGx5aW5nXCI7XG5pbXBvcnQge05vcm1hbGl6ZXJ9IGZyb20gXCIuL21vZHVsZXMvbm9ybWFsaXplclwiO1xuaW1wb3J0IHtMZWFkZXJCaW5uZXJ9IGZyb20gXCIuL21vZHVsZXMvbGVhZGVyYmlubmVyXCI7XG5pbXBvcnQge0Jpbm5lcn0gZnJvbSBcIi4vbW9kdWxlcy9iaW5uZXJcIjtcbmltcG9ydCBfIGZyb20gXCJ1bmRlcnNjb3JlXCI7XG4vLyBpbXBvcnQge0Jpbm5lcn0gZnJvbSAnLi9tb2R1bGVzL2Jpbm5lcic7XG4oZnVuY3Rpb24od2luZG93KXtcbiAgICAvKipcbiAgICAgKiBpbml0aWFsaXplIGEgc2NhZ25vc3RpYyBvYmplY3RcbiAgICAgKiBAcGFyYW0gaW5wdXRQb2ludHMgICB7KltdW119IHNldCBvZiBwb2ludHMgZnJvbSB0aGUgc2NhdHRlciBwbG90XG4gICAgICogQHJldHVybnMgeypbXVtdfVxuICAgICAqL1xuICAgIHdpbmRvdy5vdXRsaWFnbm9zdGljcyA9IGZ1bmN0aW9uKGlucHV0UG9pbnRzLCBvcHRpb25zPXt9KSB7XG4gICAgICAgIGxldCBiaW5UeXBlID0gb3B0aW9ucy5iaW5UeXBlLFxuICAgICAgICAgICAgc3RhcnRCaW5HcmlkU2l6ZSA9IG9wdGlvbnMuc3RhcnRCaW5HcmlkU2l6ZSxcbiAgICAgICAgICAgIGlzTm9ybWFsaXplZCA9IG9wdGlvbnMuaXNOb3JtYWxpemVkLFxuICAgICAgICAgICAgaXNCaW5uZWQgPSBvcHRpb25zLmlzQmlubmVkLFxuICAgICAgICAgICAgb3V0bHlpbmdVcHBlckJvdW5kID0gb3B0aW9ucy5vdXRseWluZ1VwcGVyQm91bmQsXG4gICAgICAgICAgICBtaW5CaW5zID0gb3B0aW9ucy5taW5CaW5zLFxuICAgICAgICAgICAgbWF4QmlucyA9IG9wdGlvbnMubWF4QmlucztcbiAgICAgICAgLy9DbG9uZSBpdCB0byBhdm9pZCBtb2RpZnlpbmcgaXQuXG4gICAgICAgIGxldCBwb2ludHMgPSBpbnB1dFBvaW50cy5zbGljZSgwKTtcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQb2ludHMgPSBwb2ludHM7XG4gICAgICAgIC8qKioqKipUaGlzIHNlY3Rpb24gaXMgYWJvdXQgbm9ybWFsaXppbmcgdGhlIGRhdGEqKioqKiovXG4gICAgICAgIGlmKCFpc05vcm1hbGl6ZWQpe1xuICAgICAgICAgICAgbGV0IG5vcm1hbGl6ZXIgPSBuZXcgTm9ybWFsaXplcihwb2ludHMpO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQb2ludHMgPSBub3JtYWxpemVyLm5vcm1hbGl6ZWRQb2ludHM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqKioqKlRoaXMgc2VjdGlvbiBpcyBhYm91dCBmaW5kaW5nIG51bWJlciBvZiBiaW5zIGFuZCBiaW5uZXJzKioqKioqL1xuICAgICAgICBsZXQgc2l0ZXMgPSBudWxsO1xuICAgICAgICBsZXQgYmlucyA9IG51bGw7XG5cbiAgICAgICAgaWYoIWlzQmlubmVkKXsvL09ubHkgZG8gdGhlIGJpbm5pbmcgaWYgbmVlZGVkLlxuICAgICAgICAgICAgbGV0IGJpblNpemUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGJpbm5lciA9IG51bGw7XG4gICAgICAgICAgICBsZXQgYmluUmFkaXVzID0gMDtcbiAgICAgICAgICAgIGlmKCFzdGFydEJpbkdyaWRTaXplKXtcbiAgICAgICAgICAgICAgICBzdGFydEJpbkdyaWRTaXplID0gNDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaW5zID0gW107XG4gICAgICAgICAgICAvL0RlZmF1bHQgYmluIHJhbmdlXG4gICAgICAgICAgICBsZXQgbWluTnVtT2ZCaW5zID0gNTA7XG4gICAgICAgICAgICBsZXQgbWF4TnVtT2ZCaW5zID0gMjUwO1xuICAgICAgICAgICAgaWYobWluQmlucyl7XG4gICAgICAgICAgICAgICAgbWluTnVtT2ZCaW5zID1taW5CaW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYobWF4Qmlucyl7XG4gICAgICAgICAgICAgICAgbWF4TnVtT2ZCaW5zID0gbWF4QmlucztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9Eb24ndCBkbyB0aGUgYmlubmluZyBpZiB0aGUgdW5pcXVlIHNldCBvZiB2YWx1ZXMgYXJlIGxlc3MgdGhhbiA1MC4gSnVzdCByZXR1cm4gdGhlIHVuaXF1ZSBzZXQuXG4gICAgICAgICAgICBsZXQgdW5pcXVlS2V5cyA9IF8udW5pcShub3JtYWxpemVkUG9pbnRzLm1hcChwPT5wLmpvaW4oJywnKSkpO1xuICAgICAgICAgICAgbGV0IGdyb3VwcyA9IF8uZ3JvdXBCeShub3JtYWxpemVkUG9pbnRzLCBwPT5wLmpvaW4oJywnKSk7XG4gICAgICAgICAgICBpZih1bmlxdWVLZXlzLmxlbmd0aDxtaW5OdW1PZkJpbnMpe1xuICAgICAgICAgICAgICAgIHVuaXF1ZUtleXMuZm9yRWFjaChrZXk9PntcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJpbiA9IGdyb3Vwc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAvL1Rha2UgdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGZpcnN0IHBvaW50IGluIHRoZSBncm91cCB0byBiZSB0aGUgYmluIGxlYWRlciAodGhleSBzaG91bGQgaGF2ZSB0aGUgc2FtZSBwb2ludHMgYWN0dWFsbHk9PiBzbyBqdXN0IHRha2UgdGhlIGZpcnN0IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgYmluLnggPSBiaW5bMF1bMF07XG4gICAgICAgICAgICAgICAgICAgIGJpbi55ID0gYmluWzBdWzFdO1xuICAgICAgICAgICAgICAgICAgICBiaW4uYmluUmFkaXVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYmlucy5wdXNoKGJpbik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBkb3tcbiAgICAgICAgICAgICAgICAgICAgLy9TdGFydCB3aXRoIDQweDQwIGJpbnMsIGFuZCBkaXZpZGVkIGJ5IDIgZXZlcnkgdGltZSB0aGVyZSBhcmUgbW9yZSB0aGFuIG1heE51bWJlcm9mQmlucyBub25lIGVtcHR5IGNlbGxzLCBpbmNyZWFzZSA1ICgrNSkgaWYgbGVzcyB0aGFuIG1pbk51bWJlck9mQmluc1xuICAgICAgICAgICAgICAgICAgICBpZihiaW5TaXplPT09bnVsbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5TaXplID0gc3RhcnRCaW5HcmlkU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYmlucy5sZW5ndGg+bWF4TnVtT2ZCaW5zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpblNpemUgPSBiaW5TaXplLzI7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGJpbnMubGVuZ3RoPG1pbk51bU9mQmlucyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5TaXplID0gYmluU2l6ZSArIDU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoYmluVHlwZT09PVwiaGV4YWdvblwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2VjdGlvbiB1c2VzIGhleGFnb24gYmlubmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNob3J0RGlhZ29uYWwgPSAxL2JpblNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5SYWRpdXMgPSBNYXRoLnNxcnQoMykqc2hvcnREaWFnb25hbC8yO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmlubmVyID0gbmV3IEJpbm5lcigpLnJhZGl1cyhiaW5SYWRpdXMpLmV4dGVudChbWzAsIDBdLCBbMSwgMV1dKTsvL2V4dGVudCBmcm9tIFswLCAwXSB0byBbMSwgMV0gc2luY2Ugd2UgYWxyZWFkeSBub3JtYWxpemVkIGRhdGEuXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5zID0gYmlubmVyLmhleGJpbihub3JtYWxpemVkUG9pbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoIWJpblR5cGUgfHwgYmluVHlwZT09PVwibGVhZGVyXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWN0aW9uIHVzZXMgbGVhZGVyIGJpbm5lclxuICAgICAgICAgICAgICAgICAgICAgICAgYmluUmFkaXVzID0gMS8oYmluU2l6ZSoyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbm5lciA9IG5ldyBMZWFkZXJCaW5uZXIobm9ybWFsaXplZFBvaW50cywgYmluUmFkaXVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbnMgPSBiaW5uZXIubGVhZGVycztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH13aGlsZShiaW5zLmxlbmd0aCA+IG1heE51bU9mQmlucyB8fCBiaW5zLmxlbmd0aCA8IG1pbk51bU9mQmlucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaXRlcyA9IGJpbnMubWFwKGQgPT4gW2QueCwgZC55XSk7IC8vPT5zaXRlcyBhcmUgdGhlIHNldCBvZiBjZW50ZXJzIG9mIGFsbCBiaW5zXG4gICAgICAgICAgICBvdXRwdXRWYWx1ZShcImJpbnNcIiwgYmlucyk7XG4gICAgICAgICAgICBvdXRwdXRWYWx1ZShcImJpblNpemVcIiwgYmluU2l6ZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgc2l0ZXMgPSBub3JtYWxpemVkUG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqKioqKlRoaXMgc2VjdGlvbiBpcyBhYm91dCB0aGUgdHJpYW5ndWxhdGluZyBhbmQgdHJpYW5ndWxhdGluZyByZXN1bHRzKioqKioqL1xuICAgICAgICAvL1RyaWFuZ3VsYXRpb24gY2FsY3VsYXRpb25cbiAgICAgICAgbGV0IGRlbGF1bmF5ID0gRGVsYXVuYXkuZnJvbShzaXRlcyk7XG4gICAgICAgIGRlbGF1bmF5LnBvaW50cyA9IHNpdGVzO1xuICAgICAgICBkZWxhdW5heS50cmlhbmdsZUNvb3JkaW5hdGVzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGxldCB0cmlhbmdsZXMgPSB0aGlzLnRyaWFuZ2xlcztcbiAgICAgICAgICAgIGxldCB0YyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgICAgICB0Yy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludHNbdHJpYW5nbGVzW2ldXSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludHNbdHJpYW5nbGVzW2kgKyAxXV0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW3RyaWFuZ2xlc1tpICsgMl1dXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRyaWFuZ2xlQ29vcmRpbmF0ZXMgPSBkZWxhdW5heS50cmlhbmdsZUNvb3JkaW5hdGVzKCk7XG4gICAgICAgIC8qKioqKipUaGlzIHNlY3Rpb24gaXMgYWJvdXQgdGhlIHNwYW5uaW5nIHRyZWUgYW5kIHNwYW5uaW5nIHRyZWUgcmVzdWx0cyoqKioqKi9cbiAgICAgICAgLy9TcGFubmluZyB0cmVlIGNhbGN1bGF0aW9uXG4gICAgICAgIGxldCBncmFwaCA9IGNyZWF0ZUdyYXBoKHRyaWFuZ2xlQ29vcmRpbmF0ZXMpO1xuICAgICAgICBsZXQgbXN0cmVlID0gbXN0KGdyYXBoKTtcbiAgICAgICAgb3V0cHV0VmFsdWUoXCJtc3RcIiwgbXN0cmVlKTtcbiAgICAgICAgLyoqKioqKlRoaXMgc2VjdGlvbiBpcyBhYm91dCB0aGUgb3V0bHlpbmcgc2NvcmUgYW5kIG91dGx5aW5nIHNjb3JlIHJlc3VsdHMqKioqKiovXG4gICAgICAgIGxldCBvdXRseWluZyA9IG5ldyBPdXRseWluZyhtc3RyZWUsIG91dGx5aW5nVXBwZXJCb3VuZCk7XG4gICAgICAgIGxldCBvdXRseWluZ1Njb3JlID0gb3V0bHlpbmcuc2NvcmUoKTtcbiAgICAgICAgb3V0bHlpbmdVcHBlckJvdW5kID0gb3V0bHlpbmcudXBwZXJCb3VuZDtcbiAgICAgICAgbGV0IG91dGx5aW5nTGlua3MgPSBvdXRseWluZy5saW5rcygpO1xuICAgICAgICBsZXQgb3V0bHlpbmdQb2ludHMgPSBvdXRseWluZy5wb2ludHMoKTtcbiAgICAgICAgbGV0IG5vT3V0bHlpbmdUcmVlID0gb3V0bHlpbmcucmVtb3ZlT3V0bHlpbmcoKTtcbiAgICAgICAgb3V0cHV0VmFsdWUoXCJvdXRseWluZ1Njb3JlXCIsIG91dGx5aW5nU2NvcmUpO1xuICAgICAgICBvdXRwdXRWYWx1ZShcIm91dGx5aW5nVXBwZXJCb3VuZFwiLCBvdXRseWluZ1VwcGVyQm91bmQpO1xuICAgICAgICBvdXRwdXRWYWx1ZShcIm91dGx5aW5nTGlua3NcIiwgb3V0bHlpbmdMaW5rcyk7XG4gICAgICAgIG91dHB1dFZhbHVlKFwib3V0bHlpbmdQb2ludHNcIiwgb3V0bHlpbmdQb2ludHMpO1xuICAgICAgICBvdXRwdXRWYWx1ZShcIm5vT3V0bHlpbmdUcmVlXCIsIG5vT3V0bHlpbmdUcmVlKTtcblxuICAgICAgICByZXR1cm4gd2luZG93Lm91dGxpYWdub3N0aWNzO1xuICAgICAgICBmdW5jdGlvbiBvdXRwdXRWYWx1ZShuYW1lLCB2YWx1ZSl7XG4gICAgICAgICAgICB3aW5kb3cub3V0bGlhZ25vc3RpY3NbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxufSkod2luZG93KTsiXSwibmFtZXMiOlsiZ2xvYmFsIiwiXyIsInN3YXAiLCJjb21wYXJlIl0sIm1hcHBpbmdzIjoiOzs7SUFDQSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDOztBQUVqQyxJQUFlLE1BQU0sVUFBVSxDQUFDOztJQUVoQyxJQUFJLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0lBQ3BDLFFBQVEsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEdBQUcsV0FBVyxDQUFDO0lBQ3RDLFFBQVEsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEdBQUcsV0FBVyxDQUFDOztJQUV0QyxRQUFRLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDaEMsUUFBUSxNQUFNLE1BQU0sR0FBRyxJQUFJLFlBQVksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0lBRS9DLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNwQyxZQUFZLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoQyxZQUFZLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLFlBQVksTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLFNBQVM7O0lBRVQsUUFBUSxPQUFPLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RDLEtBQUs7O0lBRUwsSUFBSSxX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LEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUV0RTtJQUNBLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRCxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDOztJQUUvQztJQUNBLFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ25ELFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQixRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hCLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RDLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQixRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hCLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RDLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQixRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUVoQixRQUFRLE1BQU0sWUFBWSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFFBQVEsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLFdBQVcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDN0UsUUFBUSxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksVUFBVSxDQUFDLFlBQVksR0FBRyxDQUFDLENB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QUM7SUFDaEQsS0FBSzs7SUFFTCxJQUFJLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ25CLFFBQVEsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3JHLEtBQUs7O0lBRUwsSUFBSSxTQUFTLENBQUMsQ0FBQyxFQUFFO0lBQ2pCLFFBQVEsTUFBTSxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDLEdBQUcsSUFBSSxDQUFDOztJQUVwRCxRQUFRLE1BQU0sQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7SUFFL0I7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsUUFBUSxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QixRQUFRLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUU3QixRQUFRLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BDLFFBQVEsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEMsUUFBUSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7SUFFcEMsUUFBUSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQzs7SUFFaEMsUUFBUSxNQUFNLEVBQUUsR0FBRyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDakMsUUFBUSxNQUFNLEVB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RSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQzlDLElBQUksTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUN2QixJQUFJLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDdkIsSUFBSSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLElBQUksTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQzs7SUFFdkIsSUFBSSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDakMsSUFBSSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDakMsSUFBSSxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7O0lBRWhDLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDakQsSUFBSSxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQzs7SUFFakQsSUFBSSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xCLENBQUM7O0lBRUQ7SUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRTtJQUNyQyxJQUFJLE1BQU0sSUFBSSxHQUFHO0lBQ2pCLFFBQVEsQ0FBQztJQUNULFFBQVEsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hCLFFBQVEsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMs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QUFHLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNqRixRQUFRLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7O0lBRS9FLFFBQVEsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0QixRQUFRLE9BQU8sSUFBSSxFQUFFO0lBQ3JCLFlBQVksR0FBRyxDQUFDLEVBQUUsQ0FBQyxRQUFRLE9BQU8sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQ3RFLFlBQVksR0FBRyxDQUFDLEVBQUUsQ0FBQyxRQUFRLE9BQU8sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQ3RFLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU07SUFDN0IsWUFBWSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM1QixTQUFTO0lBQ1QsUUFBUSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvQixRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7O0lBRXRCLFFBQVEsSUFBSSxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxFQUFFO0lBQ3ZDLFlBQVksU0FBUyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDckQsWUFBWSxTQUFTLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEQsU0FBUyxNQUFNO0lBQ2YsWUFBWSxTQUFTLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEQsWUFBWSxTQUFTLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNyRCxTQUFTO0lBQ1QsS0FBSztJQUNMLENBQUM7O0lBRUQsU0FBUyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUN2QyxJQUFJLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5RCxJQUFJLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5RCxJQUFJLE9BQU8sQ0FBQyxFQUFFLEdBQUcsRUFBRSxNQUFNLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMs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Q0FBQyxDQUFDLENBQUM7SUFDckMsTUFBTSxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQixNQUFNLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwRSxNQUFNLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzVELEtBQUssUUFBUSxJQUFJLEtBQUssSUFBSSxFQUFFO0lBQzVCLElBQUksT0FBTyxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3BDLEdBQUc7SUFDSCxFQUFFLFlBQVksQ0FBQyxPQUFPLEVBQUU7SUFDeEIsSUFBSSxNQUFNLE1BQU0sR0FBRyxPQUFPLElBQUksSUFBSSxHQUFHLE9BQU8sR0FBRyxJQUFJLElBQUksR0FBRyxTQUFTLENBQUM7SUFDcEUsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckYsSUFBSSxPQUFPLE1BQU0sSUFBSSxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDcEMsR0FBRztJQUNILEVBQUUsVUFBVSxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUU7SUFDekIsSUFBSSxNQUFNLE1BQU0sR0FBRyxPQUFPLElBQUksSUFBSSxHQUFHLE9BQU8sR0FBRyxJQUFJLElBQUksR0FBRyxTQUFTLENBQUM7SUFDcEUsSUFB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Q0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN4RCxNQUFNLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRSxPQUFPLElBQUksQ0FBQztJQUMvQixNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUM3QixNQUFNLElBQUksQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUN2RixXQUFXLElBQUksQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUM1RixXQUFXLElBQUksQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUM1RixXQUFXLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzVFLE1BQU0sSUFBSSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM1RCxXQUFXLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDekQsS0FBSztJQUNMLEdBQUc7SUFDSCxFQUFFLGFBQWEsQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtJQUMvQyxJQUFJLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xDLElBQUksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2RSxJQUFJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFGLElBQUksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7SUFDcEMsTUFBTSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQ2hHLFFBQVEsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JELFFBQVEsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNwRSxPQUFPO0lBQ1AsS0FBSyxNQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxFQUFFO0lBQzNGLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkcsS0FBSztJQUNMLElBQUksT0FBTyxDQUFDLENBQUM7SUFDYixHQUFHO0lBQ0gsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUN6QixJQUFJLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFBRTtJQUN0QixNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNmLE1BQU0sUUFBUSxFQUFFO0lBQ2hCLFFBQVEsS0FBSyxNQUFNLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLFNBQVM7SUFDM0MsUUFBUSxLQUFLLE1BQU0sRUFBRSxFQUFFLEdBQUcsTUFBTSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTTtJQUN0RSxRQUFRLEtBQUssTUFBTSxFQUFFLEVBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxTQUFTO0lBQzNDLFFBQVEsS0FBSyxNQUFNLEVBQUUsRUFBRSxHQUFHLE1BQU0sRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU07SUFDdEUsUUFBUSxLQUFLLE1BQU0sRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsU0FBUztJQUMzQyxRQUFRLEtBQUssTUFBTSxFQUFFLEVBQUUsR0FBRyxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNO0lBQ3RFLFFBQVEsS0FBSyxNQUFNLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLFNBQVM7SUFDM0MsUUFBUSxLQUFLLE1BQU0sRUFBRSxFQUFFLEdBQUcsTUFBTSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTTtJQUN0RSxPQUFPO0lBQ1AsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7SUFDcEUsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsT0FBTztJQUNQLEtBQUs7SUFDTCxJQUFJLE9BQU8sQ0FBQyxDQUFDO0lBQ2IsR0FBRztJQUNILEVBQUUsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtJQUMzQixJQUFJLElBQUksQ0FBQyxHQUFHLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM5QixJQUFJLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRTtJQUNoQixNQUFNLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxJQUFJLENBQUM7SUFDdkMsTUFBTSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEYsS0FBSyxNQUFNLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRTtJQUN2QixNQUFNLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxJQUFJLENBQUM7SUFDdkMsTUFBTSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEYsS0FBSztJQUNMLElBQUksSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0lBQ2hCLE1BQU0sSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLElBQUksQ0FBQztJQUN2QyxNQUFNLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoRixLQUFLLE1BQU0sSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0lBQ3ZCLE1BQU0sSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLElBQUksQ0FBQztJQUN2QyxNQUFNLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoRixLQUFLO0lBQ0wsSUFBSSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xCLEdBQUc7SUFDSCxFQUFFLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2xCLElBQUksT0FBTyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU07SUFDcEMsVUFBVSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLEdBQUcsTUFBTTtJQUMzQyxXQUFXLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU07SUFDbkMsVUFBVSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUM7SUFDN0MsR0FBRztJQUNILEVBQUUsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDcEIsSUFBSSxPQUFPLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTTtJQUNsQyxVQUFVLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sR0FBRyxNQUFNO0lBQ3pDLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTTtJQUNqQyxVQUFVLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUMsQ0FBQztJQUMzQyxHQUFHO0lBQ0gsQ0FBQzs7SUMzUEQsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7O0lBRXhCLFNBQVMsTUFBTSxDQUFDLENBQUMsRUFBRTtJQUNuQixFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2QsQ0FBQzs7SUFFRCxTQUFTLE1BQU0sQ0FBQyxDQUFDLEVBQUU7SUFDbkIsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNkLENBQUM7O0FBRUQsSUFBZSxNQUFNLFFBQVEsQ0FBQztJQUM5QixFQUFFLFdBQVcsQ0FBQyxNQUFNLEVBQUU7SUFDdEIsSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsR0FBRyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNoRSxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLElBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQy9CLElBQUksTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlFLElBQUksTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUVoRjtJQUNBLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRTtJQUN0RCxNQUFNLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUQsS0FBSzs7SUFFTDtJQUNBLElBQUksSUFBSSxLQUFLLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQztJQUM1QixJQUFJLEdBQUc7SUFDUCxNQUFNLEtBQUssR0FBRyxLQUFLLEVBQUUsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7SUFDeEMsTUFBTSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDakMsTUFBTSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDbEMsS0FBSyxRQUFRLEtBQUssS0FBSyxJQUFJLEVBQUU7SUFDN0IsR0FBRztJQUNILEVBQUUsT0FBTyxDQUFDLE1BQU0sRUFBRTtJQUNsQixJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3JDLEdBQUc7SUFDSCxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRTtJQUNoQixJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDM0QsSUFBSSxNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUIsSUFBSSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxPQUFPO0lBQzFCLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ2YsSUFBSSxHQUFHO0lBQ1AsTUFBTSxNQUFNLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6QixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEMsTUFBTSxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsT0FBTztJQUNyQyxNQUFNLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkIsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxPQUFPLE1BQU0sU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hELEtBQUssUUFBUSxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ3ZCLEdBQUc7SUFDSCxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDcEIsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzFELElBQUksSUFBSSxDQUFDLENBQUM7SUFDVixJQUFJLE9BQU8sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUQsSUFBSSxPQUFPLENBQUMsQ0FBQztJQUNiLEdBQUc7SUFDSCxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNqQixJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQ25DLElBQUksSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUNyQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNkLElBQUksSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JFLElBQUksS0FBSyxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQ3ZDLE1BQU0sTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pFLE1BQU0sSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNsQyxLQUFLO0lBQ0wsSUFBSSxPQUFPLENBQUMsQ0FBQztJQUNiLEdBQUc7SUFDSCxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUU7SUFDbEIsSUFBSSxNQUFNLE1BQU0sR0FBRyxPQUFPLElBQUksSUFBSSxHQUFHLE9BQU8sR0FBRyxJQUFJLElBQUksR0FBRyxTQUFTLENBQUM7SUFDcEUsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDaEQsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO0lBQ3RELE1BQU0sTUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdCLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLFNBQVM7SUFDMUIsTUFBTSxNQUFNLEVBQUUsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2xDLE1BQU0sTUFBTSxFQUFFLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNsQyxNQUFNLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRCxNQUFNLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRCxLQUFLO0lBQ0wsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzdCLElBQUksT0FBTyxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3BDLEdBQUc7SUFDSCxFQUFFLFlBQVksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRTtJQUMvQixJQUFJLE1BQU0sTUFBTSxHQUFHLE9BQU8sSUFBSSxJQUFJLEdBQUcsT0FBTyxHQUFHLElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQztJQUNwRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDMUIsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDdEQsTUFBTSxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDN0MsTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDL0IsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNuQyxLQUFLO0lBQ0wsSUFBSSxPQUFPLE1BQU0sSUFBSSxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDcEMsR0FBRztJQUNILEVBQUUsVUFBVSxDQUFDLE9BQU8sRUFBRTtJQUN0QixJQUFJLE1BQU0sTUFBTSxHQUFHLE9BQU8sSUFBSSxJQUFJLEdBQUcsT0FBTyxHQUFHLElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQztJQUNwRSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDeEIsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7SUFDcEIsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25DLElBQUksT0FBTyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEtBQUssSUFBSSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0UsSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDeEIsSUFBSSxPQUFPLE1BQU0sSUFBSSxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDcEMsR0FBRztJQUNILEVBQUUsV0FBVyxHQUFHO0lBQ2hCLElBQUksTUFBTSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUM7SUFDaEMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzdCLElBQUksT0FBTyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDM0IsR0FBRztJQUNILEVBQUUsY0FBYyxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUU7SUFDN0IsSUFBSSxNQUFNLE1BQU0sR0FBRyxPQUFPLElBQUksSUFBSSxHQUFHLE9BQU8sR0FBRyxJQUFJLElBQUksR0FBRyxTQUFTLENBQUM7SUFDcEUsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQztJQUNyQyxJQUFJLE1BQU0sRUFBRSxHQUFHLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JDLElBQUksTUFBTSxFQUFFLEdBQUcsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEMsSUFBSSxNQUFNLEVBQUUsR0FBRyxTQUFTLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvQyxJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUN4QixJQUFJLE9BQU8sTUFBTSxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNwQyxHQUFHO0lBQ0gsRUFBRSxDQUFDLGdCQUFnQixHQUFHO0lBQ3RCLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQztJQUM3QixJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO0lBQzFELE1BQU0sTUFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLEtBQUs7SUFDTCxHQUFHO0lBQ0gsRUFBRSxlQUFlLENBQUMsQ0FBQyxFQUFFO0lBQ3JCLElBQUksTUFBTSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUM7SUFDaEMsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNwQyxJQUFJLE9BQU8sT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzNCLEdBQUc7SUFDSCxDQUFDOztJQUVELFFBQVEsQ0FBQyxJQUFJLEdBQUcsU0FBUyxNQUFNLEVBQUUsRUFBRSxHQUFHLE1BQU0sRUFBRSxFQUFFLEdBQUcsTUFBTSxFQUFFLElBQUksRUFBRTtJQUNqRSxFQUFFLE9BQU8sSUFBSSxRQUFRLENBQUMsUUFBUSxJQUFJLE1BQU07SUFDeEMsUUFBUSxTQUFTLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDO0lBQ3ZDLFFBQVEsWUFBWSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9ELENBQUMsQ0FBQzs7SUFFRixTQUFTLFNBQVMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUU7SUFDekMsRUFBRSxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQzFCLEVBQUUsTUFBTSxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLEVBQUUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRTtJQUM5QixJQUFJLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QixJQUFJLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMvQyxJQUFJLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDbkQsR0FBRztJQUNILEVBQUUsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDOztJQUVELFVBQVUsWUFBWSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRTtJQUM3QyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNaLEVBQUUsS0FBSyxNQUFNLENBQUMsSUFBSSxNQUFNLEVBQUU7SUFDMUIsSUFBSSxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdEMsSUFBSSxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdEMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUNSLEdBQUc7SUFDSCxDQUFDOzs7Ozs7Ozs7SUM5SkQ7Ozs7O0lBS0EsQ0FBQyxXQUFXOzs7Ozs7OztNQVFWLElBQUksSUFBSSxHQUFHLE9BQU8sSUFBSSxJQUFJLFFBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJO2dCQUN0RCxPQUFPQSxjQUFNLElBQUksUUFBUSxJQUFJQSxjQUFNLENBQUMsTUFBTSxLQUFLQSxjQUFNLElBQUlBLGNBQU07Z0JBQy9ELElBQUk7Z0JBQ0osRUFBRSxDQUFDOzs7TUFHYixJQUFJLGtCQUFrQixHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7OztNQUdoQyxJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsU0FBUyxFQUFFLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO01BQzlELElBQUksV0FBVyxHQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsR0FBRyxNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQzs7O01BRzFFLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJO1VBQ3RCLEtBQUssR0FBRyxVQUFVLENBQUMsS0FBSztVQUN4QixRQUFRLEdBQUcsUUFBUSxDQUFDLFFBQVE7VUFDNUIsY0FBYyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUM7Ozs7TUFJN0MsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDLE9BQU87VUFDN0IsVUFBVSxHQUFHLE1BQU0sQ0FBQyxJQUFJO1VBQ3hCLFlBQVksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDOzs7TUFHakMsSUFBSSxJQUFJLEdBQUcsVUFBVSxFQUFFLENBQUM7OztNQUd4QixJQUFJLENBQUMsR0FBRyxTQUFTLEdBQUcsRUFBRTtRQUNwQixJQUFJLEdBQUcsWUFBWSxDQUFDLEVBQUUsT0FBTyxHQUFHLENBQUM7UUFDakMsSUFBSSxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO09BQ3JCLENBQUM7Ozs7Ozs7TUFPRixJQUFJLEFBQWlDLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRTtRQUN0RCxJQUFJLEFBQWdDLENBQUMsTUFBTSxDQUFDLFFBQVEsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFO1VBQ3RFLE9BQU8sR0FBRyxjQUFjLEdBQUcsQ0FBQyxDQUFDO1NBQzlCO1FBQ0QsU0FBUyxHQUFHLENBQUMsQ0FBQztPQUNmLE1BQU07UUFDTCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztPQUNaOzs7TUFHRCxDQUFDLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQzs7Ozs7TUFLcEIsSUFBSSxVQUFVLEdBQUcsU0FBUyxJQUFJLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRTtRQUNqRCxJQUFJLE9BQU8sS0FBSyxLQUFLLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQztRQUNwQyxRQUFRLFFBQVEsSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLFFBQVE7VUFDckMsS0FBSyxDQUFDLEVBQUUsT0FBTyxTQUFTLEtBQUssRUFBRTtZQUM3QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1dBQ2xDLENBQUM7O1VBRUYsS0FBSyxDQUFDLEVBQUUsT0FBTyxTQUFTLEtBQUssRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFO1lBQ2hELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztXQUNyRCxDQUFDO1VBQ0YsS0FBSyxDQUFDLEVBQUUsT0FBTyxTQUFTLFdBQVcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRTtZQUM3RCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1dBQ2xFLENBQUM7U0FDSDtRQUNELE9BQU8sV0FBVztVQUNoQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQ3ZDLENBQUM7T0FDSCxDQUFDOztNQUVGLElBQUksZUFBZSxDQUFDOzs7OztNQUtwQixJQUFJLEVBQUUsR0FBRyxTQUFTLEtBQUssRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFO1FBQzFDLElBQUksQ0FBQyxDQUFDLFFBQVEsS0FBSyxlQUFlLEVBQUUsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN0RSxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxPQUFPLFVBQVUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BFLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztPQUMxQixDQUFDOzs7OztNQUtGLENBQUMsQ0FBQyxRQUFRLEdBQUcsZUFBZSxHQUFHLFNBQVMsS0FBSyxFQUFFLE9BQU8sRUFBRTtRQUN0RCxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO09BQ3JDLENBQUM7Ozs7Ozs7TUFPRixJQUFJLGFBQWEsR0FBRyxTQUFTLElBQUksRUFBRSxVQUFVLEVBQUU7UUFDN0MsVUFBVSxHQUFHLFVBQVUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUM7UUFDaEUsT0FBTyxXQUFXO1VBQ2hCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLEVBQUUsQ0FBQyxDQUFDO2NBQ25ELElBQUksR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO2NBQ3BCLEtBQUssR0FBRyxDQUFDLENBQUM7VUFDZCxPQUFPLEtBQUssR0FBRyxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLFNBQVMsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLENBQUM7V0FDN0M7VUFDRCxRQUFRLFVBQVU7WUFDaEIsS0FBSyxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUNyQyxLQUFLLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUNuRCxLQUFLLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7V0FDbEU7VUFDRCxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDO1VBQ2pDLEtBQUssS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsVUFBVSxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7V0FDaEM7VUFDRCxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDO1VBQ3hCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDL0IsQ0FBQztPQUNILENBQUM7OztNQUdGLElBQUksVUFBVSxHQUFHLFNBQVMsU0FBUyxFQUFFO1FBQ25DLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDO1FBQ3RDLElBQUksWUFBWSxFQUFFLE9BQU8sWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLE9BQU8sTUFBTSxDQUFDO09BQ2YsQ0FBQzs7TUFFRixJQUFJLGVBQWUsR0FBRyxTQUFTLEdBQUcsRUFBRTtRQUNsQyxPQUFPLFNBQVMsR0FBRyxFQUFFO1VBQ25CLE9BQU8sR0FBRyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDeEMsQ0FBQztPQUNILENBQUM7O01BRUYsSUFBSSxHQUFHLEdBQUcsU0FBUyxHQUFHLEVBQUUsSUFBSSxFQUFFO1FBQzVCLE9BQU8sR0FBRyxJQUFJLElBQUksSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RDs7TUFFRCxJQUFJLE9BQU8sR0FBRyxTQUFTLEdBQUcsRUFBRSxJQUFJLEVBQUU7UUFDaEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN6QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1VBQy9CLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxPQUFPLEtBQUssQ0FBQyxDQUFDO1VBQy9CLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEI7UUFDRCxPQUFPLE1BQU0sR0FBRyxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUM7T0FDOUIsQ0FBQzs7Ozs7O01BTUYsSUFBSSxlQUFlLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO01BQzFDLElBQUksU0FBUyxHQUFHLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztNQUMxQyxJQUFJLFdBQVcsR0FBRyxTQUFTLFVBQVUsRUFBRTtRQUNyQyxJQUFJLE1BQU0sR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkMsT0FBTyxPQUFPLE1BQU0sSUFBSSxRQUFRLElBQUksTUFBTSxJQUFJLENBQUMsSUFBSSxNQUFNLElBQUksZUFBZSxDQUFDO09BQzlFLENBQUM7Ozs7Ozs7O01BUUYsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLFNBQVMsR0FBRyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUU7UUFDcEQsUUFBUSxHQUFHLFVBQVUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLEVBQUUsTUFBTSxDQUFDO1FBQ2QsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUU7VUFDcEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDaEQsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7V0FDMUI7U0FDRixNQUFNO1VBQ0wsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztVQUN2QixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqRCxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztXQUN0QztTQUNGO1FBQ0QsT0FBTyxHQUFHLENBQUM7T0FDWixDQUFDOzs7TUFHRixDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxPQUFPLEdBQUcsU0FBUyxHQUFHLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRTtRQUNuRCxRQUFRLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNqQyxJQUFJLElBQUksR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztZQUN2QyxNQUFNLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFFLE1BQU07WUFDN0IsT0FBTyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1QixLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFO1VBQzNDLElBQUksVUFBVSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDO1VBQzVDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUM3RDtRQUNELE9BQU8sT0FBTyxDQUFDO09BQ2hCLENBQUM7OztNQUdGLElBQUksWUFBWSxHQUFHLFNBQVMsR0FBRyxFQUFFOzs7UUFHL0IsSUFBSSxPQUFPLEdBQUcsU0FBUyxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7VUFDbkQsSUFBSSxJQUFJLEdBQUcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7Y0FDdkMsTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLEdBQUcsRUFBRSxNQUFNO2NBQzdCLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1VBQ3JDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDWixJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFDdkMsS0FBSyxJQUFJLEdBQUcsQ0FBQztXQUNkO1VBQ0QsT0FBTyxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssR0FBRyxNQUFNLEVBQUUsS0FBSyxJQUFJLEdBQUcsRUFBRTtZQUNqRCxJQUFJLFVBQVUsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQztZQUM1QyxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1dBQ3pEO1VBQ0QsT0FBTyxJQUFJLENBQUM7U0FDYixDQUFDOztRQUVGLE9BQU8sU0FBUyxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7VUFDNUMsSUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUM7VUFDcEMsT0FBTyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztTQUN0RSxDQUFDO09BQ0gsQ0FBQzs7OztNQUlGLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQzs7O01BR2hELENBQUMsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7O01BRzNDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxTQUFTLEdBQUcsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO1FBQ3BELElBQUksU0FBUyxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFDM0QsSUFBSSxHQUFHLEdBQUcsU0FBUyxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDN0MsSUFBSSxHQUFHLEtBQUssS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxFQUFFLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO09BQ25ELENBQUM7Ozs7TUFJRixDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsU0FBUyxHQUFHLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtRQUN0RCxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDakIsU0FBUyxHQUFHLEVBQUUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDbkMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsU0FBUyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRTtVQUN2QyxJQUFJLFNBQVMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDeEQsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxPQUFPLENBQUM7T0FDaEIsQ0FBQzs7O01BR0YsQ0FBQyxDQUFDLE1BQU0sR0FBRyxTQUFTLEdBQUcsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO1FBQzNDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztPQUN4RCxDQUFDOzs7O01BSUYsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLFNBQVMsR0FBRyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUU7UUFDbEQsU0FBUyxHQUFHLEVBQUUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDbkMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7WUFDdkMsTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLEdBQUcsRUFBRSxNQUFNLENBQUM7UUFDbEMsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBRTtVQUMzQyxJQUFJLFVBQVUsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQztVQUM1QyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxVQUFVLEVBQUUsR0FBRyxDQUFDLEVBQUUsT0FBTyxLQUFLLENBQUM7U0FDaEU7UUFDRCxPQUFPLElBQUksQ0FBQztPQUNiLENBQUM7Ozs7TUFJRixDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsU0FBUyxHQUFHLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtRQUNqRCxTQUFTLEdBQUcsRUFBRSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNuQyxJQUFJLElBQUksR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztZQUN2QyxNQUFNLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFFLE1BQU0sQ0FBQztRQUNsQyxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFO1VBQzNDLElBQUksVUFBVSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDO1VBQzVDLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxVQUFVLEVBQUUsR0FBRyxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUM7U0FDOUQ7UUFDRCxPQUFPLEtBQUssQ0FBQztPQUNkLENBQUM7Ozs7TUFJRixDQUFDLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLE9BQU8sR0FBRyxTQUFTLEdBQUcsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRTtRQUMxRSxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcs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SUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFOztVQUVuQixPQUFPLEdBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDL0I7UUFDRCxJQUFJLFdBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwRCxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7T0FDdEIsQ0FBQzs7O01BR0YsQ0FBQyxDQUFDLElBQUksR0FBRyxTQUFTLEdBQUcsRUFBRTtRQUNyQixJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDMUIsT0FBTyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztPQUMzRCxDQUFDOzs7O01BSUYsQ0FBQyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsU0FBUyxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRTtRQUNoRCxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7T0FDbEMsRUFBRSxJQUFJLENBQUMsQ0FBQzs7Ozs7Ozs7TUFRVCxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxTQUFTLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFO1FBQ3BELElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxPQUFPLENBQUMsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3RFLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUUsT0FBTyxLQUFLLENBQUMsQ0FBQyxD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LEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5RixDQUFDOztBQUVELElBQU8sU0FBUyxXQUFXLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRTtJQUN0QyxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQ3BELENBQUM7O0FBRUQsSUFBTyxTQUFTLFVBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ25DLElBQUksT0FBTyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxXQUFXLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO0lBQ2xGLFNBQVMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLFdBQVcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2pGLENBQUM7O0FBRUQsSUFBTyxTQUFTLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFO0lBQ3BDLElBQUksSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUM5QixJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO0lBQzFDLFFBQVEsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLFFBQVEsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRTtJ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QUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzlDLFlBQVksSUFBSSxFQUFFLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDMUQsWUFBWSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEMsWUFBWSxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pFLFlBQVksSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqRixZQUFZLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNuRCxTQUFTOztJQUVULFFBQVEsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZCLFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLFFBQVEsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDOztJQUV0QixRQUFRQyxNQUFJLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzQixRQUFRLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRUEsTUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7O0lBRW5ELFFBQVEsT0FBTyxDQUFDLEdBQUcs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O0lBQ3ZCLEtBQUssQ0FBQztJQUNOLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxVQUFVO0lBQzFCLFFBQVEsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hELFFBQVEsT0FBTyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQy9GLEtBQUssQ0FBQztJQUNOO0lBQ0EsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDO0lBQ3hCLFFBQVEsT0FBTyxTQUFTLENBQUMsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsQ0FBQztJQUNwRCxNQUFLO0lBQ0wsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDO0lBQ3hCLFFBQVEsT0FBTyxTQUFTLENBQUMsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsQ0FBQztJQUNwRCxNQUFLO0lBQ0wsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxDQUFDO0lBQzdCLFFBQVEsT0FBTyxTQUFTLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksR0FBRyxDQUFDLENBQUM7SUFDL0YsTUFBSztJQUNMLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUMsRUFBRTtJQUM1QixRQUFRLE9BQU8sU0FB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
